require.config({"config": {
        "jsbuild":{"Magento_Tinymce3/tiny_mce/plugins/spellchecker/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\tvar JSONRequest = tinymce.util.JSONRequest, each = tinymce.each, DOM = tinymce.DOM;\r\n\r\n\ttinymce.create('tinymce.plugins.SpellcheckerPlugin', {\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Spellchecker',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/spellchecker',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tinit : function(ed, url) {\r\n\t\t\tvar t = this, cm;\r\n\r\n\t\t\tt.url = url;\r\n\t\t\tt.editor = ed;\r\n\t\t\tt.rpcUrl = ed.getParam(\"spellchecker_rpc_url\", \"{backend}\");\r\n\r\n\t\t\tif (t.rpcUrl == '{backend}') {\r\n\t\t\t\t// Sniff if the browser supports native spellchecking (Don't know of a better way)\r\n\t\t\t\tif (tinymce.isIE)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tt.hasSupport = true;\r\n\r\n\t\t\t\t// Disable the context menu when spellchecking is active\r\n\t\t\t\ted.onContextMenu.addToTop(function(ed, e) {\r\n\t\t\t\t\tif (t.active)\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Register commands\r\n\t\t\ted.addCommand('mceSpellCheck', function() {\r\n\t\t\t\tif (t.rpcUrl == '{backend}') {\r\n\t\t\t\t\t// Enable/disable native spellchecker\r\n\t\t\t\t\tt.editor.getBody().spellcheck = t.active = !t.active;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!t.active) {\r\n\t\t\t\t\ted.setProgressState(1);\r\n\t\t\t\t\tt._sendRPC('checkWords', [t.selectedLang, t._getWords()], function(r) {\r\n\t\t\t\t\t\tif (r.length > 0) {\r\n\t\t\t\t\t\t\tt.active = 1;\r\n\t\t\t\t\t\t\tt._markWords(r);\r\n\t\t\t\t\t\t\ted.setProgressState(0);\r\n\t\t\t\t\t\t\ted.nodeChanged();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ted.setProgressState(0);\r\n\r\n\t\t\t\t\t\t\tif (ed.getParam('spellchecker_report_no_misspellings', true))\r\n\t\t\t\t\t\t\t\ted.windowManager.alert('spellchecker.no_mpell');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else\r\n\t\t\t\t\tt._done();\r\n\t\t\t});\r\n\r\n\t\t\tif (ed.settings.content_css !== false)\r\n\t\t\t\ted.contentCSS.push(url + '/css/content.css');\r\n\r\n\t\t\ted.onClick.add(t._showMenu, t);\r\n\t\t\ted.onContextMenu.add(t._showMenu, t);\r\n\t\t\ted.onBeforeGetContent.add(function() {\r\n\t\t\t\tif (t.active)\r\n\t\t\t\t\tt._removeWords();\r\n\t\t\t});\r\n\r\n\t\t\ted.onNodeChange.add(function(ed, cm) {\r\n\t\t\t\tcm.setActive('spellchecker', t.active);\r\n\t\t\t});\r\n\r\n\t\t\ted.onSetContent.add(function() {\r\n\t\t\t\tt._done();\r\n\t\t\t});\r\n\r\n\t\t\ted.onBeforeGetContent.add(function() {\r\n\t\t\t\tt._done();\r\n\t\t\t});\r\n\r\n\t\t\ted.onBeforeExecCommand.add(function(ed, cmd) {\r\n\t\t\t\tif (cmd == 'mceFullScreen')\r\n\t\t\t\t\tt._done();\r\n\t\t\t});\r\n\r\n\t\t\t// Find selected language\r\n\t\t\tt.languages = {};\r\n\t\t\teach(ed.getParam('spellchecker_languages', '+English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr,German=de,Italian=it,Polish=pl,Portuguese=pt,Spanish=es,Swedish=sv', 'hash'), function(v, k) {\r\n\t\t\t\tif (k.indexOf('+') === 0) {\r\n\t\t\t\t\tk = k.substring(1);\r\n\t\t\t\t\tt.selectedLang = v;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tt.languages[k] = v;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tcreateControl : function(n, cm) {\r\n\t\t\tvar t = this, c, ed = t.editor;\r\n\r\n\t\t\tif (n == 'spellchecker') {\r\n\t\t\t\t// Use basic button if we use the native spellchecker\r\n\t\t\t\tif (t.rpcUrl == '{backend}') {\r\n\t\t\t\t\t// Create simple toggle button if we have native support\r\n\t\t\t\t\tif (t.hasSupport)\r\n\t\t\t\t\t\tc = cm.createButton(n, {title : 'spellchecker.desc', cmd : 'mceSpellCheck', scope : t});\r\n\r\n\t\t\t\t\treturn c;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tc = cm.createSplitButton(n, {title : 'spellchecker.desc', cmd : 'mceSpellCheck', scope : t});\r\n\r\n\t\t\t\tc.onRenderMenu.add(function(c, m) {\r\n\t\t\t\t\tm.add({title : 'spellchecker.langs', 'class' : 'mceMenuItemTitle'}).setDisabled(1);\r\n\t\t\t\t\teach(t.languages, function(v, k) {\r\n\t\t\t\t\t\tvar o = {icon : 1}, mi;\r\n\r\n\t\t\t\t\t\to.onclick = function() {\r\n\t\t\t\t\t\t\tif (v == t.selectedLang) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmi.setSelected(1);\r\n\t\t\t\t\t\t\tt.selectedItem.setSelected(0);\r\n\t\t\t\t\t\t\tt.selectedItem = mi;\r\n\t\t\t\t\t\t\tt.selectedLang = v;\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\to.title = k;\r\n\t\t\t\t\t\tmi = m.add(o);\r\n\t\t\t\t\t\tmi.setSelected(v == t.selectedLang);\r\n\r\n\t\t\t\t\t\tif (v == t.selectedLang)\r\n\t\t\t\t\t\t\tt.selectedItem = mi;\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn c;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Internal functions\r\n\r\n\t\t_walk : function(n, f) {\r\n\t\t\tvar d = this.editor.getDoc(), w;\r\n\r\n\t\t\tif (d.createTreeWalker) {\r\n\t\t\t\tw = d.createTreeWalker(n, NodeFilter.SHOW_TEXT, null, false);\r\n\r\n\t\t\t\twhile ((n = w.nextNode()) != null)\r\n\t\t\t\t\tf.call(this, n);\r\n\t\t\t} else\r\n\t\t\t\ttinymce.walk(n, f, 'childNodes');\r\n\t\t},\r\n\r\n\t\t_getSeparators : function() {\r\n\t\t\tvar re = '', i, str = this.editor.getParam('spellchecker_word_separator_chars', '\\\\s!\"#$%&()*+,-./:;<=>?@[\\]^_{|}\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\\u201d\\u201c');\r\n\r\n\t\t\t// Build word separator regexp\r\n\t\t\tfor (i=0; i<str.length; i++)\r\n\t\t\t\tre += '\\\\' + str.charAt(i);\r\n\r\n\t\t\treturn re;\r\n\t\t},\r\n\r\n\t\t_getWords : function() {\r\n\t\t\tvar ed = this.editor, wl = [], tx = '', lo = {}, rawWords = [];\r\n\r\n\t\t\t// Get area text\r\n\t\t\tthis._walk(ed.getBody(), function(n) {\r\n\t\t\t\tif (n.nodeType == 3)\r\n\t\t\t\t\ttx += n.nodeValue + ' ';\r\n\t\t\t});\r\n\r\n\t\t\t// split the text up into individual words\r\n\t\t\tif (ed.getParam('spellchecker_word_pattern')) {\r\n\t\t\t\t// look for words that match the pattern\r\n\t\t\t\trawWords = tx.match('(' + ed.getParam('spellchecker_word_pattern') + ')', 'gi');\r\n\t\t\t} else {\r\n\t\t\t\t// Split words by separator\r\n\t\t\t\ttx = tx.replace(new RegExp('([0-9]|[' + this._getSeparators() + '])', 'g'), ' ');\r\n\t\t\t\ttx = tinymce.trim(tx.replace(/(\\s+)/g, ' '));\r\n\t\t\t\trawWords = tx.split(' ');\r\n\t\t\t}\r\n\r\n\t\t\t// Build word array and remove duplicates\r\n\t\t\teach(rawWords, function(v) {\r\n\t\t\t\tif (!lo[v]) {\r\n\t\t\t\t\twl.push(v);\r\n\t\t\t\t\tlo[v] = 1;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn wl;\r\n\t\t},\r\n\r\n\t\t_removeWords : function(w) {\r\n\t\t\tvar ed = this.editor, dom = ed.dom, se = ed.selection, b = se.getBookmark();\r\n\r\n\t\t\teach(dom.select('span').reverse(), function(n) {\r\n\t\t\t\tif (n && (dom.hasClass(n, 'mceItemHiddenSpellWord') || dom.hasClass(n, 'mceItemHidden'))) {\r\n\t\t\t\t\tif (!w || dom.decode(n.innerHTML) == w)\r\n\t\t\t\t\t\tdom.remove(n, 1);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tse.moveToBookmark(b);\r\n\t\t},\r\n\r\n\t\t_markWords : function(wl) {\r\n\t\t\tvar ed = this.editor, dom = ed.dom, doc = ed.getDoc(), se = ed.selection, b = se.getBookmark(), nl = [],\r\n\t\t\t\tw = wl.join('|'), re = this._getSeparators(), rx = new RegExp('(^|[' + re + '])(' + w + ')(?=[' + re + ']|$)', 'g');\r\n\r\n\t\t\t// Collect all text nodes\r\n\t\t\tthis._walk(ed.getBody(), function(n) {\r\n\t\t\t\tif (n.nodeType == 3) {\r\n\t\t\t\t\tnl.push(n);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Wrap incorrect words in spans\r\n\t\t\teach(nl, function(n) {\r\n\t\t\t\tvar node, elem, txt, pos, v = n.nodeValue;\r\n\r\n\t\t\t\tif (rx.test(v)) {\r\n\t\t\t\t\t// Encode the content\r\n\t\t\t\t\tv = dom.encode(v);\r\n\t\t\t\t\t// Create container element\r\n\t\t\t\t\telem = dom.create('span', {'class' : 'mceItemHidden'});\r\n\r\n\t\t\t\t\t// Following code fixes IE issues by creating text nodes\r\n\t\t\t\t\t// using DOM methods instead of innerHTML.\r\n\t\t\t\t\t// Bug #3124: <PRE> elements content is broken after spellchecking.\r\n\t\t\t\t\t// Bug #1408: Preceding whitespace characters are removed\r\n\t\t\t\t\t// @TODO: I'm not sure that both are still issues on IE9.\r\n\t\t\t\t\tif (tinymce.isIE) {\r\n\t\t\t\t\t\t// Enclose mispelled words with temporal tag\r\n\t\t\t\t\t\tv = v.replace(rx, '$1<mcespell>$2</mcespell>');\r\n\t\t\t\t\t\t// Loop over the content finding mispelled words\r\n\t\t\t\t\t\twhile ((pos = v.indexOf('<mcespell>')) != -1) {\r\n\t\t\t\t\t\t\t// Add text node for the content before the word\r\n\t\t\t\t\t\t\ttxt = v.substring(0, pos);\r\n\t\t\t\t\t\t\tif (txt.length) {\r\n\t\t\t\t\t\t\t\tnode = doc.createTextNode(dom.decode(txt));\r\n\t\t\t\t\t\t\t\telem.appendChild(node);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tv = v.substring(pos+10);\r\n\t\t\t\t\t\t\tpos = v.indexOf('</mcespell>');\r\n\t\t\t\t\t\t\ttxt = v.substring(0, pos);\r\n\t\t\t\t\t\t\tv = v.substring(pos+11);\r\n\t\t\t\t\t\t\t// Add span element for the word\r\n\t\t\t\t\t\t\telem.appendChild(dom.create('span', {'class' : 'mceItemHiddenSpellWord'}, txt));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Add text node for the rest of the content\r\n\t\t\t\t\t\tif (v.length) {\r\n\t\t\t\t\t\t\tnode = doc.createTextNode(dom.decode(v));\r\n\t\t\t\t\t\t\telem.appendChild(node);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Other browsers preserve whitespace characters on innerHTML usage\r\n\t\t\t\t\t\telem.innerHTML = v.replace(rx, '$1<span class=\"mceItemHiddenSpellWord\">$2</span>');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Finally, replace the node with the container\r\n\t\t\t\t\tdom.replace(elem, n);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tse.moveToBookmark(b);\r\n\t\t},\r\n\r\n\t\t_showMenu : function(ed, e) {\r\n\t\t\tvar t = this, ed = t.editor, m = t._menu, p1, dom = ed.dom, vp = dom.getViewPort(ed.getWin()), wordSpan = e.target;\r\n\r\n\t\t\te = 0; // Fixes IE memory leak\r\n\r\n\t\t\tif (!m) {\r\n\t\t\t\tm = ed.controlManager.createDropMenu('spellcheckermenu', {'class' : 'mceNoIcons'});\r\n\t\t\t\tt._menu = m;\r\n\t\t\t}\r\n\r\n\t\t\tif (dom.hasClass(wordSpan, 'mceItemHiddenSpellWord')) {\r\n\t\t\t\tm.removeAll();\r\n\t\t\t\tm.add({title : 'spellchecker.wait', 'class' : 'mceMenuItemTitle'}).setDisabled(1);\r\n\r\n\t\t\t\tt._sendRPC('getSuggestions', [t.selectedLang, dom.decode(wordSpan.innerHTML)], function(r) {\r\n\t\t\t\t\tvar ignoreRpc;\r\n\r\n\t\t\t\t\tm.removeAll();\r\n\r\n\t\t\t\t\tif (r.length > 0) {\r\n\t\t\t\t\t\tm.add({title : 'spellchecker.sug', 'class' : 'mceMenuItemTitle'}).setDisabled(1);\r\n\t\t\t\t\t\teach(r, function(v) {\r\n\t\t\t\t\t\t\tm.add({title : v, onclick : function() {\r\n\t\t\t\t\t\t\t\tdom.replace(ed.getDoc().createTextNode(v), wordSpan);\r\n\t\t\t\t\t\t\t\tt._checkDone();\r\n\t\t\t\t\t\t\t}});\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tm.addSeparator();\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tm.add({title : 'spellchecker.no_sug', 'class' : 'mceMenuItemTitle'}).setDisabled(1);\r\n\r\n\t\t\t\t\tif (ed.getParam('show_ignore_words', true)) {\r\n\t\t\t\t\t\tignoreRpc = t.editor.getParam(\"spellchecker_enable_ignore_rpc\", '');\r\n\t\t\t\t\t\tm.add({\r\n\t\t\t\t\t\t\ttitle : 'spellchecker.ignore_word',\r\n\t\t\t\t\t\t\tonclick : function() {\r\n\t\t\t\t\t\t\t\tvar word = wordSpan.innerHTML;\r\n\r\n\t\t\t\t\t\t\t\tdom.remove(wordSpan, 1);\r\n\t\t\t\t\t\t\t\tt._checkDone();\r\n\r\n\t\t\t\t\t\t\t\t// tell the server if we need to\r\n\t\t\t\t\t\t\t\tif (ignoreRpc) {\r\n\t\t\t\t\t\t\t\t\ted.setProgressState(1);\r\n\t\t\t\t\t\t\t\t\tt._sendRPC('ignoreWord', [t.selectedLang, word], function(r) {\r\n\t\t\t\t\t\t\t\t\t\ted.setProgressState(0);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tm.add({\r\n\t\t\t\t\t\t\ttitle : 'spellchecker.ignore_words',\r\n\t\t\t\t\t\t\tonclick : function() {\r\n\t\t\t\t\t\t\t\tvar word = wordSpan.innerHTML;\r\n\r\n\t\t\t\t\t\t\t\tt._removeWords(dom.decode(word));\r\n\t\t\t\t\t\t\t\tt._checkDone();\r\n\r\n\t\t\t\t\t\t\t\t// tell the server if we need to\r\n\t\t\t\t\t\t\t\tif (ignoreRpc) {\r\n\t\t\t\t\t\t\t\t\ted.setProgressState(1);\r\n\t\t\t\t\t\t\t\t\tt._sendRPC('ignoreWords', [t.selectedLang, word], function(r) {\r\n\t\t\t\t\t\t\t\t\t\ted.setProgressState(0);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (t.editor.getParam(\"spellchecker_enable_learn_rpc\")) {\r\n\t\t\t\t\t\tm.add({\r\n\t\t\t\t\t\t\ttitle : 'spellchecker.learn_word',\r\n\t\t\t\t\t\t\tonclick : function() {\r\n\t\t\t\t\t\t\t\tvar word = wordSpan.innerHTML;\r\n\r\n\t\t\t\t\t\t\t\tdom.remove(wordSpan, 1);\r\n\t\t\t\t\t\t\t\tt._checkDone();\r\n\r\n\t\t\t\t\t\t\t\ted.setProgressState(1);\r\n\t\t\t\t\t\t\t\tt._sendRPC('learnWord', [t.selectedLang, word], function(r) {\r\n\t\t\t\t\t\t\t\t\ted.setProgressState(0);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tm.update();\r\n\t\t\t\t});\r\n\r\n\t\t\t\tp1 = DOM.getPos(ed.getContentAreaContainer());\r\n\t\t\t\tm.settings.offset_x = p1.x;\r\n\t\t\t\tm.settings.offset_y = p1.y;\r\n\r\n\t\t\t\ted.selection.select(wordSpan);\r\n\t\t\t\tp1 = dom.getPos(wordSpan);\r\n\t\t\t\tm.showMenu(p1.x, p1.y + wordSpan.offsetHeight - vp.y);\r\n\r\n\t\t\t\treturn tinymce.dom.Event.cancel(e);\r\n\t\t\t} else\r\n\t\t\t\tm.hideMenu();\r\n\t\t},\r\n\r\n\t\t_checkDone : function() {\r\n\t\t\tvar t = this, ed = t.editor, dom = ed.dom, o;\r\n\r\n\t\t\teach(dom.select('span'), function(n) {\r\n\t\t\t\tif (n && dom.hasClass(n, 'mceItemHiddenSpellWord')) {\r\n\t\t\t\t\to = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (!o)\r\n\t\t\t\tt._done();\r\n\t\t},\r\n\r\n\t\t_done : function() {\r\n\t\t\tvar t = this, la = t.active;\r\n\r\n\t\t\tif (t.active) {\r\n\t\t\t\tt.active = 0;\r\n\t\t\t\tt._removeWords();\r\n\r\n\t\t\t\tif (t._menu)\r\n\t\t\t\t\tt._menu.hideMenu();\r\n\r\n\t\t\t\tif (la)\r\n\t\t\t\t\tt.editor.nodeChanged();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_sendRPC : function(m, p, cb) {\r\n\t\t\tvar t = this;\r\n\r\n\t\t\tJSONRequest.sendRPC({\r\n\t\t\t\turl : t.rpcUrl,\r\n\t\t\t\tmethod : m,\r\n\t\t\t\tparams : p,\r\n\t\t\t\tsuccess : cb,\r\n\t\t\t\terror : function(e, x) {\r\n\t\t\t\t\tt.editor.setProgressState(0);\r\n\t\t\t\t\tt.editor.windowManager.alert(e.errstr || ('Error response: ' + x.responseText));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// Register plugin\r\n\ttinymce.PluginManager.add('spellchecker', tinymce.plugins.SpellcheckerPlugin);\r\n})();\r\n","Magento_Tinymce3/tiny_mce/plugins/style/editor_plugin.js":"(function(){tinymce.create(\"tinymce.plugins.StylePlugin\",{init:function(a,b){a.addCommand(\"mceStyleProps\",function(){a.windowManager.open({file:b+\"/props.htm\",width:480+parseInt(a.getLang(\"style.delta_width\",0)),height:320+parseInt(a.getLang(\"style.delta_height\",0)),inline:1},{plugin_url:b,style_text:a.selection.getNode().style.cssText})});a.addCommand(\"mceSetElementStyle\",function(d,c){if(e=a.selection.getNode()){a.dom.setAttrib(e,\"style\",c);a.execCommand(\"mceRepaint\")}});a.onNodeChange.add(function(d,c,f){c.setDisabled(\"styleprops\",f.nodeName===\"BODY\")});a.addButton(\"styleprops\",{title:\"style.desc\",cmd:\"mceStyleProps\"})},getInfo:function(){return{longname:\"Style\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/style\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}}});tinymce.PluginManager.add(\"style\",tinymce.plugins.StylePlugin)})();","Magento_Tinymce3/tiny_mce/plugins/style/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\ttinymce.create('tinymce.plugins.StylePlugin', {\r\n\t\tinit : function(ed, url) {\r\n\t\t\t// Register commands\r\n\t\t\ted.addCommand('mceStyleProps', function() {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/props.htm',\r\n\t\t\t\t\twidth : 480 + parseInt(ed.getLang('style.delta_width', 0)),\r\n\t\t\t\t\theight : 320 + parseInt(ed.getLang('style.delta_height', 0)),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url,\r\n\t\t\t\t\tstyle_text : ed.selection.getNode().style.cssText\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ted.addCommand('mceSetElementStyle', function(ui, v) {\r\n\t\t\t\tif (e = ed.selection.getNode()) {\r\n\t\t\t\t\ted.dom.setAttrib(e, 'style', v);\r\n\t\t\t\t\ted.execCommand('mceRepaint');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ted.onNodeChange.add(function(ed, cm, n) {\r\n\t\t\t\tcm.setDisabled('styleprops', n.nodeName === 'BODY');\r\n\t\t\t});\r\n\r\n\t\t\t// Register buttons\r\n\t\t\ted.addButton('styleprops', {title : 'style.desc', cmd : 'mceStyleProps'});\r\n\t\t},\r\n\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Style',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/style',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\t// Register plugin\r\n\ttinymce.PluginManager.add('style', tinymce.plugins.StylePlugin);\r\n})();","Magento_Tinymce3/tiny_mce/plugins/style/js/props.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar defaultFonts = \"\" + \r\n\t\"Arial, Helvetica, sans-serif=Arial, Helvetica, sans-serif;\" + \r\n\t\"Times New Roman, Times, serif=Times New Roman, Times, serif;\" + \r\n\t\"Courier New, Courier, mono=Courier New, Courier, mono;\" + \r\n\t\"Times New Roman, Times, serif=Times New Roman, Times, serif;\" + \r\n\t\"Georgia, Times New Roman, Times, serif=Georgia, Times New Roman, Times, serif;\" + \r\n\t\"Verdana, Arial, Helvetica, sans-serif=Verdana, Arial, Helvetica, sans-serif;\" + \r\n\t\"Geneva, Arial, Helvetica, sans-serif=Geneva, Arial, Helvetica, sans-serif\";\r\n\r\nvar defaultSizes = \"9;10;12;14;16;18;24;xx-small;x-small;small;medium;large;x-large;xx-large;smaller;larger\";\r\nvar defaultMeasurement = \"+pixels=px;points=pt;inches=in;centimetres=cm;millimetres=mm;picas=pc;ems=em;exs=ex;%\";\r\nvar defaultSpacingMeasurement = \"pixels=px;points=pt;inches=in;centimetres=cm;millimetres=mm;picas=pc;+ems=em;exs=ex;%\";\r\nvar defaultIndentMeasurement = \"pixels=px;+points=pt;inches=in;centimetres=cm;millimetres=mm;picas=pc;ems=em;exs=ex;%\";\r\nvar defaultWeight = \"normal;bold;bolder;lighter;100;200;300;400;500;600;700;800;900\";\r\nvar defaultTextStyle = \"normal;italic;oblique\";\r\nvar defaultVariant = \"normal;small-caps\";\r\nvar defaultLineHeight = \"normal\";\r\nvar defaultAttachment = \"fixed;scroll\";\r\nvar defaultRepeat = \"no-repeat;repeat;repeat-x;repeat-y\";\r\nvar defaultPosH = \"left;center;right\";\r\nvar defaultPosV = \"top;center;bottom\";\r\nvar defaultVAlign = \"baseline;sub;super;top;text-top;middle;bottom;text-bottom\";\r\nvar defaultDisplay = \"inline;block;list-item;run-in;compact;marker;table;inline-table;table-row-group;table-header-group;table-footer-group;table-row;table-column-group;table-column;table-cell;table-caption;none\";\r\nvar defaultBorderStyle = \"none;solid;dashed;dotted;double;groove;ridge;inset;outset\";\r\nvar defaultBorderWidth = \"thin;medium;thick\";\r\nvar defaultListType = \"disc;circle;square;decimal;lower-roman;upper-roman;lower-alpha;upper-alpha;none\";\r\n\r\nfunction init() {\r\n\tvar ce = document.getElementById('container'), h;\r\n\r\n\tce.style.cssText = tinyMCEPopup.getWindowArg('style_text');\r\n\r\n\th = getBrowserHTML('background_image_browser','background_image','image','advimage');\r\n\tdocument.getElementById(\"background_image_browser\").innerHTML = h;\r\n\r\n\tdocument.getElementById('text_color_pickcontainer').innerHTML = getColorPickerHTML('text_color_pick','text_color');\r\n\tdocument.getElementById('background_color_pickcontainer').innerHTML = getColorPickerHTML('background_color_pick','background_color');\r\n\tdocument.getElementById('border_color_top_pickcontainer').innerHTML = getColorPickerHTML('border_color_top_pick','border_color_top');\r\n\tdocument.getElementById('border_color_right_pickcontainer').innerHTML = getColorPickerHTML('border_color_right_pick','border_color_right');\r\n\tdocument.getElementById('border_color_bottom_pickcontainer').innerHTML = getColorPickerHTML('border_color_bottom_pick','border_color_bottom');\r\n\tdocument.getElementById('border_color_left_pickcontainer').innerHTML = getColorPickerHTML('border_color_left_pick','border_color_left');\r\n\r\n\tfillSelect(0, 'text_font', 'style_font', defaultFonts, ';', true);\r\n\tfillSelect(0, 'text_size', 'style_font_size', defaultSizes, ';', true);\r\n\tfillSelect(0, 'text_size_measurement', 'style_font_size_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'text_case', 'style_text_case', \"capitalize;uppercase;lowercase\", ';', true);\r\n\tfillSelect(0, 'text_weight', 'style_font_weight', defaultWeight, ';', true);\r\n\tfillSelect(0, 'text_style', 'style_font_style', defaultTextStyle, ';', true);\r\n\tfillSelect(0, 'text_variant', 'style_font_variant', defaultVariant, ';', true);\r\n\tfillSelect(0, 'text_lineheight', 'style_font_line_height', defaultLineHeight, ';', true);\r\n\tfillSelect(0, 'text_lineheight_measurement', 'style_font_line_height_measurement', defaultMeasurement, ';', true);\r\n\r\n\tfillSelect(0, 'background_attachment', 'style_background_attachment', defaultAttachment, ';', true);\r\n\tfillSelect(0, 'background_repeat', 'style_background_repeat', defaultRepeat, ';', true);\r\n\r\n\tfillSelect(0, 'background_hpos_measurement', 'style_background_hpos_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'background_vpos_measurement', 'style_background_vpos_measurement', defaultMeasurement, ';', true);\r\n\r\n\tfillSelect(0, 'background_hpos', 'style_background_hpos', defaultPosH, ';', true);\r\n\tfillSelect(0, 'background_vpos', 'style_background_vpos', defaultPosV, ';', true);\r\n\r\n\tfillSelect(0, 'block_wordspacing', 'style_wordspacing', 'normal', ';', true);\r\n\tfillSelect(0, 'block_wordspacing_measurement', 'style_wordspacing_measurement', defaultSpacingMeasurement, ';', true);\r\n\tfillSelect(0, 'block_letterspacing', 'style_letterspacing', 'normal', ';', true);\r\n\tfillSelect(0, 'block_letterspacing_measurement', 'style_letterspacing_measurement', defaultSpacingMeasurement, ';', true);\r\n\tfillSelect(0, 'block_vertical_alignment', 'style_vertical_alignment', defaultVAlign, ';', true);\r\n\tfillSelect(0, 'block_text_align', 'style_text_align', \"left;right;center;justify\", ';', true);\r\n\tfillSelect(0, 'block_whitespace', 'style_whitespace', \"normal;pre;nowrap\", ';', true);\r\n\tfillSelect(0, 'block_display', 'style_display', defaultDisplay, ';', true);\r\n\tfillSelect(0, 'block_text_indent_measurement', 'style_text_indent_measurement', defaultIndentMeasurement, ';', true);\r\n\r\n\tfillSelect(0, 'box_width_measurement', 'style_box_width_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_height_measurement', 'style_box_height_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_float', 'style_float', 'left;right;none', ';', true);\r\n\tfillSelect(0, 'box_clear', 'style_clear', 'left;right;both;none', ';', true);\r\n\tfillSelect(0, 'box_padding_left_measurement', 'style_padding_left_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_padding_top_measurement', 'style_padding_top_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_padding_bottom_measurement', 'style_padding_bottom_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_padding_right_measurement', 'style_padding_right_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_margin_left_measurement', 'style_margin_left_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_margin_top_measurement', 'style_margin_top_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_margin_bottom_measurement', 'style_margin_bottom_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'box_margin_right_measurement', 'style_margin_right_measurement', defaultMeasurement, ';', true);\r\n\r\n\tfillSelect(0, 'border_style_top', 'style_border_style_top', defaultBorderStyle, ';', true);\r\n\tfillSelect(0, 'border_style_right', 'style_border_style_right', defaultBorderStyle, ';', true);\r\n\tfillSelect(0, 'border_style_bottom', 'style_border_style_bottom', defaultBorderStyle, ';', true);\r\n\tfillSelect(0, 'border_style_left', 'style_border_style_left', defaultBorderStyle, ';', true);\r\n\r\n\tfillSelect(0, 'border_width_top', 'style_border_width_top', defaultBorderWidth, ';', true);\r\n\tfillSelect(0, 'border_width_right', 'style_border_width_right', defaultBorderWidth, ';', true);\r\n\tfillSelect(0, 'border_width_bottom', 'style_border_width_bottom', defaultBorderWidth, ';', true);\r\n\tfillSelect(0, 'border_width_left', 'style_border_width_left', defaultBorderWidth, ';', true);\r\n\r\n\tfillSelect(0, 'border_width_top_measurement', 'style_border_width_top_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'border_width_right_measurement', 'style_border_width_right_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'border_width_bottom_measurement', 'style_border_width_bottom_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'border_width_left_measurement', 'style_border_width_left_measurement', defaultMeasurement, ';', true);\r\n\r\n\tfillSelect(0, 'list_type', 'style_list_type', defaultListType, ';', true);\r\n\tfillSelect(0, 'list_position', 'style_list_position', \"inside;outside\", ';', true);\r\n\r\n\tfillSelect(0, 'positioning_type', 'style_positioning_type', \"absolute;relative;static\", ';', true);\r\n\tfillSelect(0, 'positioning_visibility', 'style_positioning_visibility', \"inherit;visible;hidden\", ';', true);\r\n\r\n\tfillSelect(0, 'positioning_width_measurement', 'style_positioning_width_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_height_measurement', 'style_positioning_height_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_overflow', 'style_positioning_overflow', \"visible;hidden;scroll;auto\", ';', true);\r\n\r\n\tfillSelect(0, 'positioning_placement_top_measurement', 'style_positioning_placement_top_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_placement_right_measurement', 'style_positioning_placement_right_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_placement_bottom_measurement', 'style_positioning_placement_bottom_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_placement_left_measurement', 'style_positioning_placement_left_measurement', defaultMeasurement, ';', true);\r\n\r\n\tfillSelect(0, 'positioning_clip_top_measurement', 'style_positioning_clip_top_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_clip_right_measurement', 'style_positioning_clip_right_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_clip_bottom_measurement', 'style_positioning_clip_bottom_measurement', defaultMeasurement, ';', true);\r\n\tfillSelect(0, 'positioning_clip_left_measurement', 'style_positioning_clip_left_measurement', defaultMeasurement, ';', true);\r\n\r\n\tTinyMCE_EditableSelects.init();\r\n\tsetupFormData();\r\n\tshowDisabledControls();\r\n}\r\n\r\nfunction setupFormData() {\r\n\tvar ce = document.getElementById('container'), f = document.forms[0], s, b, i;\r\n\r\n\t// Setup text fields\r\n\r\n\tselectByValue(f, 'text_font', ce.style.fontFamily, true, true);\r\n\tselectByValue(f, 'text_size', getNum(ce.style.fontSize), true, true);\r\n\tselectByValue(f, 'text_size_measurement', getMeasurement(ce.style.fontSize));\r\n\tselectByValue(f, 'text_weight', ce.style.fontWeight, true, true);\r\n\tselectByValue(f, 'text_style', ce.style.fontStyle, true, true);\r\n\tselectByValue(f, 'text_lineheight', getNum(ce.style.lineHeight), true, true);\r\n\tselectByValue(f, 'text_lineheight_measurement', getMeasurement(ce.style.lineHeight));\r\n\tselectByValue(f, 'text_case', ce.style.textTransform, true, true);\r\n\tselectByValue(f, 'text_variant', ce.style.fontVariant, true, true);\r\n\tf.text_color.value = tinyMCEPopup.editor.dom.toHex(ce.style.color);\r\n\tupdateColor('text_color_pick', 'text_color');\r\n\tf.text_underline.checked = inStr(ce.style.textDecoration, 'underline');\r\n\tf.text_overline.checked = inStr(ce.style.textDecoration, 'overline');\r\n\tf.text_linethrough.checked = inStr(ce.style.textDecoration, 'line-through');\r\n\tf.text_blink.checked = inStr(ce.style.textDecoration, 'blink');\r\n\r\n\t// Setup background fields\r\n\r\n\tf.background_color.value = tinyMCEPopup.editor.dom.toHex(ce.style.backgroundColor);\r\n\tupdateColor('background_color_pick', 'background_color');\r\n\tf.background_image.value = ce.style.backgroundImage.replace(new RegExp(\"url\\\\('?([^']*)'?\\\\)\", 'gi'), \"$1\");\r\n\tselectByValue(f, 'background_repeat', ce.style.backgroundRepeat, true, true);\r\n\tselectByValue(f, 'background_attachment', ce.style.backgroundAttachment, true, true);\r\n\tselectByValue(f, 'background_hpos', getNum(getVal(ce.style.backgroundPosition, 0)), true, true);\r\n\tselectByValue(f, 'background_hpos_measurement', getMeasurement(getVal(ce.style.backgroundPosition, 0)));\r\n\tselectByValue(f, 'background_vpos', getNum(getVal(ce.style.backgroundPosition, 1)), true, true);\r\n\tselectByValue(f, 'background_vpos_measurement', getMeasurement(getVal(ce.style.backgroundPosition, 1)));\r\n\r\n\t// Setup block fields\r\n\r\n\tselectByValue(f, 'block_wordspacing', getNum(ce.style.wordSpacing), true, true);\r\n\tselectByValue(f, 'block_wordspacing_measurement', getMeasurement(ce.style.wordSpacing));\r\n\tselectByValue(f, 'block_letterspacing', getNum(ce.style.letterSpacing), true, true);\r\n\tselectByValue(f, 'block_letterspacing_measurement', getMeasurement(ce.style.letterSpacing));\r\n\tselectByValue(f, 'block_vertical_alignment', ce.style.verticalAlign, true, true);\r\n\tselectByValue(f, 'block_text_align', ce.style.textAlign, true, true);\r\n\tf.block_text_indent.value = getNum(ce.style.textIndent);\r\n\tselectByValue(f, 'block_text_indent_measurement', getMeasurement(ce.style.textIndent));\r\n\tselectByValue(f, 'block_whitespace', ce.style.whiteSpace, true, true);\r\n\tselectByValue(f, 'block_display', ce.style.display, true, true);\r\n\r\n\t// Setup box fields\r\n\r\n\tf.box_width.value = getNum(ce.style.width);\r\n\tselectByValue(f, 'box_width_measurement', getMeasurement(ce.style.width));\r\n\r\n\tf.box_height.value = getNum(ce.style.height);\r\n\tselectByValue(f, 'box_height_measurement', getMeasurement(ce.style.height));\r\n\tselectByValue(f, 'box_float', ce.style.cssFloat || ce.style.styleFloat, true, true);\r\n\r\n\tselectByValue(f, 'box_clear', ce.style.clear, true, true);\r\n\r\n\tsetupBox(f, ce, 'box_padding', 'padding', '');\r\n\tsetupBox(f, ce, 'box_margin', 'margin', '');\r\n\r\n\t// Setup border fields\r\n\r\n\tsetupBox(f, ce, 'border_style', 'border', 'Style');\r\n\tsetupBox(f, ce, 'border_width', 'border', 'Width');\r\n\tsetupBox(f, ce, 'border_color', 'border', 'Color');\r\n\r\n\tupdateColor('border_color_top_pick', 'border_color_top');\r\n\tupdateColor('border_color_right_pick', 'border_color_right');\r\n\tupdateColor('border_color_bottom_pick', 'border_color_bottom');\r\n\tupdateColor('border_color_left_pick', 'border_color_left');\r\n\r\n\tf.elements.border_color_top.value = tinyMCEPopup.editor.dom.toHex(f.elements.border_color_top.value);\r\n\tf.elements.border_color_right.value = tinyMCEPopup.editor.dom.toHex(f.elements.border_color_right.value);\r\n\tf.elements.border_color_bottom.value = tinyMCEPopup.editor.dom.toHex(f.elements.border_color_bottom.value);\r\n\tf.elements.border_color_left.value = tinyMCEPopup.editor.dom.toHex(f.elements.border_color_left.value);\r\n\r\n\t// Setup list fields\r\n\r\n\tselectByValue(f, 'list_type', ce.style.listStyleType, true, true);\r\n\tselectByValue(f, 'list_position', ce.style.listStylePosition, true, true);\r\n\tf.list_bullet_image.value = ce.style.listStyleImage.replace(new RegExp(\"url\\\\('?([^']*)'?\\\\)\", 'gi'), \"$1\");\r\n\r\n\t// Setup box fields\r\n\r\n\tselectByValue(f, 'positioning_type', ce.style.position, true, true);\r\n\tselectByValue(f, 'positioning_visibility', ce.style.visibility, true, true);\r\n\tselectByValue(f, 'positioning_overflow', ce.style.overflow, true, true);\r\n\tf.positioning_zindex.value = ce.style.zIndex ? ce.style.zIndex : \"\";\r\n\r\n\tf.positioning_width.value = getNum(ce.style.width);\r\n\tselectByValue(f, 'positioning_width_measurement', getMeasurement(ce.style.width));\r\n\r\n\tf.positioning_height.value = getNum(ce.style.height);\r\n\tselectByValue(f, 'positioning_height_measurement', getMeasurement(ce.style.height));\r\n\r\n\tsetupBox(f, ce, 'positioning_placement', '', '', ['top', 'right', 'bottom', 'left']);\r\n\r\n\ts = ce.style.clip.replace(new RegExp(\"rect\\\\('?([^']*)'?\\\\)\", 'gi'), \"$1\");\r\n\ts = s.replace(/,/g, ' ');\r\n\r\n\tif (!hasEqualValues([getVal(s, 0), getVal(s, 1), getVal(s, 2), getVal(s, 3)])) {\r\n\t\tf.positioning_clip_top.value = getNum(getVal(s, 0));\r\n\t\tselectByValue(f, 'positioning_clip_top_measurement', getMeasurement(getVal(s, 0)));\r\n\t\tf.positioning_clip_right.value = getNum(getVal(s, 1));\r\n\t\tselectByValue(f, 'positioning_clip_right_measurement', getMeasurement(getVal(s, 1)));\r\n\t\tf.positioning_clip_bottom.value = getNum(getVal(s, 2));\r\n\t\tselectByValue(f, 'positioning_clip_bottom_measurement', getMeasurement(getVal(s, 2)));\r\n\t\tf.positioning_clip_left.value = getNum(getVal(s, 3));\r\n\t\tselectByValue(f, 'positioning_clip_left_measurement', getMeasurement(getVal(s, 3)));\r\n\t} else {\r\n\t\tf.positioning_clip_top.value = getNum(getVal(s, 0));\r\n\t\tselectByValue(f, 'positioning_clip_top_measurement', getMeasurement(getVal(s, 0)));\r\n\t\tf.positioning_clip_right.value = f.positioning_clip_bottom.value = f.positioning_clip_left.value;\r\n\t}\r\n\r\n//\tsetupBox(f, ce, '', 'border', 'Color');\r\n}\r\n\r\nfunction getMeasurement(s) {\r\n\treturn s.replace(/^([0-9.]+)(.*)$/, \"$2\");\r\n}\r\n\r\nfunction getNum(s) {\r\n\tif (new RegExp('^(?:[0-9.]+)(?:[a-z%]+)$', 'gi').test(s))\r\n\t\treturn s.replace(/[^0-9.]/g, '');\r\n\r\n\treturn s;\r\n}\r\n\r\nfunction inStr(s, n) {\r\n\treturn new RegExp(n, 'gi').test(s);\r\n}\r\n\r\nfunction getVal(s, i) {\r\n\tvar a = s.split(' ');\r\n\r\n\tif (a.length > 1)\r\n\t\treturn a[i];\r\n\r\n\treturn \"\";\r\n}\r\n\r\nfunction setValue(f, n, v) {\r\n\tif (f.elements[n].type == \"text\")\r\n\t\tf.elements[n].value = v;\r\n\telse\r\n\t\tselectByValue(f, n, v, true, true);\r\n}\r\n\r\nfunction setupBox(f, ce, fp, pr, sf, b) {\r\n\tif (typeof(b) == \"undefined\")\r\n\t\tb = ['Top', 'Right', 'Bottom', 'Left'];\r\n\r\n\tif (isSame(ce, pr, sf, b)) {\r\n\t\tf.elements[fp + \"_same\"].checked = true;\r\n\r\n\t\tsetValue(f, fp + \"_top\", getNum(ce.style[pr + b[0] + sf]));\r\n\t\tf.elements[fp + \"_top\"].disabled = false;\r\n\r\n\t\tf.elements[fp + \"_right\"].value = \"\";\r\n\t\tf.elements[fp + \"_right\"].disabled = true;\r\n\t\tf.elements[fp + \"_bottom\"].value = \"\";\r\n\t\tf.elements[fp + \"_bottom\"].disabled = true;\r\n\t\tf.elements[fp + \"_left\"].value = \"\";\r\n\t\tf.elements[fp + \"_left\"].disabled = true;\r\n\r\n\t\tif (f.elements[fp + \"_top_measurement\"]) {\r\n\t\t\tselectByValue(f, fp + '_top_measurement', getMeasurement(ce.style[pr + b[0] + sf]));\r\n\t\t\tf.elements[fp + \"_left_measurement\"].disabled = true;\r\n\t\t\tf.elements[fp + \"_bottom_measurement\"].disabled = true;\r\n\t\t\tf.elements[fp + \"_right_measurement\"].disabled = true;\r\n\t\t}\r\n\t} else {\r\n\t\tf.elements[fp + \"_same\"].checked = false;\r\n\r\n\t\tsetValue(f, fp + \"_top\", getNum(ce.style[pr + b[0] + sf]));\r\n\t\tf.elements[fp + \"_top\"].disabled = false;\r\n\r\n\t\tsetValue(f, fp + \"_right\", getNum(ce.style[pr + b[1] + sf]));\r\n\t\tf.elements[fp + \"_right\"].disabled = false;\r\n\r\n\t\tsetValue(f, fp + \"_bottom\", getNum(ce.style[pr + b[2] + sf]));\r\n\t\tf.elements[fp + \"_bottom\"].disabled = false;\r\n\r\n\t\tsetValue(f, fp + \"_left\", getNum(ce.style[pr + b[3] + sf]));\r\n\t\tf.elements[fp + \"_left\"].disabled = false;\r\n\r\n\t\tif (f.elements[fp + \"_top_measurement\"]) {\r\n\t\t\tselectByValue(f, fp + '_top_measurement', getMeasurement(ce.style[pr + b[0] + sf]));\r\n\t\t\tselectByValue(f, fp + '_right_measurement', getMeasurement(ce.style[pr + b[1] + sf]));\r\n\t\t\tselectByValue(f, fp + '_bottom_measurement', getMeasurement(ce.style[pr + b[2] + sf]));\r\n\t\t\tselectByValue(f, fp + '_left_measurement', getMeasurement(ce.style[pr + b[3] + sf]));\r\n\t\t\tf.elements[fp + \"_left_measurement\"].disabled = false;\r\n\t\t\tf.elements[fp + \"_bottom_measurement\"].disabled = false;\r\n\t\t\tf.elements[fp + \"_right_measurement\"].disabled = false;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction isSame(e, pr, sf, b) {\r\n\tvar a = [], i, x;\r\n\r\n\tif (typeof(b) == \"undefined\")\r\n\t\tb = ['Top', 'Right', 'Bottom', 'Left'];\r\n\r\n\tif (typeof(sf) == \"undefined\" || sf == null)\r\n\t\tsf = \"\";\r\n\r\n\ta[0] = e.style[pr + b[0] + sf];\r\n\ta[1] = e.style[pr + b[1] + sf];\r\n\ta[2] = e.style[pr + b[2] + sf];\r\n\ta[3] = e.style[pr + b[3] + sf];\r\n\r\n\tfor (i=0; i<a.length; i++) {\r\n\t\tif (a[i] == null)\r\n\t\t\treturn false;\r\n\r\n\t\tfor (x=0; x<a.length; x++) {\r\n\t\t\tif (a[x] != a[i])\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nfunction hasEqualValues(a) {\r\n\tvar i, x;\r\n\r\n\tfor (i=0; i<a.length; i++) {\r\n\t\tif (a[i] == null)\r\n\t\t\treturn false;\r\n\r\n\t\tfor (x=0; x<a.length; x++) {\r\n\t\t\tif (a[x] != a[i])\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nfunction applyAction() {\r\n\tvar ce = document.getElementById('container'), ed = tinyMCEPopup.editor;\r\n\r\n\tgenerateCSS();\r\n\r\n\ttinyMCEPopup.restoreSelection();\r\n\ted.dom.setAttrib(ed.selection.getSelectedBlocks(), 'style', tinyMCEPopup.editor.dom.serializeStyle(tinyMCEPopup.editor.dom.parseStyle(ce.style.cssText)));\r\n}\r\n\r\nfunction updateAction() {\r\n\tapplyAction();\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction generateCSS() {\r\n\tvar ce = document.getElementById('container'), f = document.forms[0], num = new RegExp('[0-9]+', 'g'), s, t;\r\n\r\n\tce.style.cssText = \"\";\r\n\r\n\t// Build text styles\r\n\tce.style.fontFamily = f.text_font.value;\r\n\tce.style.fontSize = f.text_size.value + (isNum(f.text_size.value) ? (f.text_size_measurement.value || 'px') : \"\");\r\n\tce.style.fontStyle = f.text_style.value;\r\n\tce.style.lineHeight = f.text_lineheight.value + (isNum(f.text_lineheight.value) ? f.text_lineheight_measurement.value : \"\");\r\n\tce.style.textTransform = f.text_case.value;\r\n\tce.style.fontWeight = f.text_weight.value;\r\n\tce.style.fontVariant = f.text_variant.value;\r\n\tce.style.color = f.text_color.value;\r\n\r\n\ts = \"\";\r\n\ts += f.text_underline.checked ? \" underline\" : \"\";\r\n\ts += f.text_overline.checked ? \" overline\" : \"\";\r\n\ts += f.text_linethrough.checked ? \" line-through\" : \"\";\r\n\ts += f.text_blink.checked ? \" blink\" : \"\";\r\n\ts = s.length > 0 ? s.substring(1) : s;\r\n\r\n\tif (f.text_none.checked)\r\n\t\ts = \"none\";\r\n\r\n\tce.style.textDecoration = s;\r\n\r\n\t// Build background styles\r\n\r\n\tce.style.backgroundColor = f.background_color.value;\r\n\tce.style.backgroundImage = f.background_image.value != \"\" ? \"url(\" + f.background_image.value + \")\" : \"\";\r\n\tce.style.backgroundRepeat = f.background_repeat.value;\r\n\tce.style.backgroundAttachment = f.background_attachment.value;\r\n\r\n\tif (f.background_hpos.value != \"\") {\r\n\t\ts = \"\";\r\n\t\ts += f.background_hpos.value + (isNum(f.background_hpos.value) ? f.background_hpos_measurement.value : \"\") + \" \";\r\n\t\ts += f.background_vpos.value + (isNum(f.background_vpos.value) ? f.background_vpos_measurement.value : \"\");\r\n\t\tce.style.backgroundPosition = s;\r\n\t}\r\n\r\n\t// Build block styles\r\n\r\n\tce.style.wordSpacing = f.block_wordspacing.value + (isNum(f.block_wordspacing.value) ? f.block_wordspacing_measurement.value : \"\");\r\n\tce.style.letterSpacing = f.block_letterspacing.value + (isNum(f.block_letterspacing.value) ? f.block_letterspacing_measurement.value : \"\");\r\n\tce.style.verticalAlign = f.block_vertical_alignment.value;\r\n\tce.style.textAlign = f.block_text_align.value;\r\n\tce.style.textIndent = f.block_text_indent.value + (isNum(f.block_text_indent.value) ? f.block_text_indent_measurement.value : \"\");\r\n\tce.style.whiteSpace = f.block_whitespace.value;\r\n\tce.style.display = f.block_display.value;\r\n\r\n\t// Build box styles\r\n\r\n\tce.style.width = f.box_width.value + (isNum(f.box_width.value) ? f.box_width_measurement.value : \"\");\r\n\tce.style.height = f.box_height.value + (isNum(f.box_height.value) ? f.box_height_measurement.value : \"\");\r\n\tce.style.styleFloat = f.box_float.value;\r\n\tce.style.cssFloat = f.box_float.value;\r\n\r\n\tce.style.clear = f.box_clear.value;\r\n\r\n\tif (!f.box_padding_same.checked) {\r\n\t\tce.style.paddingTop = f.box_padding_top.value + (isNum(f.box_padding_top.value) ? f.box_padding_top_measurement.value : \"\");\r\n\t\tce.style.paddingRight = f.box_padding_right.value + (isNum(f.box_padding_right.value) ? f.box_padding_right_measurement.value : \"\");\r\n\t\tce.style.paddingBottom = f.box_padding_bottom.value + (isNum(f.box_padding_bottom.value) ? f.box_padding_bottom_measurement.value : \"\");\r\n\t\tce.style.paddingLeft = f.box_padding_left.value + (isNum(f.box_padding_left.value) ? f.box_padding_left_measurement.value : \"\");\r\n\t} else\r\n\t\tce.style.padding = f.box_padding_top.value + (isNum(f.box_padding_top.value) ? f.box_padding_top_measurement.value : \"\");\t\t\r\n\r\n\tif (!f.box_margin_same.checked) {\r\n\t\tce.style.marginTop = f.box_margin_top.value + (isNum(f.box_margin_top.value) ? f.box_margin_top_measurement.value : \"\");\r\n\t\tce.style.marginRight = f.box_margin_right.value + (isNum(f.box_margin_right.value) ? f.box_margin_right_measurement.value : \"\");\r\n\t\tce.style.marginBottom = f.box_margin_bottom.value + (isNum(f.box_margin_bottom.value) ? f.box_margin_bottom_measurement.value : \"\");\r\n\t\tce.style.marginLeft = f.box_margin_left.value + (isNum(f.box_margin_left.value) ? f.box_margin_left_measurement.value : \"\");\r\n\t} else\r\n\t\tce.style.margin = f.box_margin_top.value + (isNum(f.box_margin_top.value) ? f.box_margin_top_measurement.value : \"\");\t\t\r\n\r\n\t// Build border styles\r\n\r\n\tif (!f.border_style_same.checked) {\r\n\t\tce.style.borderTopStyle = f.border_style_top.value;\r\n\t\tce.style.borderRightStyle = f.border_style_right.value;\r\n\t\tce.style.borderBottomStyle = f.border_style_bottom.value;\r\n\t\tce.style.borderLeftStyle = f.border_style_left.value;\r\n\t} else\r\n\t\tce.style.borderStyle = f.border_style_top.value;\r\n\r\n\tif (!f.border_width_same.checked) {\r\n\t\tce.style.borderTopWidth = f.border_width_top.value + (isNum(f.border_width_top.value) ? f.border_width_top_measurement.value : \"\");\r\n\t\tce.style.borderRightWidth = f.border_width_right.value + (isNum(f.border_width_right.value) ? f.border_width_right_measurement.value : \"\");\r\n\t\tce.style.borderBottomWidth = f.border_width_bottom.value + (isNum(f.border_width_bottom.value) ? f.border_width_bottom_measurement.value : \"\");\r\n\t\tce.style.borderLeftWidth = f.border_width_left.value + (isNum(f.border_width_left.value) ? f.border_width_left_measurement.value : \"\");\r\n\t} else\r\n\t\tce.style.borderWidth = f.border_width_top.value + (isNum(f.border_width_top.value) ? f.border_width_top_measurement.value : \"\");\r\n\r\n\tif (!f.border_color_same.checked) {\r\n\t\tce.style.borderTopColor = f.border_color_top.value;\r\n\t\tce.style.borderRightColor = f.border_color_right.value;\r\n\t\tce.style.borderBottomColor = f.border_color_bottom.value;\r\n\t\tce.style.borderLeftColor = f.border_color_left.value;\r\n\t} else\r\n\t\tce.style.borderColor = f.border_color_top.value;\r\n\r\n\t// Build list styles\r\n\r\n\tce.style.listStyleType = f.list_type.value;\r\n\tce.style.listStylePosition = f.list_position.value;\r\n\tce.style.listStyleImage = f.list_bullet_image.value != \"\" ? \"url(\" + f.list_bullet_image.value + \")\" : \"\";\r\n\r\n\t// Build positioning styles\r\n\r\n\tce.style.position = f.positioning_type.value;\r\n\tce.style.visibility = f.positioning_visibility.value;\r\n\r\n\tif (ce.style.width == \"\")\r\n\t\tce.style.width = f.positioning_width.value + (isNum(f.positioning_width.value) ? f.positioning_width_measurement.value : \"\");\r\n\r\n\tif (ce.style.height == \"\")\r\n\t\tce.style.height = f.positioning_height.value + (isNum(f.positioning_height.value) ? f.positioning_height_measurement.value : \"\");\r\n\r\n\tce.style.zIndex = f.positioning_zindex.value;\r\n\tce.style.overflow = f.positioning_overflow.value;\r\n\r\n\tif (!f.positioning_placement_same.checked) {\r\n\t\tce.style.top = f.positioning_placement_top.value + (isNum(f.positioning_placement_top.value) ? f.positioning_placement_top_measurement.value : \"\");\r\n\t\tce.style.right = f.positioning_placement_right.value + (isNum(f.positioning_placement_right.value) ? f.positioning_placement_right_measurement.value : \"\");\r\n\t\tce.style.bottom = f.positioning_placement_bottom.value + (isNum(f.positioning_placement_bottom.value) ? f.positioning_placement_bottom_measurement.value : \"\");\r\n\t\tce.style.left = f.positioning_placement_left.value + (isNum(f.positioning_placement_left.value) ? f.positioning_placement_left_measurement.value : \"\");\r\n\t} else {\r\n\t\ts = f.positioning_placement_top.value + (isNum(f.positioning_placement_top.value) ? f.positioning_placement_top_measurement.value : \"\");\r\n\t\tce.style.top = s;\r\n\t\tce.style.right = s;\r\n\t\tce.style.bottom = s;\r\n\t\tce.style.left = s;\r\n\t}\r\n\r\n\tif (!f.positioning_clip_same.checked) {\r\n\t\ts = \"rect(\";\r\n\t\ts += (isNum(f.positioning_clip_top.value) ? f.positioning_clip_top.value + f.positioning_clip_top_measurement.value : \"auto\") + \" \";\r\n\t\ts += (isNum(f.positioning_clip_right.value) ? f.positioning_clip_right.value + f.positioning_clip_right_measurement.value : \"auto\") + \" \";\r\n\t\ts += (isNum(f.positioning_clip_bottom.value) ? f.positioning_clip_bottom.value + f.positioning_clip_bottom_measurement.value : \"auto\") + \" \";\r\n\t\ts += (isNum(f.positioning_clip_left.value) ? f.positioning_clip_left.value + f.positioning_clip_left_measurement.value : \"auto\");\r\n\t\ts += \")\";\r\n\r\n\t\tif (s != \"rect(auto auto auto auto)\")\r\n\t\t\tce.style.clip = s;\r\n\t} else {\r\n\t\ts = \"rect(\";\r\n\t\tt = isNum(f.positioning_clip_top.value) ? f.positioning_clip_top.value + f.positioning_clip_top_measurement.value : \"auto\";\r\n\t\ts += t + \" \";\r\n\t\ts += t + \" \";\r\n\t\ts += t + \" \";\r\n\t\ts += t + \")\";\r\n\r\n\t\tif (s != \"rect(auto auto auto auto)\")\r\n\t\t\tce.style.clip = s;\r\n\t}\r\n\r\n\tce.style.cssText = ce.style.cssText;\r\n}\r\n\r\nfunction isNum(s) {\r\n\treturn new RegExp('[0-9]+', 'g').test(s);\r\n}\r\n\r\nfunction showDisabledControls() {\r\n\tvar f = document.forms, i, a;\r\n\r\n\tfor (i=0; i<f.length; i++) {\r\n\t\tfor (a=0; a<f[i].elements.length; a++) {\r\n\t\t\tif (f[i].elements[a].disabled)\r\n\t\t\t\ttinyMCEPopup.editor.dom.addClass(f[i].elements[a], \"disabled\");\r\n\t\t\telse\r\n\t\t\t\ttinyMCEPopup.editor.dom.removeClass(f[i].elements[a], \"disabled\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction fillSelect(f, s, param, dval, sep, em) {\r\n\tvar i, ar, p, se;\r\n\r\n\tf = document.forms[f];\r\n\tsep = typeof(sep) == \"undefined\" ? \";\" : sep;\r\n\r\n\tif (em)\r\n\t\taddSelectValue(f, s, \"\", \"\");\r\n\r\n\tar = tinyMCEPopup.getParam(param, dval).split(sep);\r\n\tfor (i=0; i<ar.length; i++) {\r\n\t\tse = false;\r\n\r\n\t\tif (ar[i].charAt(0) == '+') {\r\n\t\t\tar[i] = ar[i].substring(1);\r\n\t\t\tse = true;\r\n\t\t}\r\n\r\n\t\tp = ar[i].split('=');\r\n\r\n\t\tif (p.length > 1) {\r\n\t\t\taddSelectValue(f, s, p[0], p[1]);\r\n\r\n\t\t\tif (se)\r\n\t\t\t\tselectByValue(f, s, p[1]);\r\n\t\t} else {\r\n\t\t\taddSelectValue(f, s, p[0], p[0]);\r\n\r\n\t\t\tif (se)\r\n\t\t\t\tselectByValue(f, s, p[0]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction toggleSame(ce, pre) {\r\n\tvar el = document.forms[0].elements, i;\r\n\r\n\tif (ce.checked) {\r\n\t\tel[pre + \"_top\"].disabled = false;\r\n\t\tel[pre + \"_right\"].disabled = true;\r\n\t\tel[pre + \"_bottom\"].disabled = true;\r\n\t\tel[pre + \"_left\"].disabled = true;\r\n\r\n\t\tif (el[pre + \"_top_measurement\"]) {\r\n\t\t\tel[pre + \"_top_measurement\"].disabled = false;\r\n\t\t\tel[pre + \"_right_measurement\"].disabled = true;\r\n\t\t\tel[pre + \"_bottom_measurement\"].disabled = true;\r\n\t\t\tel[pre + \"_left_measurement\"].disabled = true;\r\n\t\t}\r\n\t} else {\r\n\t\tel[pre + \"_top\"].disabled = false;\r\n\t\tel[pre + \"_right\"].disabled = false;\r\n\t\tel[pre + \"_bottom\"].disabled = false;\r\n\t\tel[pre + \"_left\"].disabled = false;\r\n\r\n\t\tif (el[pre + \"_top_measurement\"]) {\r\n\t\t\tel[pre + \"_top_measurement\"].disabled = false;\r\n\t\t\tel[pre + \"_right_measurement\"].disabled = false;\r\n\t\t\tel[pre + \"_bottom_measurement\"].disabled = false;\r\n\t\t\tel[pre + \"_left_measurement\"].disabled = false;\r\n\t\t}\r\n\t}\r\n\r\n\tshowDisabledControls();\r\n}\r\n\r\nfunction synch(fr, to) {\r\n\tvar f = document.forms[0];\r\n\r\n\tf.elements[to].value = f.elements[fr].value;\r\n\r\n\tif (f.elements[fr + \"_measurement\"])\r\n\t\tselectByValue(f, to + \"_measurement\", f.elements[fr + \"_measurement\"].value);\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/style/langs/en_dlg.js":"tinyMCE.addI18n('en.style_dlg',{\"text_lineheight\":\"Line Height\",\"text_variant\":\"Variant\",\"text_style\":\"Style\",\"text_weight\":\"Weight\",\"text_size\":\"Size\",\"text_font\":\"Font\",\"text_props\":\"Text\",\"positioning_tab\":\"Positioning\",\"list_tab\":\"List\",\"border_tab\":\"Border\",\"box_tab\":\"Box\",\"block_tab\":\"Block\",\"background_tab\":\"Background\",\"text_tab\":\"Text\",apply:\"Apply\",title:\"Edit CSS Style\",clip:\"Clip\",placement:\"Placement\",overflow:\"Overflow\",zindex:\"Z-index\",visibility:\"Visibility\",\"positioning_type\":\"Type\",position:\"Position\",\"bullet_image\":\"Bullet Image\",\"list_type\":\"Type\",color:\"Color\",height:\"Height\",width:\"Width\",style:\"Style\",margin:\"Margin\",left:\"Left\",bottom:\"Bottom\",right:\"Right\",top:\"Top\",same:\"Same for All\",padding:\"Padding\",\"box_clear\":\"Clear\",\"box_float\":\"Float\",\"box_height\":\"Height\",\"box_width\":\"Width\",\"block_display\":\"Display\",\"block_whitespace\":\"Whitespace\",\"block_text_indent\":\"Text Indent\",\"block_text_align\":\"Text Align\",\"block_vertical_alignment\":\"Vertical Alignment\",\"block_letterspacing\":\"Letter Spacing\",\"block_wordspacing\":\"Word Spacing\",\"background_vpos\":\"Vertical Position\",\"background_hpos\":\"Horizontal Position\",\"background_attachment\":\"Attachment\",\"background_repeat\":\"Repeat\",\"background_image\":\"Background Image\",\"background_color\":\"Background Color\",\"text_none\":\"None\",\"text_blink\":\"Blink\",\"text_case\":\"Case\",\"text_striketrough\":\"Strikethrough\",\"text_underline\":\"Underline\",\"text_overline\":\"Overline\",\"text_decoration\":\"Decoration\",\"text_color\":\"Color\",text:\"Text\",background:\"Background\",block:\"Block\",box:\"Box\",border:\"Border\",list:\"List\"});","Magento_Tinymce3/tiny_mce/plugins/tabfocus/editor_plugin.js":"(function(){var c=tinymce.DOM,a=tinymce.dom.Event,d=tinymce.each,b=tinymce.explode;tinymce.create(\"tinymce.plugins.TabFocusPlugin\",{init:function(f,g){function e(i,j){if(j.keyCode===9){return a.cancel(j)}}function h(l,p){var j,m,o,n,k;function q(t){n=c.select(\":input:enabled,*[tabindex]\");function s(v){return v.nodeName===\"BODY\"||(v.type!=\"hidden\"&&!(v.style.display==\"none\")&&!(v.style.visibility==\"hidden\")&&s(v.parentNode))}function i(v){return v.attributes.tabIndex.specified||v.nodeName==\"INPUT\"||v.nodeName==\"TEXTAREA\"}function u(){return tinymce.isIE6||tinymce.isIE7}function r(v){return((!u()||i(v)))&&v.getAttribute(\"tabindex\")!=\"-1\"&&s(v)}d(n,function(w,v){if(w.id==l.id){j=v;return false}});if(t>0){for(m=j+1;m<n.length;m++){if(r(n[m])){return n[m]}}}else{for(m=j-1;m>=0;m--){if(r(n[m])){return n[m]}}}return null}if(p.keyCode===9){k=b(l.getParam(\"tab_focus\",l.getParam(\"tabfocus_elements\",\":prev,:next\")));if(k.length==1){k[1]=k[0];k[0]=\":prev\"}if(p.shiftKey){if(k[0]==\":prev\"){n=q(-1)}else{n=c.get(k[0])}}else{if(k[1]==\":next\"){n=q(1)}else{n=c.get(k[1])}}if(n){if(n.id&&(l=tinymce.get(n.id||n.name))){l.focus()}else{window.setTimeout(function(){if(!tinymce.isWebKit){window.focus()}n.focus()},10)}return a.cancel(p)}}}f.onKeyUp.add(e);if(tinymce.isGecko){f.onKeyPress.add(h);f.onKeyDown.add(e)}else{f.onKeyDown.add(h)}},getInfo:function(){return{longname:\"Tabfocus\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}}});tinymce.PluginManager.add(\"tabfocus\",tinymce.plugins.TabFocusPlugin)})();","Magento_Tinymce3/tiny_mce/plugins/tabfocus/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\tvar DOM = tinymce.DOM, Event = tinymce.dom.Event, each = tinymce.each, explode = tinymce.explode;\r\n\r\n\ttinymce.create('tinymce.plugins.TabFocusPlugin', {\r\n\t\tinit : function(ed, url) {\r\n\t\t\tfunction tabCancel(ed, e) {\r\n\t\t\t\tif (e.keyCode === 9)\r\n\t\t\t\t\treturn Event.cancel(e);\r\n\t\t\t}\r\n\r\n\t\t\tfunction tabHandler(ed, e) {\r\n\t\t\t\tvar x, i, f, el, v;\r\n\r\n\t\t\t\tfunction find(d) {\r\n\t\t\t\t\tel = DOM.select(':input:enabled,*[tabindex]');\r\n\r\n\t\t\t\t\tfunction canSelectRecursive(e) {\r\n\t\t\t\t\t\treturn e.nodeName===\"BODY\" || (e.type != 'hidden' &&\r\n\t\t\t\t\t\t\t!(e.style.display == \"none\") &&\r\n\t\t\t\t\t\t\t!(e.style.visibility == \"hidden\") && canSelectRecursive(e.parentNode));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfunction canSelectInOldIe(el) {\r\n\t\t\t\t\t\treturn el.attributes[\"tabIndex\"].specified || el.nodeName == \"INPUT\" || el.nodeName == \"TEXTAREA\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfunction isOldIe() {\r\n\t\t\t\t\t\treturn tinymce.isIE6 || tinymce.isIE7;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfunction canSelect(el) {\r\n\t\t\t\t\t\treturn ((!isOldIe() || canSelectInOldIe(el))) && el.getAttribute(\"tabindex\") != '-1' && canSelectRecursive(el);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\teach(el, function(e, i) {\r\n\t\t\t\t\t\tif (e.id == ed.id) {\r\n\t\t\t\t\t\t\tx = i;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (d > 0) {\r\n\t\t\t\t\t\tfor (i = x + 1; i < el.length; i++) {\r\n\t\t\t\t\t\t\tif (canSelect(el[i]))\r\n\t\t\t\t\t\t\t\treturn el[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (i = x - 1; i >= 0; i--) {\r\n\t\t\t\t\t\t\tif (canSelect(el[i]))\r\n\t\t\t\t\t\t\t\treturn el[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (e.keyCode === 9) {\r\n\t\t\t\t\tv = explode(ed.getParam('tab_focus', ed.getParam('tabfocus_elements', ':prev,:next')));\r\n\r\n\t\t\t\t\tif (v.length == 1) {\r\n\t\t\t\t\t\tv[1] = v[0];\r\n\t\t\t\t\t\tv[0] = ':prev';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Find element to focus\r\n\t\t\t\t\tif (e.shiftKey) {\r\n\t\t\t\t\t\tif (v[0] == ':prev')\r\n\t\t\t\t\t\t\tel = find(-1);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tel = DOM.get(v[0]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (v[1] == ':next')\r\n\t\t\t\t\t\t\tel = find(1);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tel = DOM.get(v[1]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (el) {\r\n\t\t\t\t\t\tif (el.id && (ed = tinymce.get(el.id || el.name)))\r\n\t\t\t\t\t\t\ted.focus();\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\twindow.setTimeout(function() {\r\n\t\t\t\t\t\t\t\tif (!tinymce.isWebKit)\r\n\t\t\t\t\t\t\t\t\twindow.focus();\r\n\t\t\t\t\t\t\t\tel.focus();\r\n\t\t\t\t\t\t\t}, 10);\r\n\r\n\t\t\t\t\t\treturn Event.cancel(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ted.onKeyUp.add(tabCancel);\r\n\r\n\t\t\tif (tinymce.isGecko) {\r\n\t\t\t\ted.onKeyPress.add(tabHandler);\r\n\t\t\t\ted.onKeyDown.add(tabCancel);\r\n\t\t\t} else\r\n\t\t\t\ted.onKeyDown.add(tabHandler);\r\n\r\n\t\t},\r\n\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Tabfocus',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\t// Register plugin\r\n\ttinymce.PluginManager.add('tabfocus', tinymce.plugins.TabFocusPlugin);\r\n})();\r\n","Magento_Tinymce3/tiny_mce/plugins/table/editor_plugin.js":"(function(d){var e=d.each;function c(g,h){var j=h.ownerDocument,f=j.createRange(),k;f.setStartBefore(h);f.setEnd(g.endContainer,g.endOffset);k=j.createElement(\"body\");k.appendChild(f.cloneContents());return k.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,\"-\").replace(/<[^>]+>/g,\"\").length==0}function a(g,f){return parseInt(g.getAttribute(f)||1)}function b(H,G,K){var g,L,D,o;t();o=G.getParent(K.getStart(),\"th,td\");if(o){L=F(o);D=I();o=z(L.x,L.y)}function A(N,M){N=N.cloneNode(M);N.removeAttribute(\"id\");return N}function t(){var M=0;g=[];e([\"thead\",\"tbody\",\"tfoot\"],function(N){var O=G.select(\"> \"+N+\" tr\",H);e(O,function(P,Q){Q+=M;e(G.select(\"> td, > th\",P),function(W,R){var S,T,U,V;if(g[Q]){while(g[Q][R]){R++}}U=a(W,\"rowspan\");V=a(W,\"colspan\");for(T=Q;T<Q+U;T++){if(!g[T]){g[T]=[]}for(S=R;S<R+V;S++){g[T][S]={part:N,real:T==Q&&S==R,elm:W,rowspan:U,colspan:V}}}})});M+=O.length})}function z(M,O){var N;N=g[O];if(N){return N[M]}}function s(O,M,N){if(O){N=parseInt(N);if(N===1){O.removeAttribute(M,1)}else{O.setAttribute(M,N,1)}}}function j(M){return M&&(G.hasClass(M.elm,\"mceSelected\")||M==o)}function k(){var M=[];e(H.rows,function(N){e(N.cells,function(O){if(G.hasClass(O,\"mceSelected\")||O==o.elm){M.push(N);return false}})});return M}function r(){var M=G.createRng();M.setStartAfter(H);M.setEndAfter(H);K.setRng(M);G.remove(H)}function f(M){var N;d.walk(M,function(P){var O;if(P.nodeType==3){e(G.getParents(P.parentNode,null,M).reverse(),function(Q){Q=A(Q,false);if(!N){N=O=Q}else{if(O){O.appendChild(Q)}}O=Q});if(O){O.innerHTML=d.isIE?\"&nbsp;\":'<br data-mce-bogus=\"1\" />'}return false}},\"childNodes\");M=A(M,false);s(M,\"rowSpan\",1);s(M,\"colSpan\",1);if(N){M.appendChild(N)}else{if(!d.isIE){M.innerHTML='<br data-mce-bogus=\"1\" />'}}return M}function q(){var M=G.createRng();e(G.select(\"tr\",H),function(N){if(N.cells.length==0){G.remove(N)}});if(G.select(\"tr\",H).length==0){M.setStartAfter(H);M.setEndAfter(H);K.setRng(M);G.remove(H);return}e(G.select(\"thead,tbody,tfoot\",H),function(N){if(N.rows.length==0){G.remove(N)}});t();row=g[Math.min(g.length-1,L.y)];if(row){K.select(row[Math.min(row.length-1,L.x)].elm,true);K.collapse(true)}}function u(S,Q,U,R){var P,N,M,O,T;P=g[Q][S].elm.parentNode;for(M=1;M<=U;M++){P=G.getNext(P,\"tr\");if(P){for(N=S;N>=0;N--){T=g[Q+M][N].elm;if(T.parentNode==P){for(O=1;O<=R;O++){G.insertAfter(f(T),T)}break}}if(N==-1){for(O=1;O<=R;O++){P.insertBefore(f(P.cells[0]),P.cells[0])}}}}}function C(){e(g,function(M,N){e(M,function(P,O){var S,R,T,Q;if(j(P)){P=P.elm;S=a(P,\"colspan\");R=a(P,\"rowspan\");if(S>1||R>1){s(P,\"rowSpan\",1);s(P,\"colSpan\",1);for(Q=0;Q<S-1;Q++){G.insertAfter(f(P),P)}u(O,N,R-1,S)}}})})}function p(V,S,Y){var P,O,X,W,U,R,T,M,V,N,Q;if(V){pos=F(V);P=pos.x;O=pos.y;X=P+(S-1);W=O+(Y-1)}else{P=L.x;O=L.y;X=D.x;W=D.y}T=z(P,O);M=z(X,W);if(T&&M&&T.part==M.part){C();t();T=z(P,O).elm;s(T,\"colSpan\",(X-P)+1);s(T,\"rowSpan\",(W-O)+1);for(R=O;R<=W;R++){for(U=P;U<=X;U++){if(!g[R]||!g[R][U]){continue}V=g[R][U].elm;if(V!=T){N=d.grep(V.childNodes);e(N,function(Z){T.appendChild(Z)});if(N.length){N=d.grep(T.childNodes);Q=0;e(N,function(Z){if(Z.nodeName==\"BR\"&&G.getAttrib(Z,\"data-mce-bogus\")&&Q++<N.length-1){T.removeChild(Z)}})}G.remove(V)}}}q()}}function l(Q){var M,S,P,R,T,U,N,V,O;e(g,function(W,X){e(W,function(Z,Y){if(j(Z)){Z=Z.elm;T=Z.parentNode;U=A(T,false);M=X;if(Q){return false}}});if(Q){return !M}});for(R=0;R<g[0].length;R++){if(!g[M][R]){continue}S=g[M][R].elm;if(S!=P){if(!Q){O=a(S,\"rowspan\");if(O>1){s(S,\"rowSpan\",O+1);continue}}else{if(M>0&&g[M-1][R]){V=g[M-1][R].elm;O=a(V,\"rowSpan\");if(O>1){s(V,\"rowSpan\",O+1);continue}}}N=f(S);s(N,\"colSpan\",S.colSpan);U.appendChild(N);P=S}}if(U.hasChildNodes()){if(!Q){G.insertAfter(U,T)}else{T.parentNode.insertBefore(U,T)}}}function h(N){var O,M;e(g,function(P,Q){e(P,function(S,R){if(j(S)){O=R;if(N){return false}}});if(N){return !O}});e(g,function(S,T){var P,Q,R;if(!S[O]){return}P=S[O].elm;if(P!=M){R=a(P,\"colspan\");Q=a(P,\"rowspan\");if(R==1){if(!N){G.insertAfter(f(P),P);u(O,T,Q-1,R)}else{P.parentNode.insertBefore(f(P),P);u(O,T,Q-1,R)}}else{s(P,\"colSpan\",P.colSpan+1)}M=P}})}function n(){var M=[];e(g,function(N,O){e(N,function(Q,P){if(j(Q)&&d.inArray(M,P)===-1){e(g,function(T){var R=T[P].elm,S;S=a(R,\"colSpan\");if(S>1){s(R,\"colSpan\",S-1)}else{G.remove(R)}});M.push(P)}})});q()}function m(){var N;function M(Q){var P,R,O;P=G.getNext(Q,\"tr\");e(Q.cells,function(S){var T=a(S,\"rowSpan\");if(T>1){s(S,\"rowSpan\",T-1);R=F(S);u(R.x,R.y,1,1)}});R=F(Q.cells[0]);e(g[R.y],function(S){var T;S=S.elm;if(S!=O){T=a(S,\"rowSpan\");if(T<=1){G.remove(S)}else{s(S,\"rowSpan\",T-1)}O=S}})}N=k();e(N.reverse(),function(O){M(O)});q()}function E(){var M=k();G.remove(M);q();return M}function J(){var M=k();e(M,function(O,N){M[N]=A(O,true)});return M}function B(O,N){var P=k(),M=P[N?0:P.length-1],Q=M.cells.length;e(g,function(S){var R;Q=0;e(S,function(U,T){if(U.real){Q+=U.colspan}if(U.elm.parentNode==M){R=1}});if(R){return false}});if(!N){O.reverse()}e(O,function(T){var S=T.cells.length,R;for(i=0;i<S;i++){R=T.cells[i];s(R,\"colSpan\",1);s(R,\"rowSpan\",1)}for(i=S;i<Q;i++){T.appendChild(f(T.cells[S-1]))}for(i=Q;i<S;i++){G.remove(T.cells[i])}if(N){M.parentNode.insertBefore(T,M)}else{G.insertAfter(T,M)}})}function F(M){var N;e(g,function(O,P){e(O,function(R,Q){if(R.elm==M){N={x:Q,y:P};return false}});return !N});return N}function w(M){L=F(M)}function I(){var O,N,M;N=M=0;e(g,function(P,Q){e(P,function(S,R){var U,T;if(j(S)){S=g[Q][R];if(R>N){N=R}if(Q>M){M=Q}if(S.real){U=S.colspan-1;T=S.rowspan-1;if(U){if(R+U>N){N=R+U}}if(T){if(Q+T>M){M=Q+T}}}}})});return{x:N,y:M}}function v(S){var P,O,U,T,N,M,Q,R;D=F(S);if(L&&D){P=Math.min(L.x,D.x);O=Math.min(L.y,D.y);U=Math.max(L.x,D.x);T=Math.max(L.y,D.y);N=U;M=T;for(y=O;y<=M;y++){S=g[y][P];if(!S.real){if(P-(S.colspan-1)<P){P-=S.colspan-1}}}for(x=P;x<=N;x++){S=g[O][x];if(!S.real){if(O-(S.rowspan-1)<O){O-=S.rowspan-1}}}for(y=O;y<=T;y++){for(x=P;x<=U;x++){S=g[y][x];if(S.real){Q=S.colspan-1;R=S.rowspan-1;if(Q){if(x+Q>N){N=x+Q}}if(R){if(y+R>M){M=y+R}}}}}G.removeClass(G.select(\"td.mceSelected,th.mceSelected\"),\"mceSelected\");for(y=O;y<=M;y++){for(x=P;x<=N;x++){if(g[y][x]){G.addClass(g[y][x].elm,\"mceSelected\")}}}}}d.extend(this,{deleteTable:r,split:C,merge:p,insertRow:l,insertCol:h,deleteCols:n,deleteRows:m,cutRows:E,copyRows:J,pasteRows:B,getPos:F,setStartCell:w,setEndCell:v})}d.create(\"tinymce.plugins.TablePlugin\",{init:function(g,h){var f,m,j=true;function l(p){var o=g.selection,n=g.dom.getParent(p||o.getNode(),\"table\");if(n){return new b(n,g.dom,o)}}function k(){g.getBody().style.webkitUserSelect=\"\";if(j){g.dom.removeClass(g.dom.select(\"td.mceSelected,th.mceSelected\"),\"mceSelected\");j=false}}e([[\"table\",\"table.desc\",\"mceInsertTable\",true],[\"delete_table\",\"table.del\",\"mceTableDelete\"],[\"delete_col\",\"table.delete_col_desc\",\"mceTableDeleteCol\"],[\"delete_row\",\"table.delete_row_desc\",\"mceTableDeleteRow\"],[\"col_after\",\"table.col_after_desc\",\"mceTableInsertColAfter\"],[\"col_before\",\"table.col_before_desc\",\"mceTableInsertColBefore\"],[\"row_after\",\"table.row_after_desc\",\"mceTableInsertRowAfter\"],[\"row_before\",\"table.row_before_desc\",\"mceTableInsertRowBefore\"],[\"row_props\",\"table.row_desc\",\"mceTableRowProps\",true],[\"cell_props\",\"table.cell_desc\",\"mceTableCellProps\",true],[\"split_cells\",\"table.split_cells_desc\",\"mceTableSplitCells\",true],[\"merge_cells\",\"table.merge_cells_desc\",\"mceTableMergeCells\",true]],function(n){g.addButton(n[0],{title:n[1],cmd:n[2],ui:n[3]})});if(!d.isIE){g.onClick.add(function(n,o){o=o.target;if(o.nodeName===\"TABLE\"){n.selection.select(o);n.nodeChanged()}})}g.onPreProcess.add(function(o,p){var n,q,r,t=o.dom,s;n=t.select(\"table\",p.node);q=n.length;while(q--){r=n[q];t.setAttrib(r,\"data-mce-style\",\"\");if((s=t.getAttrib(r,\"width\"))){t.setStyle(r,\"width\",s);t.setAttrib(r,\"width\",\"\")}if((s=t.getAttrib(r,\"height\"))){t.setStyle(r,\"height\",s);t.setAttrib(r,\"height\",\"\")}}});g.onNodeChange.add(function(q,o,s){var r;s=q.selection.getStart();r=q.dom.getParent(s,\"td,th,caption\");o.setActive(\"table\",s.nodeName===\"TABLE\"||!!r);if(r&&r.nodeName===\"CAPTION\"){r=0}o.setDisabled(\"delete_table\",!r);o.setDisabled(\"delete_col\",!r);o.setDisabled(\"delete_table\",!r);o.setDisabled(\"delete_row\",!r);o.setDisabled(\"col_after\",!r);o.setDisabled(\"col_before\",!r);o.setDisabled(\"row_after\",!r);o.setDisabled(\"row_before\",!r);o.setDisabled(\"row_props\",!r);o.setDisabled(\"cell_props\",!r);o.setDisabled(\"split_cells\",!r);o.setDisabled(\"merge_cells\",!r)});g.onInit.add(function(r){var p,t,q=r.dom,u;f=r.windowManager;r.onMouseDown.add(function(w,z){if(z.button!=2){k();t=q.getParent(z.target,\"td,th\");p=q.getParent(t,\"table\")}});q.bind(r.getDoc(),\"mouseover\",function(C){var A,z,B=C.target;if(t&&(u||B!=t)&&(B.nodeName==\"TD\"||B.nodeName==\"TH\")){z=q.getParent(B,\"table\");if(z==p){if(!u){u=l(z);u.setStartCell(t);r.getBody().style.webkitUserSelect=\"none\"}u.setEndCell(B);j=true}A=r.selection.getSel();try{if(A.removeAllRanges){A.removeAllRanges()}else{A.empty()}}catch(w){}C.preventDefault()}});r.onMouseUp.add(function(F,G){var z,B=F.selection,H,I=B.getSel(),w,C,A,E;if(t){if(u){F.getBody().style.webkitUserSelect=\"\"}function D(J,L){var K=new d.dom.TreeWalker(J,J);do{if(J.nodeType==3&&d.trim(J.nodeValue).length!=0){if(L){z.setStart(J,0)}else{z.setEnd(J,J.nodeValue.length)}return}if(J.nodeName==\"BR\"){if(L){z.setStartBefore(J)}else{z.setEndBefore(J)}return}}while(J=(L?K.next():K.prev()))}H=q.select(\"td.mceSelected,th.mceSelected\");if(H.length>0){z=q.createRng();C=H[0];E=H[H.length-1];z.setStartBefore(C);z.setEndAfter(C);D(C,1);w=new d.dom.TreeWalker(C,q.getParent(H[0],\"table\"));do{if(C.nodeName==\"TD\"||C.nodeName==\"TH\"){if(!q.hasClass(C,\"mceSelected\")){break}A=C}}while(C=w.next());D(A);B.setRng(z)}F.nodeChanged();t=u=p=null}});r.onKeyUp.add(function(w,z){k()});r.onKeyDown.add(function(w,z){n(w)});r.onMouseDown.add(function(w,z){if(z.button!=2){n(w)}});function o(D,z,A,F){var B=3,G=D.dom.getParent(z.startContainer,\"TABLE\"),C,w,E;if(G){C=G.parentNode}w=z.startContainer.nodeType==B&&z.startOffset==0&&z.endOffset==0&&F&&(A.nodeName==\"TR\"||A==C);E=(A.nodeName==\"TD\"||A.nodeName==\"TH\")&&!F;return w||E}function n(A){if(!d.isWebKit){return}var z=A.selection.getRng();var C=A.selection.getNode();var B=A.dom.getParent(z.startContainer,\"TD,TH\");if(!o(A,z,C,B)){return}if(!B){B=C}var w=B.lastChild;while(w.lastChild){w=w.lastChild}z.setEnd(w,w.nodeValue.length);A.selection.setRng(z)}r.plugins.table.fixTableCellSelection=n;if(r&&r.plugins.contextmenu){r.plugins.contextmenu.onContextMenu.add(function(A,w,C){var D,B=r.selection,z=B.getNode()||r.getBody();if(r.dom.getParent(C,\"td\")||r.dom.getParent(C,\"th\")||r.dom.select(\"td.mceSelected,th.mceSelected\").length){w.removeAll();if(z.nodeName==\"A\"&&!r.dom.getAttrib(z,\"name\")){w.add({title:\"advanced.link_desc\",icon:\"link\",cmd:r.plugins.advlink?\"mceAdvLink\":\"mceLink\",ui:true});w.add({title:\"advanced.unlink_desc\",icon:\"unlink\",cmd:\"UnLink\"});w.addSeparator()}if(z.nodeName==\"IMG\"&&z.className.indexOf(\"mceItem\")==-1){w.add({title:\"advanced.image_desc\",icon:\"image\",cmd:r.plugins.advimage?\"mceAdvImage\":\"mceImage\",ui:true});w.addSeparator()}w.add({title:\"table.desc\",icon:\"table\",cmd:\"mceInsertTable\",value:{action:\"insert\"}});w.add({title:\"table.props_desc\",icon:\"table_props\",cmd:\"mceInsertTable\"});w.add({title:\"table.del\",icon:\"delete_table\",cmd:\"mceTableDelete\"});w.addSeparator();D=w.addMenu({title:\"table.cell\"});D.add({title:\"table.cell_desc\",icon:\"cell_props\",cmd:\"mceTableCellProps\"});D.add({title:\"table.split_cells_desc\",icon:\"split_cells\",cmd:\"mceTableSplitCells\"});D.add({title:\"table.merge_cells_desc\",icon:\"merge_cells\",cmd:\"mceTableMergeCells\"});D=w.addMenu({title:\"table.row\"});D.add({title:\"table.row_desc\",icon:\"row_props\",cmd:\"mceTableRowProps\"});D.add({title:\"table.row_before_desc\",icon:\"row_before\",cmd:\"mceTableInsertRowBefore\"});D.add({title:\"table.row_after_desc\",icon:\"row_after\",cmd:\"mceTableInsertRowAfter\"});D.add({title:\"table.delete_row_desc\",icon:\"delete_row\",cmd:\"mceTableDeleteRow\"});D.addSeparator();D.add({title:\"table.cut_row_desc\",icon:\"cut\",cmd:\"mceTableCutRow\"});D.add({title:\"table.copy_row_desc\",icon:\"copy\",cmd:\"mceTableCopyRow\"});D.add({title:\"table.paste_row_before_desc\",icon:\"paste\",cmd:\"mceTablePasteRowBefore\"}).setDisabled(!m);D.add({title:\"table.paste_row_after_desc\",icon:\"paste\",cmd:\"mceTablePasteRowAfter\"}).setDisabled(!m);D=w.addMenu({title:\"table.col\"});D.add({title:\"table.col_before_desc\",icon:\"col_before\",cmd:\"mceTableInsertColBefore\"});D.add({title:\"table.col_after_desc\",icon:\"col_after\",cmd:\"mceTableInsertColAfter\"});D.add({title:\"table.delete_col_desc\",icon:\"delete_col\",cmd:\"mceTableDeleteCol\"})}else{w.add({title:\"table.desc\",icon:\"table\",cmd:\"mceInsertTable\"})}})}if(d.isWebKit){function v(C,N){var L=d.VK;var Q=N.keyCode;function O(Y,U,S){var T=Y?\"previousSibling\":\"nextSibling\";var Z=C.dom.getParent(U,\"tr\");var X=Z[T];if(X){z(C,U,X,Y);d.dom.Event.cancel(S);return true}else{var aa=C.dom.getParent(Z,\"table\");var W=Z.parentNode;var R=W.nodeName.toLowerCase();if(R===\"tbody\"||R===(Y?\"tfoot\":\"thead\")){var V=w(Y,aa,W,\"tbody\");if(V!==null){return K(Y,V,U,S)}}return M(Y,Z,T,aa,S)}}function w(V,T,U,X){var S=C.dom.select(\">\"+X,T);var R=S.indexOf(U);if(V&&R===0||!V&&R===S.length-1){return B(V,T)}else{if(R===-1){var W=U.tagName.toLowerCase()===\"thead\"?0:S.length-1;return S[W]}else{return S[R+(V?-1:1)]}}}function B(U,T){var S=U?\"thead\":\"tfoot\";var R=C.dom.select(\">\"+S,T);return R.length!==0?R[0]:null}function K(V,T,S,U){var R=J(T,V);R&&z(C,S,R,V);d.dom.Event.cancel(U);return true}function M(Y,U,R,X,W){var S=X[R];if(S){F(S);return true}else{var V=C.dom.getParent(X,\"td,th\");if(V){return O(Y,V,W)}else{var T=J(U,!Y);F(T);return d.dom.Event.cancel(W)}}}function J(S,R){return S&&S[R?\"lastChild\":\"firstChild\"]}function F(R){C.selection.setCursorLocation(R,0)}function A(){return Q==L.UP||Q==L.DOWN}function D(R){var T=R.selection.getNode();var S=R.dom.getParent(T,\"tr\");return S!==null}function P(S){var R=0;var T=S;while(T.previousSibling){T=T.previousSibling;R=R+a(T,\"colspan\")}return R}function E(T,R){var U=0;var S=0;e(T.children,function(V,W){U=U+a(V,\"colspan\");S=W;if(U>R){return false}});return S}function z(T,W,Y,V){var X=P(T.dom.getParent(W,\"td,th\"));var S=E(Y,X);var R=Y.childNodes[S];var U=J(R,V);F(U||R)}function H(R){var T=C.selection.getNode();var U=C.dom.getParent(T,\"td,th\");var S=C.dom.getParent(R,\"td,th\");return U&&U!==S&&I(U,S)}function I(S,R){return C.dom.getParent(S,\"TABLE\")===C.dom.getParent(R,\"TABLE\")}if(A()&&D(C)){var G=C.selection.getNode();setTimeout(function(){if(H(G)){O(!N.shiftKey&&Q===L.UP,G,N)}},0)}}r.onKeyDown.add(v)}if(!d.isIE){function s(){var w;for(w=r.getBody().lastChild;w&&w.nodeType==3&&!w.nodeValue.length;w=w.previousSibling){}if(w&&w.nodeName==\"TABLE\"){r.dom.add(r.getBody(),\"p\",null,'<br mce_bogus=\"1\" />')}}if(d.isGecko){r.onKeyDown.add(function(z,B){var w,A,C=z.dom;if(B.keyCode==37||B.keyCode==38){w=z.selection.getRng();A=C.getParent(w.startContainer,\"table\");if(A&&z.getBody().firstChild==A){if(c(w,A)){w=C.createRng();w.setStartBefore(A);w.setEndBefore(A);z.selection.setRng(w);B.preventDefault()}}}})}r.onKeyUp.add(s);r.onSetContent.add(s);r.onVisualAid.add(s);r.onPreProcess.add(function(w,A){var z=A.node.lastChild;if(z&&z.childNodes.length==1&&z.firstChild.nodeName==\"BR\"){w.dom.remove(z)}});s();r.startContent=r.getContent({format:\"raw\"})}});e({mceTableSplitCells:function(n){n.split()},mceTableMergeCells:function(o){var p,q,n;n=g.dom.getParent(g.selection.getNode(),\"th,td\");if(n){p=n.rowSpan;q=n.colSpan}if(!g.dom.select(\"td.mceSelected,th.mceSelected\").length){f.open({url:h+\"/merge_cells.htm\",width:240+parseInt(g.getLang(\"table.merge_cells_delta_width\",0)),height:110+parseInt(g.getLang(\"table.merge_cells_delta_height\",0)),inline:1},{rows:p,cols:q,onaction:function(r){o.merge(n,r.cols,r.rows)},plugin_url:h})}else{o.merge()}},mceTableInsertRowBefore:function(n){n.insertRow(true)},mceTableInsertRowAfter:function(n){n.insertRow()},mceTableInsertColBefore:function(n){n.insertCol(true)},mceTableInsertColAfter:function(n){n.insertCol()},mceTableDeleteCol:function(n){n.deleteCols()},mceTableDeleteRow:function(n){n.deleteRows()},mceTableCutRow:function(n){m=n.cutRows()},mceTableCopyRow:function(n){m=n.copyRows()},mceTablePasteRowBefore:function(n){n.pasteRows(m,true)},mceTablePasteRowAfter:function(n){n.pasteRows(m)},mceTableDelete:function(n){n.deleteTable()}},function(o,n){g.addCommand(n,function(){var p=l();if(p){o(p);g.execCommand(\"mceRepaint\");k()}})});e({mceInsertTable:function(n){f.open({url:h+\"/table.htm\",width:400+parseInt(g.getLang(\"table.table_delta_width\",0)),height:320+parseInt(g.getLang(\"table.table_delta_height\",0)),inline:1},{plugin_url:h,action:n?n.action:0})},mceTableRowProps:function(){f.open({url:h+\"/row.htm\",width:400+parseInt(g.getLang(\"table.rowprops_delta_width\",0)),height:295+parseInt(g.getLang(\"table.rowprops_delta_height\",0)),inline:1},{plugin_url:h})},mceTableCellProps:function(){f.open({url:h+\"/cell.htm\",width:400+parseInt(g.getLang(\"table.cellprops_delta_width\",0)),height:295+parseInt(g.getLang(\"table.cellprops_delta_height\",0)),inline:1},{plugin_url:h})}},function(o,n){g.addCommand(n,function(p,q){o(q)})})}});d.PluginManager.add(\"table\",d.plugins.TablePlugin)})(tinymce);","Magento_Tinymce3/tiny_mce/plugins/table/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function(tinymce) {\r\n\tvar each = tinymce.each;\r\n\r\n\t// Checks if the selection/caret is at the start of the specified block element\r\n\tfunction isAtStart(rng, par) {\r\n\t\tvar doc = par.ownerDocument, rng2 = doc.createRange(), elm;\r\n\r\n\t\trng2.setStartBefore(par);\r\n\t\trng2.setEnd(rng.endContainer, rng.endOffset);\r\n\r\n\t\telm = doc.createElement('body');\r\n\t\telm.appendChild(rng2.cloneContents());\r\n\r\n\t\t// Check for text characters of other elements that should be treated as content\r\n\t\treturn elm.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi, '-').replace(/<[^>]+>/g, '').length == 0;\r\n\t};\r\n\r\n\tfunction getSpanVal(td, name) {\r\n\t\treturn parseInt(td.getAttribute(name) || 1);\r\n\t}\r\n\r\n\t/**\r\n\t * Table Grid class.\r\n\t */\r\n\tfunction TableGrid(table, dom, selection) {\r\n\t\tvar grid, startPos, endPos, selectedCell;\r\n\r\n\t\tbuildGrid();\r\n\t\tselectedCell = dom.getParent(selection.getStart(), 'th,td');\r\n\t\tif (selectedCell) {\r\n\t\t\tstartPos = getPos(selectedCell);\r\n\t\t\tendPos = findEndPos();\r\n\t\t\tselectedCell = getCell(startPos.x, startPos.y);\r\n\t\t}\r\n\r\n\t\tfunction cloneNode(node, children) {\r\n\t\t\tnode = node.cloneNode(children);\r\n\t\t\tnode.removeAttribute('id');\r\n\r\n\t\t\treturn node;\r\n\t\t}\r\n\r\n\t\tfunction buildGrid() {\r\n\t\t\tvar startY = 0;\r\n\r\n\t\t\tgrid = [];\r\n\r\n\t\t\teach(['thead', 'tbody', 'tfoot'], function(part) {\r\n\t\t\t\tvar rows = dom.select('> ' + part + ' tr', table);\r\n\r\n\t\t\t\teach(rows, function(tr, y) {\r\n\t\t\t\t\ty += startY;\r\n\r\n\t\t\t\t\teach(dom.select('> td, > th', tr), function(td, x) {\r\n\t\t\t\t\t\tvar x2, y2, rowspan, colspan;\r\n\r\n\t\t\t\t\t\t// Skip over existing cells produced by rowspan\r\n\t\t\t\t\t\tif (grid[y]) {\r\n\t\t\t\t\t\t\twhile (grid[y][x])\r\n\t\t\t\t\t\t\t\tx++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get col/rowspan from cell\r\n\t\t\t\t\t\trowspan = getSpanVal(td, 'rowspan');\r\n\t\t\t\t\t\tcolspan = getSpanVal(td, 'colspan');\r\n\r\n\t\t\t\t\t\t// Fill out rowspan/colspan right and down\r\n\t\t\t\t\t\tfor (y2 = y; y2 < y + rowspan; y2++) {\r\n\t\t\t\t\t\t\tif (!grid[y2])\r\n\t\t\t\t\t\t\t\tgrid[y2] = [];\r\n\r\n\t\t\t\t\t\t\tfor (x2 = x; x2 < x + colspan; x2++) {\r\n\t\t\t\t\t\t\t\tgrid[y2][x2] = {\r\n\t\t\t\t\t\t\t\t\tpart : part,\r\n\t\t\t\t\t\t\t\t\treal : y2 == y && x2 == x,\r\n\t\t\t\t\t\t\t\t\telm : td,\r\n\t\t\t\t\t\t\t\t\trowspan : rowspan,\r\n\t\t\t\t\t\t\t\t\tcolspan : colspan\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\tstartY += rows.length;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction getCell(x, y) {\r\n\t\t\tvar row;\r\n\r\n\t\t\trow = grid[y];\r\n\t\t\tif (row)\r\n\t\t\t\treturn row[x];\r\n\t\t};\r\n\r\n\t\tfunction setSpanVal(td, name, val) {\r\n\t\t\tif (td) {\r\n\t\t\t\tval = parseInt(val);\r\n\r\n\t\t\t\tif (val === 1)\r\n\t\t\t\t\ttd.removeAttribute(name, 1);\r\n\t\t\t\telse\r\n\t\t\t\t\ttd.setAttribute(name, val, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction isCellSelected(cell) {\r\n\t\t\treturn cell && (dom.hasClass(cell.elm, 'mceSelected') || cell == selectedCell);\r\n\t\t};\r\n\r\n\t\tfunction getSelectedRows() {\r\n\t\t\tvar rows = [];\r\n\r\n\t\t\teach(table.rows, function(row) {\r\n\t\t\t\teach(row.cells, function(cell) {\r\n\t\t\t\t\tif (dom.hasClass(cell, 'mceSelected') || cell == selectedCell.elm) {\r\n\t\t\t\t\t\trows.push(row);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn rows;\r\n\t\t};\r\n\r\n\t\tfunction deleteTable() {\r\n\t\t\tvar rng = dom.createRng();\r\n\r\n\t\t\trng.setStartAfter(table);\r\n\t\t\trng.setEndAfter(table);\r\n\r\n\t\t\tselection.setRng(rng);\r\n\r\n\t\t\tdom.remove(table);\r\n\t\t};\r\n\r\n\t\tfunction cloneCell(cell) {\r\n\t\t\tvar formatNode;\r\n\r\n\t\t\t// Clone formats\r\n\t\t\ttinymce.walk(cell, function(node) {\r\n\t\t\t\tvar curNode;\r\n\r\n\t\t\t\tif (node.nodeType == 3) {\r\n\t\t\t\t\teach(dom.getParents(node.parentNode, null, cell).reverse(), function(node) {\r\n\t\t\t\t\t\tnode = cloneNode(node, false);\r\n\r\n\t\t\t\t\t\tif (!formatNode)\r\n\t\t\t\t\t\t\tformatNode = curNode = node;\r\n\t\t\t\t\t\telse if (curNode)\r\n\t\t\t\t\t\t\tcurNode.appendChild(node);\r\n\r\n\t\t\t\t\t\tcurNode = node;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Add something to the inner node\r\n\t\t\t\t\tif (curNode)\r\n\t\t\t\t\t\tcurNode.innerHTML = tinymce.isIE ? '&nbsp;' : '<br data-mce-bogus=\"1\" />';\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}, 'childNodes');\r\n\r\n\t\t\tcell = cloneNode(cell, false);\r\n\t\t\tsetSpanVal(cell, 'rowSpan', 1);\r\n\t\t\tsetSpanVal(cell, 'colSpan', 1);\r\n\r\n\t\t\tif (formatNode) {\r\n\t\t\t\tcell.appendChild(formatNode);\r\n\t\t\t} else {\r\n\t\t\t\tif (!tinymce.isIE)\r\n\t\t\t\t\tcell.innerHTML = '<br data-mce-bogus=\"1\" />';\r\n\t\t\t}\r\n\r\n\t\t\treturn cell;\r\n\t\t};\r\n\r\n\t\tfunction cleanup() {\r\n\t\t\tvar rng = dom.createRng();\r\n\r\n\t\t\t// Empty rows\r\n\t\t\teach(dom.select('tr', table), function(tr) {\r\n\t\t\t\tif (tr.cells.length == 0)\r\n\t\t\t\t\tdom.remove(tr);\r\n\t\t\t});\r\n\r\n\t\t\t// Empty table\r\n\t\t\tif (dom.select('tr', table).length == 0) {\r\n\t\t\t\trng.setStartAfter(table);\r\n\t\t\t\trng.setEndAfter(table);\r\n\t\t\t\tselection.setRng(rng);\r\n\t\t\t\tdom.remove(table);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Empty header/body/footer\r\n\t\t\teach(dom.select('thead,tbody,tfoot', table), function(part) {\r\n\t\t\t\tif (part.rows.length == 0)\r\n\t\t\t\t\tdom.remove(part);\r\n\t\t\t});\r\n\r\n\t\t\t// Restore selection to start position if it still exists\r\n\t\t\tbuildGrid();\r\n\r\n\t\t\t// Restore the selection to the closest table position\r\n\t\t\trow = grid[Math.min(grid.length - 1, startPos.y)];\r\n\t\t\tif (row) {\r\n\t\t\t\tselection.select(row[Math.min(row.length - 1, startPos.x)].elm, true);\r\n\t\t\t\tselection.collapse(true);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction fillLeftDown(x, y, rows, cols) {\r\n\t\t\tvar tr, x2, r, c, cell;\r\n\r\n\t\t\ttr = grid[y][x].elm.parentNode;\r\n\t\t\tfor (r = 1; r <= rows; r++) {\r\n\t\t\t\ttr = dom.getNext(tr, 'tr');\r\n\r\n\t\t\t\tif (tr) {\r\n\t\t\t\t\t// Loop left to find real cell\r\n\t\t\t\t\tfor (x2 = x; x2 >= 0; x2--) {\r\n\t\t\t\t\t\tcell = grid[y + r][x2].elm;\r\n\r\n\t\t\t\t\t\tif (cell.parentNode == tr) {\r\n\t\t\t\t\t\t\t// Append clones after\r\n\t\t\t\t\t\t\tfor (c = 1; c <= cols; c++)\r\n\t\t\t\t\t\t\t\tdom.insertAfter(cloneCell(cell), cell);\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (x2 == -1) {\r\n\t\t\t\t\t\t// Insert nodes before first cell\r\n\t\t\t\t\t\tfor (c = 1; c <= cols; c++)\r\n\t\t\t\t\t\t\ttr.insertBefore(cloneCell(tr.cells[0]), tr.cells[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction split() {\r\n\t\t\teach(grid, function(row, y) {\r\n\t\t\t\teach(row, function(cell, x) {\r\n\t\t\t\t\tvar colSpan, rowSpan, newCell, i;\r\n\r\n\t\t\t\t\tif (isCellSelected(cell)) {\r\n\t\t\t\t\t\tcell = cell.elm;\r\n\t\t\t\t\t\tcolSpan = getSpanVal(cell, 'colspan');\r\n\t\t\t\t\t\trowSpan = getSpanVal(cell, 'rowspan');\r\n\r\n\t\t\t\t\t\tif (colSpan > 1 || rowSpan > 1) {\r\n\t\t\t\t\t\t\tsetSpanVal(cell, 'rowSpan', 1);\r\n\t\t\t\t\t\t\tsetSpanVal(cell, 'colSpan', 1);\r\n\r\n\t\t\t\t\t\t\t// Insert cells right\r\n\t\t\t\t\t\t\tfor (i = 0; i < colSpan - 1; i++)\r\n\t\t\t\t\t\t\t\tdom.insertAfter(cloneCell(cell), cell);\r\n\r\n\t\t\t\t\t\t\tfillLeftDown(x, y, rowSpan - 1, colSpan);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction merge(cell, cols, rows) {\r\n\t\t\tvar startX, startY, endX, endY, x, y, startCell, endCell, cell, children, count;\r\n\r\n\t\t\t// Use specified cell and cols/rows\r\n\t\t\tif (cell) {\r\n\t\t\t\tpos = getPos(cell);\r\n\t\t\t\tstartX = pos.x;\r\n\t\t\t\tstartY = pos.y;\r\n\t\t\t\tendX = startX + (cols - 1);\r\n\t\t\t\tendY = startY + (rows - 1);\r\n\t\t\t} else {\r\n\t\t\t\t// Use selection\r\n\t\t\t\tstartX = startPos.x;\r\n\t\t\t\tstartY = startPos.y;\r\n\t\t\t\tendX = endPos.x;\r\n\t\t\t\tendY = endPos.y;\r\n\t\t\t}\r\n\r\n\t\t\t// Find start/end cells\r\n\t\t\tstartCell = getCell(startX, startY);\r\n\t\t\tendCell = getCell(endX, endY);\r\n\r\n\t\t\t// Check if the cells exists and if they are of the same part for example tbody = tbody\r\n\t\t\tif (startCell && endCell && startCell.part == endCell.part) {\r\n\t\t\t\t// Split and rebuild grid\r\n\t\t\t\tsplit();\r\n\t\t\t\tbuildGrid();\r\n\r\n\t\t\t\t// Set row/col span to start cell\r\n\t\t\t\tstartCell = getCell(startX, startY).elm;\r\n\t\t\t\tsetSpanVal(startCell, 'colSpan', (endX - startX) + 1);\r\n\t\t\t\tsetSpanVal(startCell, 'rowSpan', (endY - startY) + 1);\r\n\r\n\t\t\t\t// Remove other cells and add it's contents to the start cell\r\n\t\t\t\tfor (y = startY; y <= endY; y++) {\r\n\t\t\t\t\tfor (x = startX; x <= endX; x++) {\r\n\t\t\t\t\t\tif (!grid[y] || !grid[y][x])\r\n\t\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\t\tcell = grid[y][x].elm;\r\n\r\n\t\t\t\t\t\tif (cell != startCell) {\r\n\t\t\t\t\t\t\t// Move children to startCell\r\n\t\t\t\t\t\t\tchildren = tinymce.grep(cell.childNodes);\r\n\t\t\t\t\t\t\teach(children, function(node) {\r\n\t\t\t\t\t\t\t\tstartCell.appendChild(node);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// Remove bogus nodes if there is children in the target cell\r\n\t\t\t\t\t\t\tif (children.length) {\r\n\t\t\t\t\t\t\t\tchildren = tinymce.grep(startCell.childNodes);\r\n\t\t\t\t\t\t\t\tcount = 0;\r\n\t\t\t\t\t\t\t\teach(children, function(node) {\r\n\t\t\t\t\t\t\t\t\tif (node.nodeName == 'BR' && dom.getAttrib(node, 'data-mce-bogus') && count++ < children.length - 1)\r\n\t\t\t\t\t\t\t\t\t\tstartCell.removeChild(node);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Remove cell\r\n\t\t\t\t\t\t\tdom.remove(cell);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove empty rows etc and restore caret location\r\n\t\t\t\tcleanup();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction insertRow(before) {\r\n\t\t\tvar posY, cell, lastCell, x, rowElm, newRow, newCell, otherCell, rowSpan;\r\n\r\n\t\t\t// Find first/last row\r\n\t\t\teach(grid, function(row, y) {\r\n\t\t\t\teach(row, function(cell, x) {\r\n\t\t\t\t\tif (isCellSelected(cell)) {\r\n\t\t\t\t\t\tcell = cell.elm;\r\n\t\t\t\t\t\trowElm = cell.parentNode;\r\n\t\t\t\t\t\tnewRow = cloneNode(rowElm, false);\r\n\t\t\t\t\t\tposY = y;\r\n\r\n\t\t\t\t\t\tif (before)\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (before)\r\n\t\t\t\t\treturn !posY;\r\n\t\t\t});\r\n\r\n\t\t\tfor (x = 0; x < grid[0].length; x++) {\r\n\t\t\t\t// Cell not found could be because of an invalid table structure\r\n\t\t\t\tif (!grid[posY][x])\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tcell = grid[posY][x].elm;\r\n\r\n\t\t\t\tif (cell != lastCell) {\r\n\t\t\t\t\tif (!before) {\r\n\t\t\t\t\t\trowSpan = getSpanVal(cell, 'rowspan');\r\n\t\t\t\t\t\tif (rowSpan > 1) {\r\n\t\t\t\t\t\t\tsetSpanVal(cell, 'rowSpan', rowSpan + 1);\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Check if cell above can be expanded\r\n\t\t\t\t\t\tif (posY > 0 && grid[posY - 1][x]) {\r\n\t\t\t\t\t\t\totherCell = grid[posY - 1][x].elm;\r\n\t\t\t\t\t\t\trowSpan = getSpanVal(otherCell, 'rowSpan');\r\n\t\t\t\t\t\t\tif (rowSpan > 1) {\r\n\t\t\t\t\t\t\t\tsetSpanVal(otherCell, 'rowSpan', rowSpan + 1);\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Insert new cell into new row\r\n\t\t\t\t\tnewCell = cloneCell(cell);\r\n\t\t\t\t\tsetSpanVal(newCell, 'colSpan', cell.colSpan);\r\n\r\n\t\t\t\t\tnewRow.appendChild(newCell);\r\n\r\n\t\t\t\t\tlastCell = cell;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (newRow.hasChildNodes()) {\r\n\t\t\t\tif (!before)\r\n\t\t\t\t\tdom.insertAfter(newRow, rowElm);\r\n\t\t\t\telse\r\n\t\t\t\t\trowElm.parentNode.insertBefore(newRow, rowElm);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction insertCol(before) {\r\n\t\t\tvar posX, lastCell;\r\n\r\n\t\t\t// Find first/last column\r\n\t\t\teach(grid, function(row, y) {\r\n\t\t\t\teach(row, function(cell, x) {\r\n\t\t\t\t\tif (isCellSelected(cell)) {\r\n\t\t\t\t\t\tposX = x;\r\n\r\n\t\t\t\t\t\tif (before)\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (before)\r\n\t\t\t\t\treturn !posX;\r\n\t\t\t});\r\n\r\n\t\t\teach(grid, function(row, y) {\r\n\t\t\t\tvar cell, rowSpan, colSpan;\r\n\r\n\t\t\t\tif (!row[posX])\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tcell = row[posX].elm;\r\n\t\t\t\tif (cell != lastCell) {\r\n\t\t\t\t\tcolSpan = getSpanVal(cell, 'colspan');\r\n\t\t\t\t\trowSpan = getSpanVal(cell, 'rowspan');\r\n\r\n\t\t\t\t\tif (colSpan == 1) {\r\n\t\t\t\t\t\tif (!before) {\r\n\t\t\t\t\t\t\tdom.insertAfter(cloneCell(cell), cell);\r\n\t\t\t\t\t\t\tfillLeftDown(posX, y, rowSpan - 1, colSpan);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcell.parentNode.insertBefore(cloneCell(cell), cell);\r\n\t\t\t\t\t\t\tfillLeftDown(posX, y, rowSpan - 1, colSpan);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tsetSpanVal(cell, 'colSpan', cell.colSpan + 1);\r\n\r\n\t\t\t\t\tlastCell = cell;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction deleteCols() {\r\n\t\t\tvar cols = [];\r\n\r\n\t\t\t// Get selected column indexes\r\n\t\t\teach(grid, function(row, y) {\r\n\t\t\t\teach(row, function(cell, x) {\r\n\t\t\t\t\tif (isCellSelected(cell) && tinymce.inArray(cols, x) === -1) {\r\n\t\t\t\t\t\teach(grid, function(row) {\r\n\t\t\t\t\t\t\tvar cell = row[x].elm, colSpan;\r\n\r\n\t\t\t\t\t\t\tcolSpan = getSpanVal(cell, 'colSpan');\r\n\r\n\t\t\t\t\t\t\tif (colSpan > 1)\r\n\t\t\t\t\t\t\t\tsetSpanVal(cell, 'colSpan', colSpan - 1);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tdom.remove(cell);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tcols.push(x);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tcleanup();\r\n\t\t};\r\n\r\n\t\tfunction deleteRows() {\r\n\t\t\tvar rows;\r\n\r\n\t\t\tfunction deleteRow(tr) {\r\n\t\t\t\tvar nextTr, pos, lastCell;\r\n\r\n\t\t\t\tnextTr = dom.getNext(tr, 'tr');\r\n\r\n\t\t\t\t// Move down row spanned cells\r\n\t\t\t\teach(tr.cells, function(cell) {\r\n\t\t\t\t\tvar rowSpan = getSpanVal(cell, 'rowSpan');\r\n\r\n\t\t\t\t\tif (rowSpan > 1) {\r\n\t\t\t\t\t\tsetSpanVal(cell, 'rowSpan', rowSpan - 1);\r\n\t\t\t\t\t\tpos = getPos(cell);\r\n\t\t\t\t\t\tfillLeftDown(pos.x, pos.y, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Delete cells\r\n\t\t\t\tpos = getPos(tr.cells[0]);\r\n\t\t\t\teach(grid[pos.y], function(cell) {\r\n\t\t\t\t\tvar rowSpan;\r\n\r\n\t\t\t\t\tcell = cell.elm;\r\n\r\n\t\t\t\t\tif (cell != lastCell) {\r\n\t\t\t\t\t\trowSpan = getSpanVal(cell, 'rowSpan');\r\n\r\n\t\t\t\t\t\tif (rowSpan <= 1)\r\n\t\t\t\t\t\t\tdom.remove(cell);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tsetSpanVal(cell, 'rowSpan', rowSpan - 1);\r\n\r\n\t\t\t\t\t\tlastCell = cell;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t// Get selected rows and move selection out of scope\r\n\t\t\trows = getSelectedRows();\r\n\r\n\t\t\t// Delete all selected rows\r\n\t\t\teach(rows.reverse(), function(tr) {\r\n\t\t\t\tdeleteRow(tr);\r\n\t\t\t});\r\n\r\n\t\t\tcleanup();\r\n\t\t};\r\n\r\n\t\tfunction cutRows() {\r\n\t\t\tvar rows = getSelectedRows();\r\n\r\n\t\t\tdom.remove(rows);\r\n\t\t\tcleanup();\r\n\r\n\t\t\treturn rows;\r\n\t\t};\r\n\r\n\t\tfunction copyRows() {\r\n\t\t\tvar rows = getSelectedRows();\r\n\r\n\t\t\teach(rows, function(row, i) {\r\n\t\t\t\trows[i] = cloneNode(row, true);\r\n\t\t\t});\r\n\r\n\t\t\treturn rows;\r\n\t\t};\r\n\r\n\t\tfunction pasteRows(rows, before) {\r\n\t\t\tvar selectedRows = getSelectedRows(),\r\n\t\t\t\ttargetRow = selectedRows[before ? 0 : selectedRows.length - 1],\r\n\t\t\t\ttargetCellCount = targetRow.cells.length;\r\n\r\n\t\t\t// Calc target cell count\r\n\t\t\teach(grid, function(row) {\r\n\t\t\t\tvar match;\r\n\r\n\t\t\t\ttargetCellCount = 0;\r\n\t\t\t\teach(row, function(cell, x) {\r\n\t\t\t\t\tif (cell.real)\r\n\t\t\t\t\t\ttargetCellCount += cell.colspan;\r\n\r\n\t\t\t\t\tif (cell.elm.parentNode == targetRow)\r\n\t\t\t\t\t\tmatch = 1;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (match)\r\n\t\t\t\t\treturn false;\r\n\t\t\t});\r\n\r\n\t\t\tif (!before)\r\n\t\t\t\trows.reverse();\r\n\r\n\t\t\teach(rows, function(row) {\r\n\t\t\t\tvar cellCount = row.cells.length, cell;\r\n\r\n\t\t\t\t// Remove col/rowspans\r\n\t\t\t\tfor (i = 0; i < cellCount; i++) {\r\n\t\t\t\t\tcell = row.cells[i];\r\n\t\t\t\t\tsetSpanVal(cell, 'colSpan', 1);\r\n\t\t\t\t\tsetSpanVal(cell, 'rowSpan', 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Needs more cells\r\n\t\t\t\tfor (i = cellCount; i < targetCellCount; i++)\r\n\t\t\t\t\trow.appendChild(cloneCell(row.cells[cellCount - 1]));\r\n\r\n\t\t\t\t// Needs less cells\r\n\t\t\t\tfor (i = targetCellCount; i < cellCount; i++)\r\n\t\t\t\t\tdom.remove(row.cells[i]);\r\n\r\n\t\t\t\t// Add before/after\r\n\t\t\t\tif (before)\r\n\t\t\t\t\ttargetRow.parentNode.insertBefore(row, targetRow);\r\n\t\t\t\telse\r\n\t\t\t\t\tdom.insertAfter(row, targetRow);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tfunction getPos(target) {\r\n\t\t\tvar pos;\r\n\r\n\t\t\teach(grid, function(row, y) {\r\n\t\t\t\teach(row, function(cell, x) {\r\n\t\t\t\t\tif (cell.elm == target) {\r\n\t\t\t\t\t\tpos = {x : x, y : y};\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn !pos;\r\n\t\t\t});\r\n\r\n\t\t\treturn pos;\r\n\t\t};\r\n\r\n\t\tfunction setStartCell(cell) {\r\n\t\t\tstartPos = getPos(cell);\r\n\t\t};\r\n\r\n\t\tfunction findEndPos() {\r\n\t\t\tvar pos, maxX, maxY;\r\n\r\n\t\t\tmaxX = maxY = 0;\r\n\r\n\t\t\teach(grid, function(row, y) {\r\n\t\t\t\teach(row, function(cell, x) {\r\n\t\t\t\t\tvar colSpan, rowSpan;\r\n\r\n\t\t\t\t\tif (isCellSelected(cell)) {\r\n\t\t\t\t\t\tcell = grid[y][x];\r\n\r\n\t\t\t\t\t\tif (x > maxX)\r\n\t\t\t\t\t\t\tmaxX = x;\r\n\r\n\t\t\t\t\t\tif (y > maxY)\r\n\t\t\t\t\t\t\tmaxY = y;\r\n\r\n\t\t\t\t\t\tif (cell.real) {\r\n\t\t\t\t\t\t\tcolSpan = cell.colspan - 1;\r\n\t\t\t\t\t\t\trowSpan = cell.rowspan - 1;\r\n\r\n\t\t\t\t\t\t\tif (colSpan) {\r\n\t\t\t\t\t\t\t\tif (x + colSpan > maxX)\r\n\t\t\t\t\t\t\t\t\tmaxX = x + colSpan;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (rowSpan) {\r\n\t\t\t\t\t\t\t\tif (y + rowSpan > maxY)\r\n\t\t\t\t\t\t\t\t\tmaxY = y + rowSpan;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn {x : maxX, y : maxY};\r\n\t\t};\r\n\r\n\t\tfunction setEndCell(cell) {\r\n\t\t\tvar startX, startY, endX, endY, maxX, maxY, colSpan, rowSpan;\r\n\r\n\t\t\tendPos = getPos(cell);\r\n\r\n\t\t\tif (startPos && endPos) {\r\n\t\t\t\t// Get start/end positions\r\n\t\t\t\tstartX = Math.min(startPos.x, endPos.x);\r\n\t\t\t\tstartY = Math.min(startPos.y, endPos.y);\r\n\t\t\t\tendX = Math.max(startPos.x, endPos.x);\r\n\t\t\t\tendY = Math.max(startPos.y, endPos.y);\r\n\r\n\t\t\t\t// Expand end positon to include spans\r\n\t\t\t\tmaxX = endX;\r\n\t\t\t\tmaxY = endY;\r\n\r\n\t\t\t\t// Expand startX\r\n\t\t\t\tfor (y = startY; y <= maxY; y++) {\r\n\t\t\t\t\tcell = grid[y][startX];\r\n\r\n\t\t\t\t\tif (!cell.real) {\r\n\t\t\t\t\t\tif (startX - (cell.colspan - 1) < startX)\r\n\t\t\t\t\t\t\tstartX -= cell.colspan - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Expand startY\r\n\t\t\t\tfor (x = startX; x <= maxX; x++) {\r\n\t\t\t\t\tcell = grid[startY][x];\r\n\r\n\t\t\t\t\tif (!cell.real) {\r\n\t\t\t\t\t\tif (startY - (cell.rowspan - 1) < startY)\r\n\t\t\t\t\t\t\tstartY -= cell.rowspan - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Find max X, Y\r\n\t\t\t\tfor (y = startY; y <= endY; y++) {\r\n\t\t\t\t\tfor (x = startX; x <= endX; x++) {\r\n\t\t\t\t\t\tcell = grid[y][x];\r\n\r\n\t\t\t\t\t\tif (cell.real) {\r\n\t\t\t\t\t\t\tcolSpan = cell.colspan - 1;\r\n\t\t\t\t\t\t\trowSpan = cell.rowspan - 1;\r\n\r\n\t\t\t\t\t\t\tif (colSpan) {\r\n\t\t\t\t\t\t\t\tif (x + colSpan > maxX)\r\n\t\t\t\t\t\t\t\t\tmaxX = x + colSpan;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (rowSpan) {\r\n\t\t\t\t\t\t\t\tif (y + rowSpan > maxY)\r\n\t\t\t\t\t\t\t\t\tmaxY = y + rowSpan;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove current selection\r\n\t\t\t\tdom.removeClass(dom.select('td.mceSelected,th.mceSelected'), 'mceSelected');\r\n\r\n\t\t\t\t// Add new selection\r\n\t\t\t\tfor (y = startY; y <= maxY; y++) {\r\n\t\t\t\t\tfor (x = startX; x <= maxX; x++) {\r\n\t\t\t\t\t\tif (grid[y][x])\r\n\t\t\t\t\t\t\tdom.addClass(grid[y][x].elm, 'mceSelected');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Expose to public\r\n\t\ttinymce.extend(this, {\r\n\t\t\tdeleteTable : deleteTable,\r\n\t\t\tsplit : split,\r\n\t\t\tmerge : merge,\r\n\t\t\tinsertRow : insertRow,\r\n\t\t\tinsertCol : insertCol,\r\n\t\t\tdeleteCols : deleteCols,\r\n\t\t\tdeleteRows : deleteRows,\r\n\t\t\tcutRows : cutRows,\r\n\t\t\tcopyRows : copyRows,\r\n\t\t\tpasteRows : pasteRows,\r\n\t\t\tgetPos : getPos,\r\n\t\t\tsetStartCell : setStartCell,\r\n\t\t\tsetEndCell : setEndCell\r\n\t\t});\r\n\t};\r\n\r\n\ttinymce.create('tinymce.plugins.TablePlugin', {\r\n\t\tinit : function(ed, url) {\r\n\t\t\tvar winMan, clipboardRows, hasCellSelection = true; // Might be selected cells on reload\r\n\r\n\t\t\tfunction createTableGrid(node) {\r\n\t\t\t\tvar selection = ed.selection, tblElm = ed.dom.getParent(node || selection.getNode(), 'table');\r\n\r\n\t\t\t\tif (tblElm)\r\n\t\t\t\t\treturn new TableGrid(tblElm, ed.dom, selection);\r\n\t\t\t};\r\n\r\n\t\t\tfunction cleanup() {\r\n\t\t\t\t// Restore selection possibilities\r\n\t\t\t\ted.getBody().style.webkitUserSelect = '';\r\n\r\n\t\t\t\tif (hasCellSelection) {\r\n\t\t\t\t\ted.dom.removeClass(ed.dom.select('td.mceSelected,th.mceSelected'), 'mceSelected');\r\n\t\t\t\t\thasCellSelection = false;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// Register buttons\r\n\t\t\teach([\r\n\t\t\t\t['table', 'table.desc', 'mceInsertTable', true],\r\n\t\t\t\t['delete_table', 'table.del', 'mceTableDelete'],\r\n\t\t\t\t['delete_col', 'table.delete_col_desc', 'mceTableDeleteCol'],\r\n\t\t\t\t['delete_row', 'table.delete_row_desc', 'mceTableDeleteRow'],\r\n\t\t\t\t['col_after', 'table.col_after_desc', 'mceTableInsertColAfter'],\r\n\t\t\t\t['col_before', 'table.col_before_desc', 'mceTableInsertColBefore'],\r\n\t\t\t\t['row_after', 'table.row_after_desc', 'mceTableInsertRowAfter'],\r\n\t\t\t\t['row_before', 'table.row_before_desc', 'mceTableInsertRowBefore'],\r\n\t\t\t\t['row_props', 'table.row_desc', 'mceTableRowProps', true],\r\n\t\t\t\t['cell_props', 'table.cell_desc', 'mceTableCellProps', true],\r\n\t\t\t\t['split_cells', 'table.split_cells_desc', 'mceTableSplitCells', true],\r\n\t\t\t\t['merge_cells', 'table.merge_cells_desc', 'mceTableMergeCells', true]\r\n\t\t\t], function(c) {\r\n\t\t\t\ted.addButton(c[0], {title : c[1], cmd : c[2], ui : c[3]});\r\n\t\t\t});\r\n\r\n\t\t\t// Select whole table is a table border is clicked\r\n\t\t\tif (!tinymce.isIE) {\r\n\t\t\t\ted.onClick.add(function(ed, e) {\r\n\t\t\t\t\te = e.target;\r\n\r\n\t\t\t\t\tif (e.nodeName === 'TABLE') {\r\n\t\t\t\t\t\ted.selection.select(e);\r\n\t\t\t\t\t\ted.nodeChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ted.onPreProcess.add(function(ed, args) {\r\n\t\t\t\tvar nodes, i, node, dom = ed.dom, value;\r\n\r\n\t\t\t\tnodes = dom.select('table', args.node);\r\n\t\t\t\ti = nodes.length;\r\n\t\t\t\twhile (i--) {\r\n\t\t\t\t\tnode = nodes[i];\r\n\t\t\t\t\tdom.setAttrib(node, 'data-mce-style', '');\r\n\r\n\t\t\t\t\tif ((value = dom.getAttrib(node, 'width'))) {\r\n\t\t\t\t\t\tdom.setStyle(node, 'width', value);\r\n\t\t\t\t\t\tdom.setAttrib(node, 'width', '');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ((value = dom.getAttrib(node, 'height'))) {\r\n\t\t\t\t\t\tdom.setStyle(node, 'height', value);\r\n\t\t\t\t\t\tdom.setAttrib(node, 'height', '');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Handle node change updates\r\n\t\t\ted.onNodeChange.add(function(ed, cm, n) {\r\n\t\t\t\tvar p;\r\n\r\n\t\t\t\tn = ed.selection.getStart();\r\n\t\t\t\tp = ed.dom.getParent(n, 'td,th,caption');\r\n\t\t\t\tcm.setActive('table', n.nodeName === 'TABLE' || !!p);\r\n\r\n\t\t\t\t// Disable table tools if we are in caption\r\n\t\t\t\tif (p && p.nodeName === 'CAPTION')\r\n\t\t\t\t\tp = 0;\r\n\r\n\t\t\t\tcm.setDisabled('delete_table', !p);\r\n\t\t\t\tcm.setDisabled('delete_col', !p);\r\n\t\t\t\tcm.setDisabled('delete_table', !p);\r\n\t\t\t\tcm.setDisabled('delete_row', !p);\r\n\t\t\t\tcm.setDisabled('col_after', !p);\r\n\t\t\t\tcm.setDisabled('col_before', !p);\r\n\t\t\t\tcm.setDisabled('row_after', !p);\r\n\t\t\t\tcm.setDisabled('row_before', !p);\r\n\t\t\t\tcm.setDisabled('row_props', !p);\r\n\t\t\t\tcm.setDisabled('cell_props', !p);\r\n\t\t\t\tcm.setDisabled('split_cells', !p);\r\n\t\t\t\tcm.setDisabled('merge_cells', !p);\r\n\t\t\t});\r\n\r\n\t\t\ted.onInit.add(function(ed) {\r\n\t\t\t\tvar startTable, startCell, dom = ed.dom, tableGrid;\r\n\r\n\t\t\t\twinMan = ed.windowManager;\r\n\r\n\t\t\t\t// Add cell selection logic\r\n\t\t\t\ted.onMouseDown.add(function(ed, e) {\r\n\t\t\t\t\tif (e.button != 2) {\r\n\t\t\t\t\t\tcleanup();\r\n\r\n\t\t\t\t\t\tstartCell = dom.getParent(e.target, 'td,th');\r\n\t\t\t\t\t\tstartTable = dom.getParent(startCell, 'table');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tdom.bind(ed.getDoc(), 'mouseover', function(e) {\r\n\t\t\t\t\tvar sel, table, target = e.target;\r\n\r\n\t\t\t\t\tif (startCell && (tableGrid || target != startCell) && (target.nodeName == 'TD' || target.nodeName == 'TH')) {\r\n\t\t\t\t\t\ttable = dom.getParent(target, 'table');\r\n\t\t\t\t\t\tif (table == startTable) {\r\n\t\t\t\t\t\t\tif (!tableGrid) {\r\n\t\t\t\t\t\t\t\ttableGrid = createTableGrid(table);\r\n\t\t\t\t\t\t\t\ttableGrid.setStartCell(startCell);\r\n\r\n\t\t\t\t\t\t\t\ted.getBody().style.webkitUserSelect = 'none';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\ttableGrid.setEndCell(target);\r\n\t\t\t\t\t\t\thasCellSelection = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Remove current selection\r\n\t\t\t\t\t\tsel = ed.selection.getSel();\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tif (sel.removeAllRanges)\r\n\t\t\t\t\t\t\t\tsel.removeAllRanges();\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tsel.empty();\r\n\t\t\t\t\t\t} catch (ex) {\r\n\t\t\t\t\t\t\t// IE9 might throw errors here\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\ted.onMouseUp.add(function(ed, e) {\r\n\t\t\t\t\tvar rng, sel = ed.selection, selectedCells, nativeSel = sel.getSel(), walker, node, lastNode, endNode;\r\n\r\n\t\t\t\t\t// Move selection to startCell\r\n\t\t\t\t\tif (startCell) {\r\n\t\t\t\t\t\tif (tableGrid)\r\n\t\t\t\t\t\t\ted.getBody().style.webkitUserSelect = '';\r\n\r\n\t\t\t\t\t\tfunction setPoint(node, start) {\r\n\t\t\t\t\t\t\tvar walker = new tinymce.dom.TreeWalker(node, node);\r\n\r\n\t\t\t\t\t\t\tdo {\r\n\t\t\t\t\t\t\t\t// Text node\r\n\t\t\t\t\t\t\t\tif (node.nodeType == 3 && tinymce.trim(node.nodeValue).length != 0) {\r\n\t\t\t\t\t\t\t\t\tif (start)\r\n\t\t\t\t\t\t\t\t\t\trng.setStart(node, 0);\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\trng.setEnd(node, node.nodeValue.length);\r\n\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// BR element\r\n\t\t\t\t\t\t\t\tif (node.nodeName == 'BR') {\r\n\t\t\t\t\t\t\t\t\tif (start)\r\n\t\t\t\t\t\t\t\t\t\trng.setStartBefore(node);\r\n\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\trng.setEndBefore(node);\r\n\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} while (node = (start ? walker.next() : walker.prev()));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Try to expand text selection as much as we can only Gecko supports cell selection\r\n\t\t\t\t\t\tselectedCells = dom.select('td.mceSelected,th.mceSelected');\r\n\t\t\t\t\t\tif (selectedCells.length > 0) {\r\n\t\t\t\t\t\t\trng = dom.createRng();\r\n\t\t\t\t\t\t\tnode = selectedCells[0];\r\n\t\t\t\t\t\t\tendNode = selectedCells[selectedCells.length - 1];\r\n\t\t\t\t\t\t\trng.setStartBefore(node);\r\n\t\t\t\t\t\t\trng.setEndAfter(node);\r\n\r\n\t\t\t\t\t\t\tsetPoint(node, 1);\r\n\t\t\t\t\t\t\twalker = new tinymce.dom.TreeWalker(node, dom.getParent(selectedCells[0], 'table'));\r\n\r\n\t\t\t\t\t\t\tdo {\r\n\t\t\t\t\t\t\t\tif (node.nodeName == 'TD' || node.nodeName == 'TH') {\r\n\t\t\t\t\t\t\t\t\tif (!dom.hasClass(node, 'mceSelected'))\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\t\tlastNode = node;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} while (node = walker.next());\r\n\r\n\t\t\t\t\t\t\tsetPoint(lastNode);\r\n\r\n\t\t\t\t\t\t\tsel.setRng(rng);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ted.nodeChanged();\r\n\t\t\t\t\t\tstartCell = tableGrid = startTable = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\ted.onKeyUp.add(function(ed, e) {\r\n\t\t\t\t\tcleanup();\r\n\t\t\t\t});\r\n\r\n\t\t\t\ted.onKeyDown.add(function (ed, e) {\r\n\t\t\t\t\tfixTableCellSelection(ed);\r\n\t\t\t\t});\r\n\r\n\t\t\t\ted.onMouseDown.add(function (ed, e) {\r\n\t\t\t\t\tif (e.button != 2) {\r\n\t\t\t\t\t\tfixTableCellSelection(ed);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tfunction tableCellSelected(ed, rng, n, currentCell) {\r\n\t\t\t\t\t// The decision of when a table cell is selected is somewhat involved.  The fact that this code is\r\n\t\t\t\t\t// required is actually a pointer to the root cause of this bug. A cell is selected when the start \r\n\t\t\t\t\t// and end offsets are 0, the start container is a text, and the selection node is either a TR (most cases)\r\n\t\t\t\t\t// or the parent of the table (in the case of the selection containing the last cell of a table).\r\n\t\t\t\t\tvar TEXT_NODE = 3, table = ed.dom.getParent(rng.startContainer, 'TABLE'), \r\n\t\t\t\t\ttableParent, allOfCellSelected, tableCellSelection;\r\n\t\t\t\t\tif (table) \r\n\t\t\t\t\ttableParent = table.parentNode;\r\n\t\t\t\t\tallOfCellSelected =rng.startContainer.nodeType == TEXT_NODE && \r\n\t\t\t\t\t\trng.startOffset == 0 && \r\n\t\t\t\t\t\trng.endOffset == 0 && \r\n\t\t\t\t\t\tcurrentCell && \r\n\t\t\t\t\t\t(n.nodeName==\"TR\" || n==tableParent);\r\n\t\t\t\t\ttableCellSelection = (n.nodeName==\"TD\"||n.nodeName==\"TH\")&& !currentCell;\t   \r\n\t\t\t\t\treturn  allOfCellSelected || tableCellSelection;\r\n\t\t\t\t\t// return false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// this nasty hack is here to work around some WebKit selection bugs.\r\n\t\t\t\tfunction fixTableCellSelection(ed) {\r\n\t\t\t\t\tif (!tinymce.isWebKit)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tvar rng = ed.selection.getRng();\r\n\t\t\t\t\tvar n = ed.selection.getNode();\r\n\t\t\t\t\tvar currentCell = ed.dom.getParent(rng.startContainer, 'TD,TH');\r\n\t\t\t\t\r\n\t\t\t\t\tif (!tableCellSelected(ed, rng, n, currentCell))\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\tif (!currentCell) {\r\n\t\t\t\t\t\t\tcurrentCell=n;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Get the very last node inside the table cell\r\n\t\t\t\t\tvar end = currentCell.lastChild;\r\n\t\t\t\t\twhile (end.lastChild)\r\n\t\t\t\t\t\tend = end.lastChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Select the entire table cell. Nothing outside of the table cell should be selected.\r\n\t\t\t\t\trng.setEnd(end, end.nodeValue.length);\r\n\t\t\t\t\ted.selection.setRng(rng);\r\n\t\t\t\t}\r\n\t\t\t\ted.plugins.table.fixTableCellSelection=fixTableCellSelection;\r\n\r\n\t\t\t\t// Add context menu\r\n\t\t\t\tif (ed && ed.plugins.contextmenu) {\r\n\t\t\t\t\ted.plugins.contextmenu.onContextMenu.add(function(th, m, e) {\r\n\t\t\t\t\t\tvar sm, se = ed.selection, el = se.getNode() || ed.getBody();\r\n\r\n\t\t\t\t\t\tif (ed.dom.getParent(e, 'td') || ed.dom.getParent(e, 'th') || ed.dom.select('td.mceSelected,th.mceSelected').length) {\r\n\t\t\t\t\t\t\tm.removeAll();\r\n\r\n\t\t\t\t\t\t\tif (el.nodeName == 'A' && !ed.dom.getAttrib(el, 'name')) {\r\n\t\t\t\t\t\t\t\tm.add({title : 'advanced.link_desc', icon : 'link', cmd : ed.plugins.advlink ? 'mceAdvLink' : 'mceLink', ui : true});\r\n\t\t\t\t\t\t\t\tm.add({title : 'advanced.unlink_desc', icon : 'unlink', cmd : 'UnLink'});\r\n\t\t\t\t\t\t\t\tm.addSeparator();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (el.nodeName == 'IMG' && el.className.indexOf('mceItem') == -1) {\r\n\t\t\t\t\t\t\t\tm.add({title : 'advanced.image_desc', icon : 'image', cmd : ed.plugins.advimage ? 'mceAdvImage' : 'mceImage', ui : true});\r\n\t\t\t\t\t\t\t\tm.addSeparator();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tm.add({title : 'table.desc', icon : 'table', cmd : 'mceInsertTable', value : {action : 'insert'}});\r\n\t\t\t\t\t\t\tm.add({title : 'table.props_desc', icon : 'table_props', cmd : 'mceInsertTable'});\r\n\t\t\t\t\t\t\tm.add({title : 'table.del', icon : 'delete_table', cmd : 'mceTableDelete'});\r\n\t\t\t\t\t\t\tm.addSeparator();\r\n\r\n\t\t\t\t\t\t\t// Cell menu\r\n\t\t\t\t\t\t\tsm = m.addMenu({title : 'table.cell'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.cell_desc', icon : 'cell_props', cmd : 'mceTableCellProps'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.split_cells_desc', icon : 'split_cells', cmd : 'mceTableSplitCells'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.merge_cells_desc', icon : 'merge_cells', cmd : 'mceTableMergeCells'});\r\n\r\n\t\t\t\t\t\t\t// Row menu\r\n\t\t\t\t\t\t\tsm = m.addMenu({title : 'table.row'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.row_desc', icon : 'row_props', cmd : 'mceTableRowProps'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.row_before_desc', icon : 'row_before', cmd : 'mceTableInsertRowBefore'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.row_after_desc', icon : 'row_after', cmd : 'mceTableInsertRowAfter'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.delete_row_desc', icon : 'delete_row', cmd : 'mceTableDeleteRow'});\r\n\t\t\t\t\t\t\tsm.addSeparator();\r\n\t\t\t\t\t\t\tsm.add({title : 'table.cut_row_desc', icon : 'cut', cmd : 'mceTableCutRow'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.copy_row_desc', icon : 'copy', cmd : 'mceTableCopyRow'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.paste_row_before_desc', icon : 'paste', cmd : 'mceTablePasteRowBefore'}).setDisabled(!clipboardRows);\r\n\t\t\t\t\t\t\tsm.add({title : 'table.paste_row_after_desc', icon : 'paste', cmd : 'mceTablePasteRowAfter'}).setDisabled(!clipboardRows);\r\n\r\n\t\t\t\t\t\t\t// Column menu\r\n\t\t\t\t\t\t\tsm = m.addMenu({title : 'table.col'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.col_before_desc', icon : 'col_before', cmd : 'mceTableInsertColBefore'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.col_after_desc', icon : 'col_after', cmd : 'mceTableInsertColAfter'});\r\n\t\t\t\t\t\t\tsm.add({title : 'table.delete_col_desc', icon : 'delete_col', cmd : 'mceTableDeleteCol'});\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tm.add({title : 'table.desc', icon : 'table', cmd : 'mceInsertTable'});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fix to allow navigating up and down in a table in WebKit browsers.\r\n\t\t\t\tif (tinymce.isWebKit) {\r\n\t\t\t\t\tfunction moveSelection(ed, e) {\r\n\t\t\t\t\t\tvar VK = tinymce.VK;\r\n\t\t\t\t\t\tvar key = e.keyCode;\r\n\r\n\t\t\t\t\t\tfunction handle(upBool, sourceNode, event) {\r\n\t\t\t\t\t\t\tvar siblingDirection = upBool ? 'previousSibling' : 'nextSibling';\r\n\t\t\t\t\t\t\tvar currentRow = ed.dom.getParent(sourceNode, 'tr');\r\n\t\t\t\t\t\t\tvar siblingRow = currentRow[siblingDirection];\r\n\r\n\t\t\t\t\t\t\tif (siblingRow) {\r\n\t\t\t\t\t\t\t\tmoveCursorToRow(ed, sourceNode, siblingRow, upBool);\r\n\t\t\t\t\t\t\t\ttinymce.dom.Event.cancel(event);\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar tableNode = ed.dom.getParent(currentRow, 'table');\r\n\t\t\t\t\t\t\t\tvar middleNode = currentRow.parentNode;\r\n\t\t\t\t\t\t\t\tvar parentNodeName = middleNode.nodeName.toLowerCase();\r\n\t\t\t\t\t\t\t\tif (parentNodeName === 'tbody' || parentNodeName === (upBool ? 'tfoot' : 'thead')) {\r\n\t\t\t\t\t\t\t\t\tvar targetParent = getTargetParent(upBool, tableNode, middleNode, 'tbody');\r\n\t\t\t\t\t\t\t\t\tif (targetParent !== null) {\r\n\t\t\t\t\t\t\t\t\t\treturn moveToRowInTarget(upBool, targetParent, sourceNode, event);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn escapeTable(upBool, currentRow, siblingDirection, tableNode, event);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction getTargetParent(upBool, topNode, secondNode, nodeName) {\r\n\t\t\t\t\t\t\tvar tbodies = ed.dom.select('>' + nodeName, topNode);\r\n\t\t\t\t\t\t\tvar position = tbodies.indexOf(secondNode);\r\n\t\t\t\t\t\t\tif (upBool && position === 0 || !upBool && position === tbodies.length - 1) {\r\n\t\t\t\t\t\t\t\treturn getFirstHeadOrFoot(upBool, topNode);\r\n\t\t\t\t\t\t\t} else if (position === -1) {\r\n\t\t\t\t\t\t\t\tvar topOrBottom = secondNode.tagName.toLowerCase() === 'thead' ? 0 : tbodies.length - 1;\r\n\t\t\t\t\t\t\t\treturn tbodies[topOrBottom];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn tbodies[position + (upBool ? -1 : 1)];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction getFirstHeadOrFoot(upBool, parent) {\r\n\t\t\t\t\t\t\tvar tagName = upBool ? 'thead' : 'tfoot';\r\n\t\t\t\t\t\t\tvar headOrFoot = ed.dom.select('>' + tagName, parent);\r\n\t\t\t\t\t\t\treturn headOrFoot.length !== 0 ? headOrFoot[0] : null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction moveToRowInTarget(upBool, targetParent, sourceNode, event) {\r\n\t\t\t\t\t\t\tvar targetRow = getChildForDirection(targetParent, upBool);\r\n\t\t\t\t\t\t\ttargetRow && moveCursorToRow(ed, sourceNode, targetRow, upBool);\r\n\t\t\t\t\t\t\ttinymce.dom.Event.cancel(event);\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction escapeTable(upBool, currentRow, siblingDirection, table, event) {\r\n\t\t\t\t\t\t\tvar tableSibling = table[siblingDirection];\r\n\t\t\t\t\t\t\tif (tableSibling) {\r\n\t\t\t\t\t\t\t\tmoveCursorToStartOfElement(tableSibling);\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar parentCell = ed.dom.getParent(table, 'td,th');\r\n\t\t\t\t\t\t\t\tif (parentCell) {\r\n\t\t\t\t\t\t\t\t\treturn handle(upBool, parentCell, event);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar backUpSibling = getChildForDirection(currentRow, !upBool);\r\n\t\t\t\t\t\t\t\t\tmoveCursorToStartOfElement(backUpSibling);\r\n\t\t\t\t\t\t\t\t\treturn tinymce.dom.Event.cancel(event);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction getChildForDirection(parent, up) {\r\n\t\t\t\t\t\t\treturn parent && parent[up ? 'lastChild' : 'firstChild'];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction moveCursorToStartOfElement(n) {\r\n\t\t\t\t\t\t\ted.selection.setCursorLocation(n, 0);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction isVerticalMovement() {\r\n\t\t\t\t\t\t\treturn key == VK.UP || key == VK.DOWN;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction isInTable(ed) {\r\n\t\t\t\t\t\t\tvar node = ed.selection.getNode();\r\n\t\t\t\t\t\t\tvar currentRow = ed.dom.getParent(node, 'tr');\r\n\t\t\t\t\t\t\treturn currentRow !== null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction columnIndex(column) {\r\n\t\t\t\t\t\t\tvar colIndex = 0;\r\n\t\t\t\t\t\t\tvar c = column;\r\n\t\t\t\t\t\t\twhile (c.previousSibling) {\r\n\t\t\t\t\t\t\t\tc = c.previousSibling;\r\n\t\t\t\t\t\t\t\tcolIndex = colIndex + getSpanVal(c, \"colspan\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn colIndex;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction findColumn(rowElement, columnIndex) {\r\n\t\t\t\t\t\t\tvar c = 0;\r\n\t\t\t\t\t\t\tvar r = 0;\r\n\t\t\t\t\t\t\teach(rowElement.children, function(cell, i) {\r\n\t\t\t\t\t\t\t\tc = c + getSpanVal(cell, \"colspan\");\r\n\t\t\t\t\t\t\t\tr = i;\r\n\t\t\t\t\t\t\t\tif (c > columnIndex)\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction moveCursorToRow(ed, node, row, upBool) {\r\n\t\t\t\t\t\t\tvar srcColumnIndex = columnIndex(ed.dom.getParent(node, 'td,th'));\r\n\t\t\t\t\t\t\tvar tgtColumnIndex = findColumn(row, srcColumnIndex);\r\n\t\t\t\t\t\t\tvar tgtNode = row.childNodes[tgtColumnIndex];\r\n\t\t\t\t\t\t\tvar rowCellTarget = getChildForDirection(tgtNode, upBool);\r\n\t\t\t\t\t\t\tmoveCursorToStartOfElement(rowCellTarget || tgtNode);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction shouldFixCaret(preBrowserNode) {\r\n\t\t\t\t\t\t\tvar newNode = ed.selection.getNode();\r\n\t\t\t\t\t\t\tvar newParent = ed.dom.getParent(newNode, 'td,th');\r\n\t\t\t\t\t\t\tvar oldParent = ed.dom.getParent(preBrowserNode, 'td,th');\r\n\t\t\t\t\t\t\treturn newParent && newParent !== oldParent && checkSameParentTable(newParent, oldParent)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction checkSameParentTable(nodeOne, NodeTwo) {\r\n\t\t\t\t\t\t\treturn ed.dom.getParent(nodeOne, 'TABLE') === ed.dom.getParent(NodeTwo, 'TABLE');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (isVerticalMovement() && isInTable(ed)) {\r\n\t\t\t\t\t\t\tvar preBrowserNode = ed.selection.getNode();\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tif (shouldFixCaret(preBrowserNode)) {\r\n\t\t\t\t\t\t\t\t\thandle(!e.shiftKey && key === VK.UP, preBrowserNode, e);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ted.onKeyDown.add(moveSelection);\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t// Fixes an issue on Gecko where it's impossible to place the caret behind a table\r\n\t\t\t\t// This fix will force a paragraph element after the table but only when the forced_root_block setting is enabled\r\n\t\t\t\tif (!tinymce.isIE) {\r\n\t\t\t\t\tfunction fixTableCaretPos() {\r\n\t\t\t\t\t\tvar last;\r\n\r\n\t\t\t\t\t\t// Skip empty text nodes form the end\r\n\t\t\t\t\t\tfor (last = ed.getBody().lastChild; last && last.nodeType == 3 && !last.nodeValue.length; last = last.previousSibling) ;\r\n\r\n\t\t\t\t\t\tif (last && last.nodeName == 'TABLE')\r\n\t\t\t\t\t\t\ted.dom.add(ed.getBody(), 'p', null, '<br mce_bogus=\"1\" />');\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Fixes an bug where it's impossible to place the caret before a table in Gecko\r\n\t\t\t\t\t// this fix solves it by detecting when the caret is at the beginning of such a table\r\n\t\t\t\t\t// and then manually moves the caret infront of the table\r\n\t\t\t\t\tif (tinymce.isGecko) {\r\n\t\t\t\t\t\ted.onKeyDown.add(function(ed, e) {\r\n\t\t\t\t\t\t\tvar rng, table, dom = ed.dom;\r\n\r\n\t\t\t\t\t\t\t// On gecko it's not possible to place the caret before a table\r\n\t\t\t\t\t\t\tif (e.keyCode == 37 || e.keyCode == 38) {\r\n\t\t\t\t\t\t\t\trng = ed.selection.getRng();\r\n\t\t\t\t\t\t\t\ttable = dom.getParent(rng.startContainer, 'table');\r\n\r\n\t\t\t\t\t\t\t\tif (table && ed.getBody().firstChild == table) {\r\n\t\t\t\t\t\t\t\t\tif (isAtStart(rng, table)) {\r\n\t\t\t\t\t\t\t\t\t\trng = dom.createRng();\r\n\r\n\t\t\t\t\t\t\t\t\t\trng.setStartBefore(table);\r\n\t\t\t\t\t\t\t\t\t\trng.setEndBefore(table);\r\n\r\n\t\t\t\t\t\t\t\t\t\ted.selection.setRng(rng);\r\n\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ted.onKeyUp.add(fixTableCaretPos);\r\n\t\t\t\t\ted.onSetContent.add(fixTableCaretPos);\r\n\t\t\t\t\ted.onVisualAid.add(fixTableCaretPos);\r\n\r\n\t\t\t\t\ted.onPreProcess.add(function(ed, o) {\r\n\t\t\t\t\t\tvar last = o.node.lastChild;\r\n\r\n\t\t\t\t\t\tif (last && last.childNodes.length == 1 && last.firstChild.nodeName == 'BR')\r\n\t\t\t\t\t\t\ted.dom.remove(last);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tfixTableCaretPos();\r\n\t\t\t\t\ted.startContent = ed.getContent({format : 'raw'});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Register action commands\r\n\t\t\teach({\r\n\t\t\t\tmceTableSplitCells : function(grid) {\r\n\t\t\t\t\tgrid.split();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableMergeCells : function(grid) {\r\n\t\t\t\t\tvar rowSpan, colSpan, cell;\r\n\r\n\t\t\t\t\tcell = ed.dom.getParent(ed.selection.getNode(), 'th,td');\r\n\t\t\t\t\tif (cell) {\r\n\t\t\t\t\t\trowSpan = cell.rowSpan;\r\n\t\t\t\t\t\tcolSpan = cell.colSpan;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!ed.dom.select('td.mceSelected,th.mceSelected').length) {\r\n\t\t\t\t\t\twinMan.open({\r\n\t\t\t\t\t\t\turl : url + '/merge_cells.htm',\r\n\t\t\t\t\t\t\twidth : 240 + parseInt(ed.getLang('table.merge_cells_delta_width', 0)),\r\n\t\t\t\t\t\t\theight : 110 + parseInt(ed.getLang('table.merge_cells_delta_height', 0)),\r\n\t\t\t\t\t\t\tinline : 1\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\trows : rowSpan,\r\n\t\t\t\t\t\t\tcols : colSpan,\r\n\t\t\t\t\t\t\tonaction : function(data) {\r\n\t\t\t\t\t\t\t\tgrid.merge(cell, data.cols, data.rows);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tplugin_url : url\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tgrid.merge();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableInsertRowBefore : function(grid) {\r\n\t\t\t\t\tgrid.insertRow(true);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableInsertRowAfter : function(grid) {\r\n\t\t\t\t\tgrid.insertRow();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableInsertColBefore : function(grid) {\r\n\t\t\t\t\tgrid.insertCol(true);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableInsertColAfter : function(grid) {\r\n\t\t\t\t\tgrid.insertCol();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableDeleteCol : function(grid) {\r\n\t\t\t\t\tgrid.deleteCols();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableDeleteRow : function(grid) {\r\n\t\t\t\t\tgrid.deleteRows();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableCutRow : function(grid) {\r\n\t\t\t\t\tclipboardRows = grid.cutRows();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableCopyRow : function(grid) {\r\n\t\t\t\t\tclipboardRows = grid.copyRows();\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTablePasteRowBefore : function(grid) {\r\n\t\t\t\t\tgrid.pasteRows(clipboardRows, true);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTablePasteRowAfter : function(grid) {\r\n\t\t\t\t\tgrid.pasteRows(clipboardRows);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableDelete : function(grid) {\r\n\t\t\t\t\tgrid.deleteTable();\r\n\t\t\t\t}\r\n\t\t\t}, function(func, name) {\r\n\t\t\t\ted.addCommand(name, function() {\r\n\t\t\t\t\tvar grid = createTableGrid();\r\n\r\n\t\t\t\t\tif (grid) {\r\n\t\t\t\t\t\tfunc(grid);\r\n\t\t\t\t\t\ted.execCommand('mceRepaint');\r\n\t\t\t\t\t\tcleanup();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t// Register dialog commands\r\n\t\t\teach({\r\n\t\t\t\tmceInsertTable : function(val) {\r\n\t\t\t\t\twinMan.open({\r\n\t\t\t\t\t\turl : url + '/table.htm',\r\n\t\t\t\t\t\twidth : 400 + parseInt(ed.getLang('table.table_delta_width', 0)),\r\n\t\t\t\t\t\theight : 320 + parseInt(ed.getLang('table.table_delta_height', 0)),\r\n\t\t\t\t\t\tinline : 1\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tplugin_url : url,\r\n\t\t\t\t\t\taction : val ? val.action : 0\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableRowProps : function() {\r\n\t\t\t\t\twinMan.open({\r\n\t\t\t\t\t\turl : url + '/row.htm',\r\n\t\t\t\t\t\twidth : 400 + parseInt(ed.getLang('table.rowprops_delta_width', 0)),\r\n\t\t\t\t\t\theight : 295 + parseInt(ed.getLang('table.rowprops_delta_height', 0)),\r\n\t\t\t\t\t\tinline : 1\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tplugin_url : url\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmceTableCellProps : function() {\r\n\t\t\t\t\twinMan.open({\r\n\t\t\t\t\t\turl : url + '/cell.htm',\r\n\t\t\t\t\t\twidth : 400 + parseInt(ed.getLang('table.cellprops_delta_width', 0)),\r\n\t\t\t\t\t\theight : 295 + parseInt(ed.getLang('table.cellprops_delta_height', 0)),\r\n\t\t\t\t\t\tinline : 1\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tplugin_url : url\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, function(func, name) {\r\n\t\t\t\ted.addCommand(name, function(ui, val) {\r\n\t\t\t\t\tfunc(val);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// Register plugin\r\n\ttinymce.PluginManager.add('table', tinymce.plugins.TablePlugin);\r\n})(tinymce);\r\n","Magento_Tinymce3/tiny_mce/plugins/table/js/cell.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar ed;\r\n\r\nfunction init() {\r\n\ted = tinyMCEPopup.editor;\r\n\ttinyMCEPopup.resizeToInnerSize();\r\n\r\n\tdocument.getElementById('backgroundimagebrowsercontainer').innerHTML = getBrowserHTML('backgroundimagebrowser','backgroundimage','image','table');\r\n\tdocument.getElementById('bordercolor_pickcontainer').innerHTML = getColorPickerHTML('bordercolor_pick','bordercolor');\r\n\tdocument.getElementById('bgcolor_pickcontainer').innerHTML = getColorPickerHTML('bgcolor_pick','bgcolor')\r\n\r\n\tvar inst = ed;\r\n\tvar tdElm = ed.dom.getParent(ed.selection.getStart(), \"td,th\");\r\n\tvar formObj = document.forms[0];\r\n\tvar st = ed.dom.parseStyle(ed.dom.getAttrib(tdElm, \"style\"));\r\n\r\n\t// Get table cell data\r\n\tvar celltype = tdElm.nodeName.toLowerCase();\r\n\tvar align = ed.dom.getAttrib(tdElm, 'align');\r\n\tvar valign = ed.dom.getAttrib(tdElm, 'valign');\r\n\tvar width = trimSize(getStyle(tdElm, 'width', 'width'));\r\n\tvar height = trimSize(getStyle(tdElm, 'height', 'height'));\r\n\tvar bordercolor = convertRGBToHex(getStyle(tdElm, 'bordercolor', 'borderLeftColor'));\r\n\tvar bgcolor = convertRGBToHex(getStyle(tdElm, 'bgcolor', 'backgroundColor'));\r\n\tvar className = ed.dom.getAttrib(tdElm, 'class');\r\n\tvar backgroundimage = getStyle(tdElm, 'background', 'backgroundImage').replace(new RegExp(\"url\\\\(['\\\"]?([^'\\\"]*)['\\\"]?\\\\)\", 'gi'), \"$1\");\r\n\tvar id = ed.dom.getAttrib(tdElm, 'id');\r\n\tvar lang = ed.dom.getAttrib(tdElm, 'lang');\r\n\tvar dir = ed.dom.getAttrib(tdElm, 'dir');\r\n\tvar scope = ed.dom.getAttrib(tdElm, 'scope');\r\n\r\n\t// Setup form\r\n\taddClassesToList('class', 'table_cell_styles');\r\n\tTinyMCE_EditableSelects.init();\r\n\r\n\tif (!ed.dom.hasClass(tdElm, 'mceSelected')) {\r\n\t\tformObj.bordercolor.value = bordercolor;\r\n\t\tformObj.bgcolor.value = bgcolor;\r\n\t\tformObj.backgroundimage.value = backgroundimage;\r\n\t\tformObj.width.value = width;\r\n\t\tformObj.height.value = height;\r\n\t\tformObj.id.value = id;\r\n\t\tformObj.lang.value = lang;\r\n\t\tformObj.style.value = ed.dom.serializeStyle(st);\r\n\t\tselectByValue(formObj, 'align', align);\r\n\t\tselectByValue(formObj, 'valign', valign);\r\n\t\tselectByValue(formObj, 'class', className, true, true);\r\n\t\tselectByValue(formObj, 'celltype', celltype);\r\n\t\tselectByValue(formObj, 'dir', dir);\r\n\t\tselectByValue(formObj, 'scope', scope);\r\n\r\n\t\t// Resize some elements\r\n\t\tif (isVisible('backgroundimagebrowser'))\r\n\t\t\tdocument.getElementById('backgroundimage').style.width = '180px';\r\n\r\n\t\tupdateColor('bordercolor_pick', 'bordercolor');\r\n\t\tupdateColor('bgcolor_pick', 'bgcolor');\r\n\t} else\r\n\t\ttinyMCEPopup.dom.hide('action');\r\n}\r\n\r\nfunction updateAction() {\r\n\tvar el, inst = ed, tdElm, trElm, tableElm, formObj = document.forms[0];\r\n\r\n\tif (!AutoValidator.validate(formObj)) {\r\n\t\ttinyMCEPopup.alert(AutoValidator.getErrorMessages(formObj).join('. ') + '.');\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttinyMCEPopup.restoreSelection();\r\n\tel = ed.selection.getStart();\r\n\ttdElm = ed.dom.getParent(el, \"td,th\");\r\n\ttrElm = ed.dom.getParent(el, \"tr\");\r\n\ttableElm = ed.dom.getParent(el, \"table\");\r\n\r\n\t// Cell is selected\r\n\tif (ed.dom.hasClass(tdElm, 'mceSelected')) {\r\n\t\t// Update all selected sells\r\n\t\ttinymce.each(ed.dom.select('td.mceSelected,th.mceSelected'), function(td) {\r\n\t\t\tupdateCell(td);\r\n\t\t});\r\n\r\n\t\ted.addVisual();\r\n\t\ted.nodeChanged();\r\n\t\tinst.execCommand('mceEndUndoLevel');\r\n\t\ttinyMCEPopup.close();\r\n\t\treturn;\r\n\t}\r\n\r\n\tswitch (getSelectValue(formObj, 'action')) {\r\n\t\tcase \"cell\":\r\n\t\t\tvar celltype = getSelectValue(formObj, 'celltype');\r\n\t\t\tvar scope = getSelectValue(formObj, 'scope');\r\n\r\n\t\t\tfunction doUpdate(s) {\r\n\t\t\t\tif (s) {\r\n\t\t\t\t\tupdateCell(tdElm);\r\n\r\n\t\t\t\t\ted.addVisual();\r\n\t\t\t\t\ted.nodeChanged();\r\n\t\t\t\t\tinst.execCommand('mceEndUndoLevel');\r\n\t\t\t\t\ttinyMCEPopup.close();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (ed.getParam(\"accessibility_warnings\", 1)) {\r\n\t\t\t\tif (celltype == \"th\" && scope == \"\")\r\n\t\t\t\t\ttinyMCEPopup.confirm(ed.getLang('table_dlg.missing_scope', '', true), doUpdate);\r\n\t\t\t\telse\r\n\t\t\t\t\tdoUpdate(1);\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tupdateCell(tdElm);\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"row\":\r\n\t\t\tvar cell = trElm.firstChild;\r\n\r\n\t\t\tif (cell.nodeName != \"TD\" && cell.nodeName != \"TH\")\r\n\t\t\t\tcell = nextCell(cell);\r\n\r\n\t\t\tdo {\r\n\t\t\t\tcell = updateCell(cell, true);\r\n\t\t\t} while ((cell = nextCell(cell)) != null);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"col\":\r\n\t\t\tvar curr, col = 0, cell = trElm.firstChild, rows = tableElm.getElementsByTagName(\"tr\");\r\n\r\n\t\t\tif (cell.nodeName != \"TD\" && cell.nodeName != \"TH\")\r\n\t\t\t\tcell = nextCell(cell);\r\n\r\n\t\t\tdo {\r\n\t\t\t\tif (cell == tdElm)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcol += cell.getAttribute(\"colspan\");\r\n\t\t\t} while ((cell = nextCell(cell)) != null);\r\n\r\n\t\t\tfor (var i=0; i<rows.length; i++) {\r\n\t\t\t\tcell = rows[i].firstChild;\r\n\r\n\t\t\t\tif (cell.nodeName != \"TD\" && cell.nodeName != \"TH\")\r\n\t\t\t\t\tcell = nextCell(cell);\r\n\r\n\t\t\t\tcurr = 0;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif (curr == col) {\r\n\t\t\t\t\t\tcell = updateCell(cell, true);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcurr += cell.getAttribute(\"colspan\");\r\n\t\t\t\t} while ((cell = nextCell(cell)) != null);\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"all\":\r\n\t\t\tvar rows = tableElm.getElementsByTagName(\"tr\");\r\n\r\n\t\t\tfor (var i=0; i<rows.length; i++) {\r\n\t\t\t\tvar cell = rows[i].firstChild;\r\n\r\n\t\t\t\tif (cell.nodeName != \"TD\" && cell.nodeName != \"TH\")\r\n\t\t\t\t\tcell = nextCell(cell);\r\n\r\n\t\t\t\tdo {\r\n\t\t\t\t\tcell = updateCell(cell, true);\r\n\t\t\t\t} while ((cell = nextCell(cell)) != null);\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\ted.addVisual();\r\n\ted.nodeChanged();\r\n\tinst.execCommand('mceEndUndoLevel');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction nextCell(elm) {\r\n\twhile ((elm = elm.nextSibling) != null) {\r\n\t\tif (elm.nodeName == \"TD\" || elm.nodeName == \"TH\")\r\n\t\t\treturn elm;\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction updateCell(td, skip_id) {\r\n\tvar inst = ed;\r\n\tvar formObj = document.forms[0];\r\n\tvar curCellType = td.nodeName.toLowerCase();\r\n\tvar celltype = getSelectValue(formObj, 'celltype');\r\n\tvar doc = inst.getDoc();\r\n\tvar dom = ed.dom;\r\n\r\n\tif (!skip_id)\r\n\t\tdom.setAttrib(td, 'id', formObj.id.value);\r\n\r\n\tdom.setAttrib(td, 'align', formObj.align.value);\r\n\tdom.setAttrib(td, 'vAlign', formObj.valign.value);\r\n\tdom.setAttrib(td, 'lang', formObj.lang.value);\r\n\tdom.setAttrib(td, 'dir', getSelectValue(formObj, 'dir'));\r\n\tdom.setAttrib(td, 'style', ed.dom.serializeStyle(ed.dom.parseStyle(formObj.style.value)));\r\n\tdom.setAttrib(td, 'scope', formObj.scope.value);\r\n\tdom.setAttrib(td, 'class', getSelectValue(formObj, 'class'));\r\n\r\n\t// Clear deprecated attributes\r\n\ted.dom.setAttrib(td, 'width', '');\r\n\ted.dom.setAttrib(td, 'height', '');\r\n\ted.dom.setAttrib(td, 'bgColor', '');\r\n\ted.dom.setAttrib(td, 'borderColor', '');\r\n\ted.dom.setAttrib(td, 'background', '');\r\n\r\n\t// Set styles\r\n\ttd.style.width = getCSSSize(formObj.width.value);\r\n\ttd.style.height = getCSSSize(formObj.height.value);\r\n\tif (formObj.bordercolor.value != \"\") {\r\n\t\ttd.style.borderColor = formObj.bordercolor.value;\r\n\t\ttd.style.borderStyle = td.style.borderStyle == \"\" ? \"solid\" : td.style.borderStyle;\r\n\t\ttd.style.borderWidth = td.style.borderWidth == \"\" ? \"1px\" : td.style.borderWidth;\r\n\t} else\r\n\t\ttd.style.borderColor = '';\r\n\r\n\ttd.style.backgroundColor = formObj.bgcolor.value;\r\n\r\n\tif (formObj.backgroundimage.value != \"\")\r\n\t\ttd.style.backgroundImage = \"url('\" + formObj.backgroundimage.value + \"')\";\r\n\telse\r\n\t\ttd.style.backgroundImage = '';\r\n\r\n\tif (curCellType != celltype) {\r\n\t\t// changing to a different node type\r\n\t\tvar newCell = doc.createElement(celltype);\r\n\r\n\t\tfor (var c=0; c<td.childNodes.length; c++)\r\n\t\t\tnewCell.appendChild(td.childNodes[c].cloneNode(1));\r\n\r\n\t\tfor (var a=0; a<td.attributes.length; a++)\r\n\t\t\ted.dom.setAttrib(newCell, td.attributes[a].name, ed.dom.getAttrib(td, td.attributes[a].name));\r\n\r\n\t\ttd.parentNode.replaceChild(newCell, td);\r\n\t\ttd = newCell;\r\n\t}\r\n\r\n\tdom.setAttrib(td, 'style', dom.serializeStyle(dom.parseStyle(td.style.cssText)));\r\n\r\n\treturn td;\r\n}\r\n\r\nfunction changedBackgroundImage() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = ed.dom.parseStyle(formObj.style.value);\r\n\r\n\tst['background-image'] = \"url('\" + formObj.backgroundimage.value + \"')\";\r\n\r\n\tformObj.style.value = ed.dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedSize() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = ed.dom.parseStyle(formObj.style.value);\r\n\r\n\tvar width = formObj.width.value;\r\n\tif (width != \"\")\r\n\t\tst['width'] = getCSSSize(width);\r\n\telse\r\n\t\tst['width'] = \"\";\r\n\r\n\tvar height = formObj.height.value;\r\n\tif (height != \"\")\r\n\t\tst['height'] = getCSSSize(height);\r\n\telse\r\n\t\tst['height'] = \"\";\r\n\r\n\tformObj.style.value = ed.dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedColor() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = ed.dom.parseStyle(formObj.style.value);\r\n\r\n\tst['background-color'] = formObj.bgcolor.value;\r\n\tst['border-color'] = formObj.bordercolor.value;\r\n\r\n\tformObj.style.value = ed.dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedStyle() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = ed.dom.parseStyle(formObj.style.value);\r\n\r\n\tif (st['background-image'])\r\n\t\tformObj.backgroundimage.value = st['background-image'].replace(new RegExp(\"url\\\\('?([^']*)'?\\\\)\", 'gi'), \"$1\");\r\n\telse\r\n\t\tformObj.backgroundimage.value = '';\r\n\r\n\tif (st['width'])\r\n\t\tformObj.width.value = trimSize(st['width']);\r\n\r\n\tif (st['height'])\r\n\t\tformObj.height.value = trimSize(st['height']);\r\n\r\n\tif (st['background-color']) {\r\n\t\tformObj.bgcolor.value = st['background-color'];\r\n\t\tupdateColor('bgcolor_pick','bgcolor');\r\n\t}\r\n\r\n\tif (st['border-color']) {\r\n\t\tformObj.bordercolor.value = st['border-color'];\r\n\t\tupdateColor('bordercolor_pick','bordercolor');\r\n\t}\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/table/js/merge_cells.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar MergeCellsDialog = {\r\n\tinit : function() {\r\n\t\tvar f = document.forms[0];\r\n\r\n\t\tf.numcols.value = tinyMCEPopup.getWindowArg('cols', 1);\r\n\t\tf.numrows.value = tinyMCEPopup.getWindowArg('rows', 1);\r\n\t},\r\n\r\n\tmerge : function() {\r\n\t\tvar func, f = document.forms[0];\r\n\r\n\t\ttinyMCEPopup.restoreSelection();\r\n\r\n\t\tfunc = tinyMCEPopup.getWindowArg('onaction');\r\n\r\n\t\tfunc({\r\n\t\t\tcols : f.numcols.value,\r\n\t\t\trows : f.numrows.value\r\n\t\t});\r\n\r\n\t\ttinyMCEPopup.close();\r\n\t}\r\n};\r\n\r\ntinyMCEPopup.onInit.add(MergeCellsDialog.init, MergeCellsDialog);\r\n","Magento_Tinymce3/tiny_mce/plugins/table/js/row.js":"tinyMCEPopup.requireLangPack();\r\n\r\nfunction init() {\r\n\ttinyMCEPopup.resizeToInnerSize();\r\n\r\n\tdocument.getElementById('backgroundimagebrowsercontainer').innerHTML = getBrowserHTML('backgroundimagebrowser','backgroundimage','image','table');\r\n\tdocument.getElementById('bgcolor_pickcontainer').innerHTML = getColorPickerHTML('bgcolor_pick','bgcolor');\r\n\r\n\tvar inst = tinyMCEPopup.editor;\r\n\tvar dom = inst.dom;\r\n\tvar trElm = dom.getParent(inst.selection.getStart(), \"tr\");\r\n\tvar formObj = document.forms[0];\r\n\tvar st = dom.parseStyle(dom.getAttrib(trElm, \"style\"));\r\n\r\n\t// Get table row data\r\n\tvar rowtype = trElm.parentNode.nodeName.toLowerCase();\r\n\tvar align = dom.getAttrib(trElm, 'align');\r\n\tvar valign = dom.getAttrib(trElm, 'valign');\r\n\tvar height = trimSize(getStyle(trElm, 'height', 'height'));\r\n\tvar className = dom.getAttrib(trElm, 'class');\r\n\tvar bgcolor = convertRGBToHex(getStyle(trElm, 'bgcolor', 'backgroundColor'));\r\n\tvar backgroundimage = getStyle(trElm, 'background', 'backgroundImage').replace(new RegExp(\"url\\\\(['\\\"]?([^'\\\"]*)['\\\"]?\\\\)\", 'gi'), \"$1\");\r\n\tvar id = dom.getAttrib(trElm, 'id');\r\n\tvar lang = dom.getAttrib(trElm, 'lang');\r\n\tvar dir = dom.getAttrib(trElm, 'dir');\r\n\r\n\tselectByValue(formObj, 'rowtype', rowtype);\r\n\r\n\t// Any cells selected\r\n\tif (dom.select('td.mceSelected,th.mceSelected', trElm).length == 0) {\r\n\t\t// Setup form\r\n\t\taddClassesToList('class', 'table_row_styles');\r\n\t\tTinyMCE_EditableSelects.init();\r\n\r\n\t\tformObj.bgcolor.value = bgcolor;\r\n\t\tformObj.backgroundimage.value = backgroundimage;\r\n\t\tformObj.height.value = height;\r\n\t\tformObj.id.value = id;\r\n\t\tformObj.lang.value = lang;\r\n\t\tformObj.style.value = dom.serializeStyle(st);\r\n\t\tselectByValue(formObj, 'align', align);\r\n\t\tselectByValue(formObj, 'valign', valign);\r\n\t\tselectByValue(formObj, 'class', className, true, true);\r\n\t\tselectByValue(formObj, 'dir', dir);\r\n\r\n\t\t// Resize some elements\r\n\t\tif (isVisible('backgroundimagebrowser'))\r\n\t\t\tdocument.getElementById('backgroundimage').style.width = '180px';\r\n\r\n\t\tupdateColor('bgcolor_pick', 'bgcolor');\r\n\t} else\r\n\t\ttinyMCEPopup.dom.hide('action');\r\n}\r\n\r\nfunction updateAction() {\r\n\tvar inst = tinyMCEPopup.editor, dom = inst.dom, trElm, tableElm, formObj = document.forms[0];\r\n\tvar action = getSelectValue(formObj, 'action');\r\n\r\n\tif (!AutoValidator.validate(formObj)) {\r\n\t\ttinyMCEPopup.alert(AutoValidator.getErrorMessages(formObj).join('. ') + '.');\r\n\t\treturn false;\r\n\t}\r\n\r\n\ttinyMCEPopup.restoreSelection();\r\n\ttrElm = dom.getParent(inst.selection.getStart(), \"tr\");\r\n\ttableElm = dom.getParent(inst.selection.getStart(), \"table\");\r\n\r\n\t// Update all selected rows\r\n\tif (dom.select('td.mceSelected,th.mceSelected', trElm).length > 0) {\r\n\t\ttinymce.each(tableElm.rows, function(tr) {\r\n\t\t\tvar i;\r\n\r\n\t\t\tfor (i = 0; i < tr.cells.length; i++) {\r\n\t\t\t\tif (dom.hasClass(tr.cells[i], 'mceSelected')) {\r\n\t\t\t\t\tupdateRow(tr, true);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tinst.addVisual();\r\n\t\tinst.nodeChanged();\r\n\t\tinst.execCommand('mceEndUndoLevel');\r\n\t\ttinyMCEPopup.close();\r\n\t\treturn;\r\n\t}\r\n\r\n\tswitch (action) {\r\n\t\tcase \"row\":\r\n\t\t\tupdateRow(trElm);\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"all\":\r\n\t\t\tvar rows = tableElm.getElementsByTagName(\"tr\");\r\n\r\n\t\t\tfor (var i=0; i<rows.length; i++)\r\n\t\t\t\tupdateRow(rows[i], true);\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase \"odd\":\r\n\t\tcase \"even\":\r\n\t\t\tvar rows = tableElm.getElementsByTagName(\"tr\");\r\n\r\n\t\t\tfor (var i=0; i<rows.length; i++) {\r\n\t\t\t\tif ((i % 2 == 0 && action == \"odd\") || (i % 2 != 0 && action == \"even\"))\r\n\t\t\t\t\tupdateRow(rows[i], true, true);\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tinst.addVisual();\r\n\tinst.nodeChanged();\r\n\tinst.execCommand('mceEndUndoLevel');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction updateRow(tr_elm, skip_id, skip_parent) {\r\n\tvar inst = tinyMCEPopup.editor;\r\n\tvar formObj = document.forms[0];\r\n\tvar dom = inst.dom;\r\n\tvar curRowType = tr_elm.parentNode.nodeName.toLowerCase();\r\n\tvar rowtype = getSelectValue(formObj, 'rowtype');\r\n\tvar doc = inst.getDoc();\r\n\r\n\t// Update row element\r\n\tif (!skip_id)\r\n\t\tdom.setAttrib(tr_elm, 'id', formObj.id.value);\r\n\r\n\tdom.setAttrib(tr_elm, 'align', getSelectValue(formObj, 'align'));\r\n\tdom.setAttrib(tr_elm, 'vAlign', getSelectValue(formObj, 'valign'));\r\n\tdom.setAttrib(tr_elm, 'lang', formObj.lang.value);\r\n\tdom.setAttrib(tr_elm, 'dir', getSelectValue(formObj, 'dir'));\r\n\tdom.setAttrib(tr_elm, 'style', dom.serializeStyle(dom.parseStyle(formObj.style.value)));\r\n\tdom.setAttrib(tr_elm, 'class', getSelectValue(formObj, 'class'));\r\n\r\n\t// Clear deprecated attributes\r\n\tdom.setAttrib(tr_elm, 'background', '');\r\n\tdom.setAttrib(tr_elm, 'bgColor', '');\r\n\tdom.setAttrib(tr_elm, 'height', '');\r\n\r\n\t// Set styles\r\n\ttr_elm.style.height = getCSSSize(formObj.height.value);\r\n\ttr_elm.style.backgroundColor = formObj.bgcolor.value;\r\n\r\n\tif (formObj.backgroundimage.value != \"\")\r\n\t\ttr_elm.style.backgroundImage = \"url('\" + formObj.backgroundimage.value + \"')\";\r\n\telse\r\n\t\ttr_elm.style.backgroundImage = '';\r\n\r\n\t// Setup new rowtype\r\n\tif (curRowType != rowtype && !skip_parent) {\r\n\t\t// first, clone the node we are working on\r\n\t\tvar newRow = tr_elm.cloneNode(1);\r\n\r\n\t\t// next, find the parent of its new destination (creating it if necessary)\r\n\t\tvar theTable = dom.getParent(tr_elm, \"table\");\r\n\t\tvar dest = rowtype;\r\n\t\tvar newParent = null;\r\n\t\tfor (var i = 0; i < theTable.childNodes.length; i++) {\r\n\t\t\tif (theTable.childNodes[i].nodeName.toLowerCase() == dest)\r\n\t\t\t\tnewParent = theTable.childNodes[i];\r\n\t\t}\r\n\r\n\t\tif (newParent == null) {\r\n\t\t\tnewParent = doc.createElement(dest);\r\n\r\n\t\t\tif (theTable.firstChild.nodeName == 'CAPTION')\r\n\t\t\t\tinst.dom.insertAfter(newParent, theTable.firstChild);\r\n\t\t\telse\r\n\t\t\t\ttheTable.insertBefore(newParent, theTable.firstChild);\r\n\t\t}\r\n\r\n\t\t// append the row to the new parent\r\n\t\tnewParent.appendChild(newRow);\r\n\r\n\t\t// remove the original\r\n\t\ttr_elm.parentNode.removeChild(tr_elm);\r\n\r\n\t\t// set tr_elm to the new node\r\n\t\ttr_elm = newRow;\r\n\t}\r\n\r\n\tdom.setAttrib(tr_elm, 'style', dom.serializeStyle(dom.parseStyle(tr_elm.style.cssText)));\r\n}\r\n\r\nfunction changedBackgroundImage() {\r\n\tvar formObj = document.forms[0], dom = tinyMCEPopup.editor.dom;\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\tst['background-image'] = \"url('\" + formObj.backgroundimage.value + \"')\";\r\n\r\n\tformObj.style.value = dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedStyle() {\r\n\tvar formObj = document.forms[0], dom = tinyMCEPopup.editor.dom;\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\tif (st['background-image'])\r\n\t\tformObj.backgroundimage.value = st['background-image'].replace(new RegExp(\"url\\\\('?([^']*)'?\\\\)\", 'gi'), \"$1\");\r\n\telse\r\n\t\tformObj.backgroundimage.value = '';\r\n\r\n\tif (st['height'])\r\n\t\tformObj.height.value = trimSize(st['height']);\r\n\r\n\tif (st['background-color']) {\r\n\t\tformObj.bgcolor.value = st['background-color'];\r\n\t\tupdateColor('bgcolor_pick','bgcolor');\r\n\t}\r\n}\r\n\r\nfunction changedSize() {\r\n\tvar formObj = document.forms[0], dom = tinyMCEPopup.editor.dom;\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\tvar height = formObj.height.value;\r\n\tif (height != \"\")\r\n\t\tst['height'] = getCSSSize(height);\r\n\telse\r\n\t\tst['height'] = \"\";\r\n\r\n\tformObj.style.value = dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedColor() {\r\n\tvar formObj = document.forms[0], dom = tinyMCEPopup.editor.dom;\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\tst['background-color'] = formObj.bgcolor.value;\r\n\r\n\tformObj.style.value = dom.serializeStyle(st);\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/table/js/table.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar action, orgTableWidth, orgTableHeight, dom = tinyMCEPopup.editor.dom;\r\n\r\nfunction insertTable() {\r\n\tvar formObj = document.forms[0];\r\n\tvar inst = tinyMCEPopup.editor, dom = inst.dom;\r\n\tvar cols = 2, rows = 2, border = 0, cellpadding = -1, cellspacing = -1, align, width, height, className, caption, frame, rules;\r\n\tvar html = '', capEl, elm;\r\n\tvar cellLimit, rowLimit, colLimit;\r\n\r\n\ttinyMCEPopup.restoreSelection();\r\n\r\n\tif (!AutoValidator.validate(formObj)) {\r\n\t\ttinyMCEPopup.alert(AutoValidator.getErrorMessages(formObj).join('. ') + '.');\r\n\t\treturn false;\r\n\t}\r\n\r\n\telm = dom.getParent(inst.selection.getNode(), 'table');\r\n\r\n\t// Get form data\r\n\tcols = formObj.elements['cols'].value;\r\n\trows = formObj.elements['rows'].value;\r\n\tborder = formObj.elements['border'].value != \"\" ? formObj.elements['border'].value : 0;\r\n\tcellpadding = formObj.elements['cellpadding'].value != \"\" ? formObj.elements['cellpadding'].value : \"\";\r\n\tcellspacing = formObj.elements['cellspacing'].value != \"\" ? formObj.elements['cellspacing'].value : \"\";\r\n\talign = getSelectValue(formObj, \"align\");\r\n\tframe = getSelectValue(formObj, \"tframe\");\r\n\trules = getSelectValue(formObj, \"rules\");\r\n\twidth = formObj.elements['width'].value;\r\n\theight = formObj.elements['height'].value;\r\n\tbordercolor = formObj.elements['bordercolor'].value;\r\n\tbgcolor = formObj.elements['bgcolor'].value;\r\n\tclassName = getSelectValue(formObj, \"class\");\r\n\tid = formObj.elements['id'].value;\r\n\tsummary = formObj.elements['summary'].value;\r\n\tstyle = formObj.elements['style'].value;\r\n\tdir = formObj.elements['dir'].value;\r\n\tlang = formObj.elements['lang'].value;\r\n\tbackground = formObj.elements['backgroundimage'].value;\r\n\tcaption = formObj.elements['caption'].checked;\r\n\r\n\tcellLimit = tinyMCEPopup.getParam('table_cell_limit', false);\r\n\trowLimit = tinyMCEPopup.getParam('table_row_limit', false);\r\n\tcolLimit = tinyMCEPopup.getParam('table_col_limit', false);\r\n\r\n\t// Validate table size\r\n\tif (colLimit && cols > colLimit) {\r\n\t\ttinyMCEPopup.alert(inst.getLang('table_dlg.col_limit').replace(/\\{\\$cols\\}/g, colLimit));\r\n\t\treturn false;\r\n\t} else if (rowLimit && rows > rowLimit) {\r\n\t\ttinyMCEPopup.alert(inst.getLang('table_dlg.row_limit').replace(/\\{\\$rows\\}/g, rowLimit));\r\n\t\treturn false;\r\n\t} else if (cellLimit && cols * rows > cellLimit) {\r\n\t\ttinyMCEPopup.alert(inst.getLang('table_dlg.cell_limit').replace(/\\{\\$cells\\}/g, cellLimit));\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Update table\r\n\tif (action == \"update\") {\r\n\t\tdom.setAttrib(elm, 'cellPadding', cellpadding, true);\r\n\t\tdom.setAttrib(elm, 'cellSpacing', cellspacing, true);\r\n\r\n\t\tif (!isCssSize(border)) {\r\n\t\t\tdom.setAttrib(elm, 'border', border);\r\n\t\t} else {\r\n\t\t\tdom.setAttrib(elm, 'border', '');\r\n\t\t}\r\n\r\n\t\tif (border == '') {\r\n\t\t\tdom.setStyle(elm, 'border-width', '');\r\n\t\t\tdom.setStyle(elm, 'border', '');\r\n\t\t\tdom.setAttrib(elm, 'border', '');\r\n\t\t}\r\n\r\n\t\tdom.setAttrib(elm, 'align', align);\r\n\t\tdom.setAttrib(elm, 'frame', frame);\r\n\t\tdom.setAttrib(elm, 'rules', rules);\r\n\t\tdom.setAttrib(elm, 'class', className);\r\n\t\tdom.setAttrib(elm, 'style', style);\r\n\t\tdom.setAttrib(elm, 'id', id);\r\n\t\tdom.setAttrib(elm, 'summary', summary);\r\n\t\tdom.setAttrib(elm, 'dir', dir);\r\n\t\tdom.setAttrib(elm, 'lang', lang);\r\n\r\n\t\tcapEl = inst.dom.select('caption', elm)[0];\r\n\r\n\t\tif (capEl && !caption)\r\n\t\t\tcapEl.parentNode.removeChild(capEl);\r\n\r\n\t\tif (!capEl && caption) {\r\n\t\t\tcapEl = elm.ownerDocument.createElement('caption');\r\n\r\n\t\t\tif (!tinymce.isIE)\r\n\t\t\t\tcapEl.innerHTML = '<br data-mce-bogus=\"1\"/>';\r\n\r\n\t\t\telm.insertBefore(capEl, elm.firstChild);\r\n\t\t}\r\n\r\n\t\tif (width && inst.settings.inline_styles) {\r\n\t\t\tdom.setStyle(elm, 'width', width);\r\n\t\t\tdom.setAttrib(elm, 'width', '');\r\n\t\t} else {\r\n\t\t\tdom.setAttrib(elm, 'width', width, true);\r\n\t\t\tdom.setStyle(elm, 'width', '');\r\n\t\t}\r\n\r\n\t\t// Remove these since they are not valid XHTML\r\n\t\tdom.setAttrib(elm, 'borderColor', '');\r\n\t\tdom.setAttrib(elm, 'bgColor', '');\r\n\t\tdom.setAttrib(elm, 'background', '');\r\n\r\n\t\tif (height && inst.settings.inline_styles) {\r\n\t\t\tdom.setStyle(elm, 'height', height);\r\n\t\t\tdom.setAttrib(elm, 'height', '');\r\n\t\t} else {\r\n\t\t\tdom.setAttrib(elm, 'height', height, true);\r\n\t\t\tdom.setStyle(elm, 'height', '');\r\n \t\t}\r\n\r\n\t\tif (background != '')\r\n\t\t\telm.style.backgroundImage = \"url('\" + background + \"')\";\r\n\t\telse\r\n\t\t\telm.style.backgroundImage = '';\r\n\r\n/*\t\tif (tinyMCEPopup.getParam(\"inline_styles\")) {\r\n\t\t\tif (width != '')\r\n\t\t\t\telm.style.width = getCSSSize(width);\r\n\t\t}*/\r\n\r\n\t\tif (bordercolor != \"\") {\r\n\t\t\telm.style.borderColor = bordercolor;\r\n\t\t\telm.style.borderStyle = elm.style.borderStyle == \"\" ? \"solid\" : elm.style.borderStyle;\r\n\t\t\telm.style.borderWidth = cssSize(border);\r\n\t\t} else\r\n\t\t\telm.style.borderColor = '';\r\n\r\n\t\telm.style.backgroundColor = bgcolor;\r\n\t\telm.style.height = getCSSSize(height);\r\n\r\n\t\tinst.addVisual();\r\n\r\n\t\t// Fix for stange MSIE align bug\r\n\t\t//elm.outerHTML = elm.outerHTML;\r\n\r\n\t\tinst.nodeChanged();\r\n\t\tinst.execCommand('mceEndUndoLevel');\r\n\r\n\t\t// Repaint if dimensions changed\r\n\t\tif (formObj.width.value != orgTableWidth || formObj.height.value != orgTableHeight)\r\n\t\t\tinst.execCommand('mceRepaint');\r\n\r\n\t\ttinyMCEPopup.close();\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// Create new table\r\n\thtml += '<table';\r\n\r\n\thtml += makeAttrib('id', id);\r\n\tif (!isCssSize(border)) {\r\n\t\thtml += makeAttrib('border', border);\r\n\t}\r\n\r\n\thtml += makeAttrib('cellpadding', cellpadding);\r\n\thtml += makeAttrib('cellspacing', cellspacing);\r\n\thtml += makeAttrib('data-mce-new', '1');\r\n\r\n\tif (width && inst.settings.inline_styles) {\r\n\t\tif (style)\r\n\t\t\tstyle += '; ';\r\n\r\n\t\t// Force px\r\n\t\tif (/^[0-9\\.]+$/.test(width))\r\n\t\t\twidth += 'px';\r\n\r\n\t\tstyle += 'width: ' + width;\r\n\t} else\r\n\t\thtml += makeAttrib('width', width);\r\n\r\n/*\tif (height) {\r\n\t\tif (style)\r\n\t\t\tstyle += '; ';\r\n\r\n\t\tstyle += 'height: ' + height;\r\n\t}*/\r\n\r\n\t//html += makeAttrib('height', height);\r\n\t//html += makeAttrib('bordercolor', bordercolor);\r\n\t//html += makeAttrib('bgcolor', bgcolor);\r\n\thtml += makeAttrib('align', align);\r\n\thtml += makeAttrib('frame', frame);\r\n\thtml += makeAttrib('rules', rules);\r\n\thtml += makeAttrib('class', className);\r\n\thtml += makeAttrib('style', style);\r\n\thtml += makeAttrib('summary', summary);\r\n\thtml += makeAttrib('dir', dir);\r\n\thtml += makeAttrib('lang', lang);\r\n\thtml += '>';\r\n\r\n\tif (caption) {\r\n\t\tif (!tinymce.isIE)\r\n\t\t\thtml += '<caption><br data-mce-bogus=\"1\"/></caption>';\r\n\t\telse\r\n\t\t\thtml += '<caption></caption>';\r\n\t}\r\n\r\n\tfor (var y=0; y<rows; y++) {\r\n\t\thtml += \"<tr>\";\r\n\r\n\t\tfor (var x=0; x<cols; x++) {\r\n\t\t\tif (!tinymce.isIE)\r\n\t\t\t\thtml += '<td><br data-mce-bogus=\"1\"/></td>';\r\n\t\t\telse\r\n\t\t\t\thtml += '<td></td>';\r\n\t\t}\r\n\r\n\t\thtml += \"</tr>\";\r\n\t}\r\n\r\n\thtml += \"</table>\";\r\n\r\n\t// Move table\r\n\tif (inst.settings.fix_table_elements) {\r\n\t\tvar patt = '';\r\n\r\n\t\tinst.focus();\r\n\t\tinst.selection.setContent('<br class=\"_mce_marker\" />');\r\n\r\n\t\ttinymce.each('h1,h2,h3,h4,h5,h6,p'.split(','), function(n) {\r\n\t\t\tif (patt)\r\n\t\t\t\tpatt += ',';\r\n\r\n\t\t\tpatt += n + ' ._mce_marker';\r\n\t\t});\r\n\r\n\t\ttinymce.each(inst.dom.select(patt), function(n) {\r\n\t\t\tinst.dom.split(inst.dom.getParent(n, 'h1,h2,h3,h4,h5,h6,p'), n);\r\n\t\t});\r\n\r\n\t\tdom.setOuterHTML(dom.select('br._mce_marker')[0], html);\r\n\t} else\r\n\t\tinst.execCommand('mceInsertContent', false, html);\r\n\r\n\ttinymce.each(dom.select('table[data-mce-new]'), function(node) {\r\n\t\tvar tdorth = dom.select('td,th', node);\r\n\r\n\t\ttry {\r\n\t\t\t// IE9 might fail to do this selection \r\n\t\t\tinst.selection.setCursorLocation(tdorth[0], 0);\r\n\t\t} catch (ex) {\r\n\t\t\t// Ignore\r\n\t\t}\r\n\r\n\t\tdom.setAttrib(node, 'data-mce-new', '');\r\n\t});\r\n\r\n\tinst.addVisual();\r\n\tinst.execCommand('mceEndUndoLevel');\r\n\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction makeAttrib(attrib, value) {\r\n\tvar formObj = document.forms[0];\r\n\tvar valueElm = formObj.elements[attrib];\r\n\r\n\tif (typeof(value) == \"undefined\" || value == null) {\r\n\t\tvalue = \"\";\r\n\r\n\t\tif (valueElm)\r\n\t\t\tvalue = valueElm.value;\r\n\t}\r\n\r\n\tif (value == \"\")\r\n\t\treturn \"\";\r\n\r\n\t// XML encode it\r\n\tvalue = value.replace(/&/g, '&amp;');\r\n\tvalue = value.replace(/\\\"/g, '&quot;');\r\n\tvalue = value.replace(/</g, '&lt;');\r\n\tvalue = value.replace(/>/g, '&gt;');\r\n\r\n\treturn ' ' + attrib + '=\"' + value + '\"';\r\n}\r\n\r\nfunction init() {\r\n\ttinyMCEPopup.resizeToInnerSize();\r\n\r\n\tdocument.getElementById('backgroundimagebrowsercontainer').innerHTML = getBrowserHTML('backgroundimagebrowser','backgroundimage','image','table');\r\n\tdocument.getElementById('backgroundimagebrowsercontainer').innerHTML = getBrowserHTML('backgroundimagebrowser','backgroundimage','image','table');\r\n\tdocument.getElementById('bordercolor_pickcontainer').innerHTML = getColorPickerHTML('bordercolor_pick','bordercolor');\r\n\tdocument.getElementById('bgcolor_pickcontainer').innerHTML = getColorPickerHTML('bgcolor_pick','bgcolor');\r\n\r\n\tvar cols = 2, rows = 2, border = tinyMCEPopup.getParam('table_default_border', '0'), cellpadding = tinyMCEPopup.getParam('table_default_cellpadding', ''), cellspacing = tinyMCEPopup.getParam('table_default_cellspacing', '');\r\n\tvar align = \"\", width = \"\", height = \"\", bordercolor = \"\", bgcolor = \"\", className = \"\";\r\n\tvar id = \"\", summary = \"\", style = \"\", dir = \"\", lang = \"\", background = \"\", bgcolor = \"\", bordercolor = \"\", rules = \"\", frame = \"\";\r\n\tvar inst = tinyMCEPopup.editor, dom = inst.dom;\r\n\tvar formObj = document.forms[0];\r\n\tvar elm = dom.getParent(inst.selection.getNode(), \"table\");\r\n\r\n\taction = tinyMCEPopup.getWindowArg('action');\r\n\r\n\tif (!action)\r\n\t\taction = elm ? \"update\" : \"insert\";\r\n\r\n\tif (elm && action != \"insert\") {\r\n\t\tvar rowsAr = elm.rows;\r\n\t\tvar cols = 0;\r\n\t\tfor (var i=0; i<rowsAr.length; i++)\r\n\t\t\tif (rowsAr[i].cells.length > cols)\r\n\t\t\t\tcols = rowsAr[i].cells.length;\r\n\r\n\t\tcols = cols;\r\n\t\trows = rowsAr.length;\r\n\r\n\t\tst = dom.parseStyle(dom.getAttrib(elm, \"style\"));\r\n\t\tborder = trimSize(getStyle(elm, 'border', 'borderWidth'));\r\n\t\tcellpadding = dom.getAttrib(elm, 'cellpadding', \"\");\r\n\t\tcellspacing = dom.getAttrib(elm, 'cellspacing', \"\");\r\n\t\twidth = trimSize(getStyle(elm, 'width', 'width'));\r\n\t\theight = trimSize(getStyle(elm, 'height', 'height'));\r\n\t\tbordercolor = convertRGBToHex(getStyle(elm, 'bordercolor', 'borderLeftColor'));\r\n\t\tbgcolor = convertRGBToHex(getStyle(elm, 'bgcolor', 'backgroundColor'));\r\n\t\talign = dom.getAttrib(elm, 'align', align);\r\n\t\tframe = dom.getAttrib(elm, 'frame');\r\n\t\trules = dom.getAttrib(elm, 'rules');\r\n\t\tclassName = tinymce.trim(dom.getAttrib(elm, 'class').replace(/mceItem.+/g, ''));\r\n\t\tid = dom.getAttrib(elm, 'id');\r\n\t\tsummary = dom.getAttrib(elm, 'summary');\r\n\t\tstyle = dom.serializeStyle(st);\r\n\t\tdir = dom.getAttrib(elm, 'dir');\r\n\t\tlang = dom.getAttrib(elm, 'lang');\r\n\t\tbackground = getStyle(elm, 'background', 'backgroundImage').replace(new RegExp(\"url\\\\(['\\\"]?([^'\\\"]*)['\\\"]?\\\\)\", 'gi'), \"$1\");\r\n\t\tformObj.caption.checked = elm.getElementsByTagName('caption').length > 0;\r\n\r\n\t\torgTableWidth = width;\r\n\t\torgTableHeight = height;\r\n\r\n\t\taction = \"update\";\r\n\t\tformObj.insert.value = inst.getLang('update');\r\n\t}\r\n\r\n\taddClassesToList('class', \"table_styles\");\r\n\tTinyMCE_EditableSelects.init();\r\n\r\n\t// Update form\r\n\tselectByValue(formObj, 'align', align);\r\n\tselectByValue(formObj, 'tframe', frame);\r\n\tselectByValue(formObj, 'rules', rules);\r\n\tselectByValue(formObj, 'class', className, true, true);\r\n\tformObj.cols.value = cols;\r\n\tformObj.rows.value = rows;\r\n\tformObj.border.value = border;\r\n\tformObj.cellpadding.value = cellpadding;\r\n\tformObj.cellspacing.value = cellspacing;\r\n\tformObj.width.value = width;\r\n\tformObj.height.value = height;\r\n\tformObj.bordercolor.value = bordercolor;\r\n\tformObj.bgcolor.value = bgcolor;\r\n\tformObj.id.value = id;\r\n\tformObj.summary.value = summary;\r\n\tformObj.style.value = style;\r\n\tformObj.dir.value = dir;\r\n\tformObj.lang.value = lang;\r\n\tformObj.backgroundimage.value = background;\r\n\r\n\tupdateColor('bordercolor_pick', 'bordercolor');\r\n\tupdateColor('bgcolor_pick', 'bgcolor');\r\n\r\n\t// Resize some elements\r\n\tif (isVisible('backgroundimagebrowser'))\r\n\t\tdocument.getElementById('backgroundimage').style.width = '180px';\r\n\r\n\t// Disable some fields in update mode\r\n\tif (action == \"update\") {\r\n\t\tformObj.cols.disabled = true;\r\n\t\tformObj.rows.disabled = true;\r\n\t}\r\n}\r\n\r\nfunction changedSize() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n/*\tvar width = formObj.width.value;\r\n\tif (width != \"\")\r\n\t\tst['width'] = tinyMCEPopup.getParam(\"inline_styles\") ? getCSSSize(width) : \"\";\r\n\telse\r\n\t\tst['width'] = \"\";*/\r\n\r\n\tvar height = formObj.height.value;\r\n\tif (height != \"\")\r\n\t\tst['height'] = getCSSSize(height);\r\n\telse\r\n\t\tst['height'] = \"\";\r\n\r\n\tformObj.style.value = dom.serializeStyle(st);\r\n}\r\n\r\nfunction isCssSize(value) {\r\n\treturn /^[0-9.]+(%|in|cm|mm|em|ex|pt|pc|px)$/.test(value);\r\n}\r\n\r\nfunction cssSize(value, def) {\r\n\tvalue = tinymce.trim(value || def);\r\n\r\n\tif (!isCssSize(value)) {\r\n\t\treturn parseInt(value, 10) + 'px';\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction changedBackgroundImage() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\tst['background-image'] = \"url('\" + formObj.backgroundimage.value + \"')\";\r\n\r\n\tformObj.style.value = dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedBorder() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\t// Update border width if the element has a color\r\n\tif (formObj.border.value != \"\" && (isCssSize(formObj.border.value) || formObj.bordercolor.value != \"\"))\r\n\t\tst['border-width'] = cssSize(formObj.border.value);\r\n\telse {\r\n\t\tif (!formObj.border.value) {\r\n\t\t\tst['border'] = '';\r\n\t\t\tst['border-width'] = '';\r\n\t\t}\r\n\t}\r\n\r\n\tformObj.style.value = dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedColor() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\tst['background-color'] = formObj.bgcolor.value;\r\n\r\n\tif (formObj.bordercolor.value != \"\") {\r\n\t\tst['border-color'] = formObj.bordercolor.value;\r\n\r\n\t\t// Add border-width if it's missing\r\n\t\tif (!st['border-width'])\r\n\t\t\tst['border-width'] = cssSize(formObj.border.value, 1);\r\n\t}\r\n\r\n\tformObj.style.value = dom.serializeStyle(st);\r\n}\r\n\r\nfunction changedStyle() {\r\n\tvar formObj = document.forms[0];\r\n\tvar st = dom.parseStyle(formObj.style.value);\r\n\r\n\tif (st['background-image'])\r\n\t\tformObj.backgroundimage.value = st['background-image'].replace(new RegExp(\"url\\\\(['\\\"]?([^'\\\"]*)['\\\"]?\\\\)\", 'gi'), \"$1\");\r\n\telse\r\n\t\tformObj.backgroundimage.value = '';\r\n\r\n\tif (st['width'])\r\n\t\tformObj.width.value = trimSize(st['width']);\r\n\r\n\tif (st['height'])\r\n\t\tformObj.height.value = trimSize(st['height']);\r\n\r\n\tif (st['background-color']) {\r\n\t\tformObj.bgcolor.value = st['background-color'];\r\n\t\tupdateColor('bgcolor_pick','bgcolor');\r\n\t}\r\n\r\n\tif (st['border-color']) {\r\n\t\tformObj.bordercolor.value = st['border-color'];\r\n\t\tupdateColor('bordercolor_pick','bordercolor');\r\n\t}\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/table/langs/en_dlg.js":"tinyMCE.addI18n('en.table_dlg',{\"rules_border\":\"border\",\"rules_box\":\"box\",\"rules_vsides\":\"vsides\",\"rules_rhs\":\"rhs\",\"rules_lhs\":\"lhs\",\"rules_hsides\":\"hsides\",\"rules_below\":\"below\",\"rules_above\":\"above\",\"rules_void\":\"void\",rules:\"Rules\",\"frame_all\":\"all\",\"frame_cols\":\"cols\",\"frame_rows\":\"rows\",\"frame_groups\":\"groups\",\"frame_none\":\"none\",frame:\"Frame\",caption:\"Table Caption\",\"missing_scope\":\"Are you sure you want to continue without specifying a scope for this table header cell. Without it, it may be difficult for some users with disabilities to understand the content or data displayed of the table.\",\"cell_limit\":\"You\\'ve exceeded the maximum number of cells of {$cells}.\",\"row_limit\":\"You\\'ve exceeded the maximum number of rows of {$rows}.\",\"col_limit\":\"You\\'ve exceeded the maximum number of columns of {$cols}.\",colgroup:\"Col Group\",rowgroup:\"Row Group\",scope:\"Scope\",tfoot:\"Footer\",tbody:\"Body\",thead:\"Header\",\"row_all\":\"Update All Rows in Table\",\"row_even\":\"Update Even Rows in Table\",\"row_odd\":\"Update Odd Rows in Table\",\"row_row\":\"Update Current Row\",\"cell_all\":\"Update All Cells in Table\",\"cell_row\":\"Update All Cells in Row\",\"cell_cell\":\"Update Current Cell\",th:\"Header\",td:\"Data\",summary:\"Summary\",bgimage:\"Background Image\",rtl:\"Right to Left\",ltr:\"Left to Right\",mime:\"Target MIME Type\",langcode:\"Language Code\",langdir:\"Language Direction\",style:\"Style\",id:\"ID\",\"merge_cells_title\":\"Merge Table Cells\",bgcolor:\"Background Color\",bordercolor:\"Border Color\",\"align_bottom\":\"Bottom\",\"align_top\":\"Top\",valign:\"Vertical Alignment\",\"cell_type\":\"Cell Type\",\"cell_title\":\"Table Cell Properties\",\"row_title\":\"Table Row Properties\",\"align_middle\":\"Center\",\"align_right\":\"Right\",\"align_left\":\"Left\",\"align_default\":\"Default\",align:\"Alignment\",border:\"Border\",cellpadding:\"Cell Padding\",cellspacing:\"Cell Spacing\",rows:\"Rows\",cols:\"Columns\",height:\"Height\",width:\"Width\",title:\"Insert/Edit Table\",rowtype:\"Row Type\",\"advanced_props\":\"Advanced Properties\",\"general_props\":\"General Properties\",\"advanced_tab\":\"Advanced\",\"general_tab\":\"General\",\"cell_col\":\"Update all cells in column\"});","Magento_Tinymce3/tiny_mce/plugins/template/editor_plugin.js":"(function(){var a=tinymce.each;tinymce.create(\"tinymce.plugins.TemplatePlugin\",{init:function(b,c){var d=this;d.editor=b;b.addCommand(\"mceTemplate\",function(e){b.windowManager.open({file:c+\"/template.htm\",width:b.getParam(\"template_popup_width\",750),height:b.getParam(\"template_popup_height\",600),inline:1},{plugin_url:c})});b.addCommand(\"mceInsertTemplate\",d._insertTemplate,d);b.addButton(\"template\",{title:\"template.desc\",cmd:\"mceTemplate\"});b.onPreProcess.add(function(e,g){var f=e.dom;a(f.select(\"div\",g.node),function(h){if(f.hasClass(h,\"mceTmpl\")){a(f.select(\"*\",h),function(i){if(f.hasClass(i,e.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))){i.innerHTML=d._getDateTime(new Date(),e.getParam(\"template_mdate_format\",e.getLang(\"template.mdate_format\")))}});d._replaceVals(h)}})})},getInfo:function(){return{longname:\"Template plugin\",author:\"Moxiecode Systems AB\",authorurl:\"http://www.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/template\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}},_insertTemplate:function(i,j){var k=this,g=k.editor,f,c,d=g.dom,b=g.selection.getContent();f=j.content;a(k.editor.getParam(\"template_replace_values\"),function(l,h){if(typeof(l)!=\"function\"){f=f.replace(new RegExp(\"\\\\{\\\\$\"+h+\"\\\\}\",\"g\"),l)}});c=d.create(\"div\",null,f);n=d.select(\".mceTmpl\",c);if(n&&n.length>0){c=d.create(\"div\",null);c.appendChild(n[0].cloneNode(true))}function e(l,h){return new RegExp(\"\\\\b\"+h+\"\\\\b\",\"g\").test(l.className)}a(d.select(\"*\",c),function(h){if(e(h,g.getParam(\"template_cdate_classes\",\"cdate\").replace(/\\s+/g,\"|\"))){h.innerHTML=k._getDateTime(new Date(),g.getParam(\"template_cdate_format\",g.getLang(\"template.cdate_format\")))}if(e(h,g.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))){h.innerHTML=k._getDateTime(new Date(),g.getParam(\"template_mdate_format\",g.getLang(\"template.mdate_format\")))}if(e(h,g.getParam(\"template_selected_content_classes\",\"selcontent\").replace(/\\s+/g,\"|\"))){h.innerHTML=b}});k._replaceVals(c);g.execCommand(\"mceInsertContent\",false,c.innerHTML);g.addVisual()},_replaceVals:function(c){var d=this.editor.dom,b=this.editor.getParam(\"template_replace_values\");a(d.select(\"*\",c),function(f){a(b,function(g,e){if(d.hasClass(f,e)){if(typeof(b[e])==\"function\"){b[e](f)}}})})},_getDateTime:function(e,b){if(!b){return\"\"}function c(g,d){var f;g=\"\"+g;if(g.length<d){for(f=0;f<(d-g.length);f++){g=\"0\"+g}}return g}b=b.replace(\"%D\",\"%m/%d/%y\");b=b.replace(\"%r\",\"%I:%M:%S %p\");b=b.replace(\"%Y\",\"\"+e.getFullYear());b=b.replace(\"%y\",\"\"+e.getYear());b=b.replace(\"%m\",c(e.getMonth()+1,2));b=b.replace(\"%d\",c(e.getDate(),2));b=b.replace(\"%H\",\"\"+c(e.getHours(),2));b=b.replace(\"%M\",\"\"+c(e.getMinutes(),2));b=b.replace(\"%S\",\"\"+c(e.getSeconds(),2));b=b.replace(\"%I\",\"\"+((e.getHours()+11)%12+1));b=b.replace(\"%p\",\"\"+(e.getHours()<12?\"AM\":\"PM\"));b=b.replace(\"%B\",\"\"+this.editor.getLang(\"template_months_long\").split(\",\")[e.getMonth()]);b=b.replace(\"%b\",\"\"+this.editor.getLang(\"template_months_short\").split(\",\")[e.getMonth()]);b=b.replace(\"%A\",\"\"+this.editor.getLang(\"template_day_long\").split(\",\")[e.getDay()]);b=b.replace(\"%a\",\"\"+this.editor.getLang(\"template_day_short\").split(\",\")[e.getDay()]);b=b.replace(\"%%\",\"%\");return b}});tinymce.PluginManager.add(\"template\",tinymce.plugins.TemplatePlugin)})();","Magento_Tinymce3/tiny_mce/plugins/template/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\tvar each = tinymce.each;\r\n\r\n\ttinymce.create('tinymce.plugins.TemplatePlugin', {\r\n\t\tinit : function(ed, url) {\r\n\t\t\tvar t = this;\r\n\r\n\t\t\tt.editor = ed;\r\n\r\n\t\t\t// Register commands\r\n\t\t\ted.addCommand('mceTemplate', function(ui) {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/template.htm',\r\n\t\t\t\t\twidth : ed.getParam('template_popup_width', 750),\r\n\t\t\t\t\theight : ed.getParam('template_popup_height', 600),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ted.addCommand('mceInsertTemplate', t._insertTemplate, t);\r\n\r\n\t\t\t// Register buttons\r\n\t\t\ted.addButton('template', {title : 'template.desc', cmd : 'mceTemplate'});\r\n\r\n\t\t\ted.onPreProcess.add(function(ed, o) {\r\n\t\t\t\tvar dom = ed.dom;\r\n\r\n\t\t\t\teach(dom.select('div', o.node), function(e) {\r\n\t\t\t\t\tif (dom.hasClass(e, 'mceTmpl')) {\r\n\t\t\t\t\t\teach(dom.select('*', e), function(e) {\r\n\t\t\t\t\t\t\tif (dom.hasClass(e, ed.getParam('template_mdate_classes', 'mdate').replace(/\\s+/g, '|')))\r\n\t\t\t\t\t\t\t\te.innerHTML = t._getDateTime(new Date(), ed.getParam(\"template_mdate_format\", ed.getLang(\"template.mdate_format\")));\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tt._replaceVals(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Template plugin',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://www.moxiecode.com',\r\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/template',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t_insertTemplate : function(ui, v) {\r\n\t\t\tvar t = this, ed = t.editor, h, el, dom = ed.dom, sel = ed.selection.getContent();\r\n\r\n\t\t\th = v.content;\r\n\r\n\t\t\teach(t.editor.getParam('template_replace_values'), function(v, k) {\r\n\t\t\t\tif (typeof(v) != 'function')\r\n\t\t\t\t\th = h.replace(new RegExp('\\\\{\\\\$' + k + '\\\\}', 'g'), v);\r\n\t\t\t});\r\n\r\n\t\t\tel = dom.create('div', null, h);\r\n\r\n\t\t\t// Find template element within div\r\n\t\t\tn = dom.select('.mceTmpl', el);\r\n\t\t\tif (n && n.length > 0) {\r\n\t\t\t\tel = dom.create('div', null);\r\n\t\t\t\tel.appendChild(n[0].cloneNode(true));\r\n\t\t\t}\r\n\r\n\t\t\tfunction hasClass(n, c) {\r\n\t\t\t\treturn new RegExp('\\\\b' + c + '\\\\b', 'g').test(n.className);\r\n\t\t\t};\r\n\r\n\t\t\teach(dom.select('*', el), function(n) {\r\n\t\t\t\t// Replace cdate\r\n\t\t\t\tif (hasClass(n, ed.getParam('template_cdate_classes', 'cdate').replace(/\\s+/g, '|')))\r\n\t\t\t\t\tn.innerHTML = t._getDateTime(new Date(), ed.getParam(\"template_cdate_format\", ed.getLang(\"template.cdate_format\")));\r\n\r\n\t\t\t\t// Replace mdate\r\n\t\t\t\tif (hasClass(n, ed.getParam('template_mdate_classes', 'mdate').replace(/\\s+/g, '|')))\r\n\t\t\t\t\tn.innerHTML = t._getDateTime(new Date(), ed.getParam(\"template_mdate_format\", ed.getLang(\"template.mdate_format\")));\r\n\r\n\t\t\t\t// Replace selection\r\n\t\t\t\tif (hasClass(n, ed.getParam('template_selected_content_classes', 'selcontent').replace(/\\s+/g, '|')))\r\n\t\t\t\t\tn.innerHTML = sel;\r\n\t\t\t});\r\n\r\n\t\t\tt._replaceVals(el);\r\n\r\n\t\t\ted.execCommand('mceInsertContent', false, el.innerHTML);\r\n\t\t\ted.addVisual();\r\n\t\t},\r\n\r\n\t\t_replaceVals : function(e) {\r\n\t\t\tvar dom = this.editor.dom, vl = this.editor.getParam('template_replace_values');\r\n\r\n\t\t\teach(dom.select('*', e), function(e) {\r\n\t\t\t\teach(vl, function(v, k) {\r\n\t\t\t\t\tif (dom.hasClass(e, k)) {\r\n\t\t\t\t\t\tif (typeof(vl[k]) == 'function')\r\n\t\t\t\t\t\t\tvl[k](e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_getDateTime : function(d, fmt) {\r\n\t\t\t\tif (!fmt)\r\n\t\t\t\t\treturn \"\";\r\n\r\n\t\t\t\tfunction addZeros(value, len) {\r\n\t\t\t\t\tvar i;\r\n\r\n\t\t\t\t\tvalue = \"\" + value;\r\n\r\n\t\t\t\t\tif (value.length < len) {\r\n\t\t\t\t\t\tfor (i=0; i<(len-value.length); i++)\r\n\t\t\t\t\t\t\tvalue = \"0\" + value;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfmt = fmt.replace(\"%D\", \"%m/%d/%y\");\r\n\t\t\t\tfmt = fmt.replace(\"%r\", \"%I:%M:%S %p\");\r\n\t\t\t\tfmt = fmt.replace(\"%Y\", \"\" + d.getFullYear());\r\n\t\t\t\tfmt = fmt.replace(\"%y\", \"\" + d.getYear());\r\n\t\t\t\tfmt = fmt.replace(\"%m\", addZeros(d.getMonth()+1, 2));\r\n\t\t\t\tfmt = fmt.replace(\"%d\", addZeros(d.getDate(), 2));\r\n\t\t\t\tfmt = fmt.replace(\"%H\", \"\" + addZeros(d.getHours(), 2));\r\n\t\t\t\tfmt = fmt.replace(\"%M\", \"\" + addZeros(d.getMinutes(), 2));\r\n\t\t\t\tfmt = fmt.replace(\"%S\", \"\" + addZeros(d.getSeconds(), 2));\r\n\t\t\t\tfmt = fmt.replace(\"%I\", \"\" + ((d.getHours() + 11) % 12 + 1));\r\n\t\t\t\tfmt = fmt.replace(\"%p\", \"\" + (d.getHours() < 12 ? \"AM\" : \"PM\"));\r\n\t\t\t\tfmt = fmt.replace(\"%B\", \"\" + this.editor.getLang(\"template_months_long\").split(',')[d.getMonth()]);\r\n\t\t\t\tfmt = fmt.replace(\"%b\", \"\" + this.editor.getLang(\"template_months_short\").split(',')[d.getMonth()]);\r\n\t\t\t\tfmt = fmt.replace(\"%A\", \"\" + this.editor.getLang(\"template_day_long\").split(',')[d.getDay()]);\r\n\t\t\t\tfmt = fmt.replace(\"%a\", \"\" + this.editor.getLang(\"template_day_short\").split(',')[d.getDay()]);\r\n\t\t\t\tfmt = fmt.replace(\"%%\", \"%\");\r\n\r\n\t\t\t\treturn fmt;\r\n\t\t}\r\n\t});\r\n\r\n\t// Register plugin\r\n\ttinymce.PluginManager.add('template', tinymce.plugins.TemplatePlugin);\r\n})();","Magento_Tinymce3/tiny_mce/plugins/template/js/template.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar TemplateDialog = {\r\n\tpreInit : function() {\r\n\t\tvar url = tinyMCEPopup.getParam(\"template_external_list_url\");\r\n\r\n\t\tif (url != null)\r\n\t\t\tdocument.write('<sc'+'ript language=\"javascript\" type=\"text/javascript\" src=\"' + tinyMCEPopup.editor.documentBaseURI.toAbsolute(url) + '\"></sc'+'ript>');\r\n\t},\r\n\r\n\tinit : function() {\r\n\t\tvar ed = tinyMCEPopup.editor, tsrc, sel, x, u;\r\n\r\n \t\ttsrc = ed.getParam(\"template_templates\", false);\r\n \t\tsel = document.getElementById('tpath');\r\n\r\n\t\t// Setup external template list\r\n\t\tif (!tsrc && typeof(tinyMCETemplateList) != 'undefined') {\r\n\t\t\tfor (x=0, tsrc = []; x<tinyMCETemplateList.length; x++)\r\n\t\t\t\ttsrc.push({title : tinyMCETemplateList[x][0], src : tinyMCETemplateList[x][1], description : tinyMCETemplateList[x][2]});\r\n\t\t}\r\n\r\n\t\tfor (x=0; x<tsrc.length; x++)\r\n\t\t\tsel.options[sel.options.length] = new Option(tsrc[x].title, tinyMCEPopup.editor.documentBaseURI.toAbsolute(tsrc[x].src));\r\n\r\n\t\tthis.resize();\r\n\t\tthis.tsrc = tsrc;\r\n\t},\r\n\r\n\tresize : function() {\r\n\t\tvar w, h, e;\r\n\r\n\t\tif (!self.innerWidth) {\r\n\t\t\tw = document.body.clientWidth - 50;\r\n\t\t\th = document.body.clientHeight - 160;\r\n\t\t} else {\r\n\t\t\tw = self.innerWidth - 50;\r\n\t\t\th = self.innerHeight - 170;\r\n\t\t}\r\n\r\n\t\te = document.getElementById('templatesrc');\r\n\r\n\t\tif (e) {\r\n\t\t\te.style.height = Math.abs(h) + 'px';\r\n\t\t\te.style.width = Math.abs(w - 5) + 'px';\r\n\t\t}\r\n\t},\r\n\r\n\tloadCSSFiles : function(d) {\r\n\t\tvar ed = tinyMCEPopup.editor;\r\n\r\n\t\ttinymce.each(ed.getParam(\"content_css\", '').split(','), function(u) {\r\n\t\t\td.write('<link href=\"' + ed.documentBaseURI.toAbsolute(u) + '\" rel=\"stylesheet\" type=\"text/css\" />');\r\n\t\t});\r\n\t},\r\n\r\n\tselectTemplate : function(u, ti) {\r\n\t\tvar d = window.frames['templatesrc'].document, x, tsrc = this.tsrc;\r\n\r\n\t\tif (!u)\r\n\t\t\treturn;\r\n\r\n\t\td.body.innerHTML = this.templateHTML = this.getFileContents(u);\r\n\r\n\t\tfor (x=0; x<tsrc.length; x++) {\r\n\t\t\tif (tsrc[x].title == ti)\r\n\t\t\t\tdocument.getElementById('tmpldesc').innerHTML = tsrc[x].description || '';\r\n\t\t}\r\n\t},\r\n\r\n \tinsert : function() {\r\n\t\ttinyMCEPopup.execCommand('mceInsertTemplate', false, {\r\n\t\t\tcontent : this.templateHTML,\r\n\t\t\tselection : tinyMCEPopup.editor.selection.getContent()\r\n\t\t});\r\n\r\n\t\ttinyMCEPopup.close();\r\n\t},\r\n\r\n\tgetFileContents : function(u) {\r\n\t\tvar x, d, t = 'text/plain';\r\n\r\n\t\tfunction g(s) {\r\n\t\t\tx = 0;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tx = new ActiveXObject(s);\r\n\t\t\t} catch (s) {\r\n\t\t\t}\r\n\r\n\t\t\treturn x;\r\n\t\t};\r\n\r\n\t\tx = window.ActiveXObject ? g('Msxml2.XMLHTTP') || g('Microsoft.XMLHTTP') : new XMLHttpRequest();\r\n\r\n\t\t// Synchronous AJAX load file\r\n\t\tx.overrideMimeType && x.overrideMimeType(t);\r\n\t\tx.open(\"GET\", u, false);\r\n\t\tx.send(null);\r\n\r\n\t\treturn x.responseText;\r\n\t}\r\n};\r\n\r\nTemplateDialog.preInit();\r\ntinyMCEPopup.onInit.add(TemplateDialog.init, TemplateDialog);\r\n","Magento_Tinymce3/tiny_mce/plugins/template/langs/en_dlg.js":"tinyMCE.addI18n('en.template_dlg',{title:\"Templates\",label:\"Template\",\"desc_label\":\"Description\",desc:\"Insert Predefined Template Content\",select:\"Select a Template\",preview:\"Preview\",warning:\"Warning: Updating a template with a different one may cause data loss.\",\"mdate_format\":\"%Y-%m-%d %H:%M:%S\",\"cdate_format\":\"%Y-%m-%d %H:%M:%S\",\"months_long\":\"January,February,March,April,May,June,July,August,September,October,November,December\",\"months_short\":\"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec\",\"day_long\":\"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday\",\"day_short\":\"Sun,Mon,Tue,Wed,Thu,Fri,Sat,Sun\"});","Magento_Tinymce3/tiny_mce/plugins/visualchars/editor_plugin.js":"(function(){tinymce.create(\"tinymce.plugins.VisualChars\",{init:function(a,b){var c=this;c.editor=a;a.addCommand(\"mceVisualChars\",c._toggleVisualChars,c);a.addButton(\"visualchars\",{title:\"visualchars.desc\",cmd:\"mceVisualChars\"});a.onBeforeGetContent.add(function(d,e){if(c.state&&e.format!=\"raw\"&&!e.draft){c.state=true;c._toggleVisualChars(false)}})},getInfo:function(){return{longname:\"Visual characters\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/visualchars\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}},_toggleVisualChars:function(m){var p=this,k=p.editor,a,g,j,n=k.getDoc(),o=k.getBody(),l,q=k.selection,e,c,f;p.state=!p.state;k.controlManager.setActive(\"visualchars\",p.state);if(m){f=q.getBookmark()}if(p.state){a=[];tinymce.walk(o,function(b){if(b.nodeType==3&&b.nodeValue&&b.nodeValue.indexOf(\"\\u00a0\")!=-1){a.push(b)}},\"childNodes\");for(g=0;g<a.length;g++){l=a[g].nodeValue;l=l.replace(/(\\u00a0)/g,'<span data-mce-bogus=\"1\" class=\"mceItemHidden mceItemNbsp\">$1</span>');c=k.dom.create(\"div\",null,l);while(node=c.lastChild){k.dom.insertAfter(node,a[g])}k.dom.remove(a[g])}}else{a=k.dom.select(\"span.mceItemNbsp\",o);for(g=a.length-1;g>=0;g--){k.dom.remove(a[g],1)}}q.moveToBookmark(f)}});tinymce.PluginManager.add(\"visualchars\",tinymce.plugins.VisualChars)})();","Magento_Tinymce3/tiny_mce/plugins/visualchars/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\ttinymce.create('tinymce.plugins.VisualChars', {\r\n\t\tinit : function(ed, url) {\r\n\t\t\tvar t = this;\r\n\r\n\t\t\tt.editor = ed;\r\n\r\n\t\t\t// Register commands\r\n\t\t\ted.addCommand('mceVisualChars', t._toggleVisualChars, t);\r\n\r\n\t\t\t// Register buttons\r\n\t\t\ted.addButton('visualchars', {title : 'visualchars.desc', cmd : 'mceVisualChars'});\r\n\r\n\t\t\ted.onBeforeGetContent.add(function(ed, o) {\r\n\t\t\t\tif (t.state && o.format != 'raw' && !o.draft) {\r\n\t\t\t\t\tt.state = true;\r\n\t\t\t\t\tt._toggleVisualChars(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Visual characters',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/visualchars',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t// Private methods\r\n\r\n\t\t_toggleVisualChars : function(bookmark) {\r\n\t\t\tvar t = this, ed = t.editor, nl, i, h, d = ed.getDoc(), b = ed.getBody(), nv, s = ed.selection, bo, div, bm;\r\n\r\n\t\t\tt.state = !t.state;\r\n\t\t\ted.controlManager.setActive('visualchars', t.state);\r\n\r\n\t\t\tif (bookmark)\r\n\t\t\t\tbm = s.getBookmark();\r\n\r\n\t\t\tif (t.state) {\r\n\t\t\t\tnl = [];\r\n\t\t\t\ttinymce.walk(b, function(n) {\r\n\t\t\t\t\tif (n.nodeType == 3 && n.nodeValue && n.nodeValue.indexOf('\\u00a0') != -1)\r\n\t\t\t\t\t\tnl.push(n);\r\n\t\t\t\t}, 'childNodes');\r\n\r\n\t\t\t\tfor (i = 0; i < nl.length; i++) {\r\n\t\t\t\t\tnv = nl[i].nodeValue;\r\n\t\t\t\t\tnv = nv.replace(/(\\u00a0)/g, '<span data-mce-bogus=\"1\" class=\"mceItemHidden mceItemNbsp\">$1</span>');\r\n\r\n\t\t\t\t\tdiv = ed.dom.create('div', null, nv);\r\n\t\t\t\t\twhile (node = div.lastChild)\r\n\t\t\t\t\t\ted.dom.insertAfter(node, nl[i]);\r\n\r\n\t\t\t\t\ted.dom.remove(nl[i]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tnl = ed.dom.select('span.mceItemNbsp', b);\r\n\r\n\t\t\t\tfor (i = nl.length - 1; i >= 0; i--)\r\n\t\t\t\t\ted.dom.remove(nl[i], 1);\r\n\t\t\t}\r\n\r\n\t\t\ts.moveToBookmark(bm);\r\n\t\t}\r\n\t});\r\n\r\n\t// Register plugin\r\n\ttinymce.PluginManager.add('visualchars', tinymce.plugins.VisualChars);\r\n})();","Magento_Tinymce3/tiny_mce/plugins/wordcount/editor_plugin.js":"(function(){tinymce.create(\"tinymce.plugins.WordCount\",{block:0,id:null,countre:null,cleanre:null,init:function(a,b){var c=this,d=0;c.countre=a.getParam(\"wordcount_countregex\",/[\\w\\u2019\\'-]+/g);c.cleanre=a.getParam(\"wordcount_cleanregex\",/[0-9.(),;:!?%#$?\\'\\\"_+=\\\\\\/-]*/g);c.id=a.id+\"-word-count\";a.onPostRender.add(function(f,e){var g,h;h=f.getParam(\"wordcount_target_id\");if(!h){g=tinymce.DOM.get(f.id+\"_path_row\");if(g){tinymce.DOM.add(g.parentNode,\"div\",{style:\"float: right\"},f.getLang(\"wordcount.words\",\"Words: \")+'<span id=\"'+c.id+'\">0</span>')}}else{tinymce.DOM.add(h,\"span\",{},'<span id=\"'+c.id+'\">0</span>')}});a.onInit.add(function(e){e.selection.onSetContent.add(function(){c._count(e)});c._count(e)});a.onSetContent.add(function(e){c._count(e)});a.onKeyUp.add(function(f,g){if(g.keyCode==d){return}if(13==g.keyCode||8==d||46==d){c._count(f)}d=g.keyCode})},_getCount:function(c){var a=0;var b=c.getContent({format:\"raw\"});if(b){b=b.replace(/\\.\\.\\./g,\" \");b=b.replace(/<.[^<>]*?>/g,\" \").replace(/&nbsp;|&#160;/gi,\" \");b=b.replace(/(\\w+)(&.+?;)+(\\w+)/,\"$1$3\").replace(/&.+?;/g,\" \");b=b.replace(this.cleanre,\"\");var d=b.match(this.countre);if(d){a=d.length}}return a},_count:function(a){var b=this;if(b.block){return}b.block=1;setTimeout(function(){if(!a.destroyed){var c=b._getCount(a);tinymce.DOM.setHTML(b.id,c.toString());setTimeout(function(){b.block=0},2000)}},1)},getInfo:function(){return{longname:\"Word Count plugin\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/wordcount\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}}});tinymce.PluginManager.add(\"wordcount\",tinymce.plugins.WordCount)})();","Magento_Tinymce3/tiny_mce/plugins/wordcount/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\ttinymce.create('tinymce.plugins.WordCount', {\r\n\t\tblock : 0,\r\n\t\tid : null,\r\n\t\tcountre : null,\r\n\t\tcleanre : null,\r\n\r\n\t\tinit : function(ed, url) {\r\n\t\t\tvar t = this, last = 0;\r\n\r\n\t\t\tt.countre = ed.getParam('wordcount_countregex', /[\\w\\u2019\\'-]+/g); // u2019 == &rsquo;\r\n\t\t\tt.cleanre = ed.getParam('wordcount_cleanregex', /[0-9.(),;:!?%#$?\\'\\\"_+=\\\\\\/-]*/g);\r\n\t\t\tt.id = ed.id + '-word-count';\r\n\r\n\t\t\ted.onPostRender.add(function(ed, cm) {\r\n\t\t\t\tvar row, id;\r\n\r\n\t\t\t\t// Add it to the specified id or the theme advanced path\r\n\t\t\t\tid = ed.getParam('wordcount_target_id');\r\n\t\t\t\tif (!id) {\r\n\t\t\t\t\trow = tinymce.DOM.get(ed.id + '_path_row');\r\n\r\n\t\t\t\t\tif (row)\r\n\t\t\t\t\t\ttinymce.DOM.add(row.parentNode, 'div', {'style': 'float: right'}, ed.getLang('wordcount.words', 'Words: ') + '<span id=\"' + t.id + '\">0</span>');\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttinymce.DOM.add(id, 'span', {}, '<span id=\"' + t.id + '\">0</span>');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ted.onInit.add(function(ed) {\r\n\t\t\t\ted.selection.onSetContent.add(function() {\r\n\t\t\t\t\tt._count(ed);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tt._count(ed);\r\n\t\t\t});\r\n\r\n\t\t\ted.onSetContent.add(function(ed) {\r\n\t\t\t\tt._count(ed);\r\n\t\t\t});\r\n\r\n\t\t\ted.onKeyUp.add(function(ed, e) {\r\n\t\t\t\tif (e.keyCode == last)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tif (13 == e.keyCode || 8 == last || 46 == last)\r\n\t\t\t\t\tt._count(ed);\r\n\r\n\t\t\t\tlast = e.keyCode;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_getCount : function(ed) {\r\n\t\t\tvar tc = 0;\r\n\t\t\tvar tx = ed.getContent({ format: 'raw' });\r\n\r\n\t\t\tif (tx) {\r\n\t\t\t\t\ttx = tx.replace(/\\.\\.\\./g, ' '); // convert ellipses to spaces\r\n\t\t\t\t\ttx = tx.replace(/<.[^<>]*?>/g, ' ').replace(/&nbsp;|&#160;/gi, ' '); // remove html tags and space chars\r\n\r\n\t\t\t\t\t// deal with html entities\r\n\t\t\t\t\ttx = tx.replace(/(\\w+)(&.+?;)+(\\w+)/, \"$1$3\").replace(/&.+?;/g, ' ');\r\n\t\t\t\t\ttx = tx.replace(this.cleanre, ''); // remove numbers and punctuation\r\n\r\n\t\t\t\t\tvar wordArray = tx.match(this.countre);\r\n\t\t\t\t\tif (wordArray) {\r\n\t\t\t\t\t\t\ttc = wordArray.length;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn tc;\r\n\t\t},\r\n\r\n\t\t_count : function(ed) {\r\n\t\t\tvar t = this;\r\n\r\n\t\t\t// Keep multiple calls from happening at the same time\r\n\t\t\tif (t.block)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tt.block = 1;\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tif (!ed.destroyed) {\r\n\t\t\t\t\tvar tc = t._getCount(ed);\r\n\t\t\t\t\ttinymce.DOM.setHTML(t.id, tc.toString());\r\n\t\t\t\t\tsetTimeout(function() {t.block = 0;}, 2000);\r\n\t\t\t\t}\r\n\t\t\t}, 1);\r\n\t\t},\r\n\r\n\t\tgetInfo: function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Word Count plugin',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/wordcount',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\ttinymce.PluginManager.add('wordcount', tinymce.plugins.WordCount);\r\n})();\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/editor_plugin.js":"(function(){tinymce.create(\"tinymce.plugins.XHTMLXtrasPlugin\",{init:function(a,b){a.addCommand(\"mceCite\",function(){a.windowManager.open({file:b+\"/cite.htm\",width:350+parseInt(a.getLang(\"xhtmlxtras.cite_delta_width\",0)),height:250+parseInt(a.getLang(\"xhtmlxtras.cite_delta_height\",0)),inline:1},{plugin_url:b})});a.addCommand(\"mceAcronym\",function(){a.windowManager.open({file:b+\"/acronym.htm\",width:350+parseInt(a.getLang(\"xhtmlxtras.acronym_delta_width\",0)),height:250+parseInt(a.getLang(\"xhtmlxtras.acronym_delta_height\",0)),inline:1},{plugin_url:b})});a.addCommand(\"mceAbbr\",function(){a.windowManager.open({file:b+\"/abbr.htm\",width:350+parseInt(a.getLang(\"xhtmlxtras.abbr_delta_width\",0)),height:250+parseInt(a.getLang(\"xhtmlxtras.abbr_delta_height\",0)),inline:1},{plugin_url:b})});a.addCommand(\"mceDel\",function(){a.windowManager.open({file:b+\"/del.htm\",width:340+parseInt(a.getLang(\"xhtmlxtras.del_delta_width\",0)),height:310+parseInt(a.getLang(\"xhtmlxtras.del_delta_height\",0)),inline:1},{plugin_url:b})});a.addCommand(\"mceIns\",function(){a.windowManager.open({file:b+\"/ins.htm\",width:340+parseInt(a.getLang(\"xhtmlxtras.ins_delta_width\",0)),height:310+parseInt(a.getLang(\"xhtmlxtras.ins_delta_height\",0)),inline:1},{plugin_url:b})});a.addCommand(\"mceAttributes\",function(){a.windowManager.open({file:b+\"/attributes.htm\",width:380+parseInt(a.getLang(\"xhtmlxtras.attr_delta_width\",0)),height:370+parseInt(a.getLang(\"xhtmlxtras.attr_delta_height\",0)),inline:1},{plugin_url:b})});a.addButton(\"cite\",{title:\"xhtmlxtras.cite_desc\",cmd:\"mceCite\"});a.addButton(\"acronym\",{title:\"xhtmlxtras.acronym_desc\",cmd:\"mceAcronym\"});a.addButton(\"abbr\",{title:\"xhtmlxtras.abbr_desc\",cmd:\"mceAbbr\"});a.addButton(\"del\",{title:\"xhtmlxtras.del_desc\",cmd:\"mceDel\"});a.addButton(\"ins\",{title:\"xhtmlxtras.ins_desc\",cmd:\"mceIns\"});a.addButton(\"attribs\",{title:\"xhtmlxtras.attribs_desc\",cmd:\"mceAttributes\"});a.onNodeChange.add(function(d,c,f,e){f=d.dom.getParent(f,\"CITE,ACRONYM,ABBR,DEL,INS\");c.setDisabled(\"cite\",e);c.setDisabled(\"acronym\",e);c.setDisabled(\"abbr\",e);c.setDisabled(\"del\",e);c.setDisabled(\"ins\",e);c.setDisabled(\"attribs\",f&&f.nodeName==\"BODY\");c.setActive(\"cite\",0);c.setActive(\"acronym\",0);c.setActive(\"abbr\",0);c.setActive(\"del\",0);c.setActive(\"ins\",0);if(f){do{c.setDisabled(f.nodeName.toLowerCase(),0);c.setActive(f.nodeName.toLowerCase(),1)}while(f=f.parentNode)}});a.onPreInit.add(function(){a.dom.create(\"abbr\")})},getInfo:function(){return{longname:\"XHTML Xtras Plugin\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",infourl:\"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/xhtmlxtras\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}}});tinymce.PluginManager.add(\"xhtmlxtras\",tinymce.plugins.XHTMLXtrasPlugin)})();","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/editor_plugin_src.js":"/**\r\n * editor_plugin_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\ttinymce.create('tinymce.plugins.XHTMLXtrasPlugin', {\r\n\t\tinit : function(ed, url) {\r\n\t\t\t// Register commands\r\n\t\t\ted.addCommand('mceCite', function() {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/cite.htm',\r\n\t\t\t\t\twidth : 350 + parseInt(ed.getLang('xhtmlxtras.cite_delta_width', 0)),\r\n\t\t\t\t\theight : 250 + parseInt(ed.getLang('xhtmlxtras.cite_delta_height', 0)),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ted.addCommand('mceAcronym', function() {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/acronym.htm',\r\n\t\t\t\t\twidth : 350 + parseInt(ed.getLang('xhtmlxtras.acronym_delta_width', 0)),\r\n\t\t\t\t\theight : 250 + parseInt(ed.getLang('xhtmlxtras.acronym_delta_height', 0)),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ted.addCommand('mceAbbr', function() {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/abbr.htm',\r\n\t\t\t\t\twidth : 350 + parseInt(ed.getLang('xhtmlxtras.abbr_delta_width', 0)),\r\n\t\t\t\t\theight : 250 + parseInt(ed.getLang('xhtmlxtras.abbr_delta_height', 0)),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ted.addCommand('mceDel', function() {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/del.htm',\r\n\t\t\t\t\twidth : 340 + parseInt(ed.getLang('xhtmlxtras.del_delta_width', 0)),\r\n\t\t\t\t\theight : 310 + parseInt(ed.getLang('xhtmlxtras.del_delta_height', 0)),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ted.addCommand('mceIns', function() {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/ins.htm',\r\n\t\t\t\t\twidth : 340 + parseInt(ed.getLang('xhtmlxtras.ins_delta_width', 0)),\r\n\t\t\t\t\theight : 310 + parseInt(ed.getLang('xhtmlxtras.ins_delta_height', 0)),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ted.addCommand('mceAttributes', function() {\r\n\t\t\t\ted.windowManager.open({\r\n\t\t\t\t\tfile : url + '/attributes.htm',\r\n\t\t\t\t\twidth : 380 + parseInt(ed.getLang('xhtmlxtras.attr_delta_width', 0)),\r\n\t\t\t\t\theight : 370 + parseInt(ed.getLang('xhtmlxtras.attr_delta_height', 0)),\r\n\t\t\t\t\tinline : 1\r\n\t\t\t\t}, {\r\n\t\t\t\t\tplugin_url : url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\t// Register buttons\r\n\t\t\ted.addButton('cite', {title : 'xhtmlxtras.cite_desc', cmd : 'mceCite'});\r\n\t\t\ted.addButton('acronym', {title : 'xhtmlxtras.acronym_desc', cmd : 'mceAcronym'});\r\n\t\t\ted.addButton('abbr', {title : 'xhtmlxtras.abbr_desc', cmd : 'mceAbbr'});\r\n\t\t\ted.addButton('del', {title : 'xhtmlxtras.del_desc', cmd : 'mceDel'});\r\n\t\t\ted.addButton('ins', {title : 'xhtmlxtras.ins_desc', cmd : 'mceIns'});\r\n\t\t\ted.addButton('attribs', {title : 'xhtmlxtras.attribs_desc', cmd : 'mceAttributes'});\r\n\r\n\t\t\ted.onNodeChange.add(function(ed, cm, n, co) {\r\n\t\t\t\tn = ed.dom.getParent(n, 'CITE,ACRONYM,ABBR,DEL,INS');\r\n\r\n\t\t\t\tcm.setDisabled('cite', co);\r\n\t\t\t\tcm.setDisabled('acronym', co);\r\n\t\t\t\tcm.setDisabled('abbr', co);\r\n\t\t\t\tcm.setDisabled('del', co);\r\n\t\t\t\tcm.setDisabled('ins', co);\r\n\t\t\t\tcm.setDisabled('attribs', n && n.nodeName == 'BODY');\r\n\t\t\t\tcm.setActive('cite', 0);\r\n\t\t\t\tcm.setActive('acronym', 0);\r\n\t\t\t\tcm.setActive('abbr', 0);\r\n\t\t\t\tcm.setActive('del', 0);\r\n\t\t\t\tcm.setActive('ins', 0);\r\n\r\n\t\t\t\t// Activate all\r\n\t\t\t\tif (n) {\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tcm.setDisabled(n.nodeName.toLowerCase(), 0);\r\n\t\t\t\t\t\tcm.setActive(n.nodeName.toLowerCase(), 1);\r\n\t\t\t\t\t} while (n = n.parentNode);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ted.onPreInit.add(function() {\r\n\t\t\t\t// Fixed IE issue where it can't handle these elements correctly\r\n\t\t\t\ted.dom.create('abbr');\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'XHTML Xtras Plugin',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tinfourl : 'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/xhtmlxtras',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t};\r\n\t\t}\r\n\t});\r\n\r\n\t// Register plugin\r\n\ttinymce.PluginManager.add('xhtmlxtras', tinymce.plugins.XHTMLXtrasPlugin);\r\n})();","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/js/abbr.js":"/**\r\n * abbr.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nfunction init() {\r\n\tSXE.initElementDialog('abbr');\r\n\tif (SXE.currentAction == \"update\") {\r\n\t\tSXE.showRemoveButton();\r\n\t}\r\n}\r\n\r\nfunction insertAbbr() {\r\n\tSXE.insertElement('abbr');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction removeAbbr() {\r\n\tSXE.removeElement('abbr');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/js/acronym.js":"/**\r\n * acronym.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nfunction init() {\r\n\tSXE.initElementDialog('acronym');\r\n\tif (SXE.currentAction == \"update\") {\r\n\t\tSXE.showRemoveButton();\r\n\t}\r\n}\r\n\r\nfunction insertAcronym() {\r\n\tSXE.insertElement('acronym');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction removeAcronym() {\r\n\tSXE.removeElement('acronym');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/js/attributes.js":"/**\r\n * attributes.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nfunction init() {\r\n\ttinyMCEPopup.resizeToInnerSize();\r\n\tvar inst = tinyMCEPopup.editor;\r\n\tvar dom = inst.dom;\r\n\tvar elm = inst.selection.getNode();\r\n\tvar f = document.forms[0];\r\n\tvar onclick = dom.getAttrib(elm, 'onclick');\r\n\r\n\tsetFormValue('title', dom.getAttrib(elm, 'title'));\r\n\tsetFormValue('id', dom.getAttrib(elm, 'id'));\r\n\tsetFormValue('style', dom.getAttrib(elm, \"style\"));\r\n\tsetFormValue('dir', dom.getAttrib(elm, 'dir'));\r\n\tsetFormValue('lang', dom.getAttrib(elm, 'lang'));\r\n\tsetFormValue('tabindex', dom.getAttrib(elm, 'tabindex', typeof(elm.tabindex) != \"undefined\" ? elm.tabindex : \"\"));\r\n\tsetFormValue('accesskey', dom.getAttrib(elm, 'accesskey', typeof(elm.accesskey) != \"undefined\" ? elm.accesskey : \"\"));\r\n\tsetFormValue('onfocus', dom.getAttrib(elm, 'onfocus'));\r\n\tsetFormValue('onblur', dom.getAttrib(elm, 'onblur'));\r\n\tsetFormValue('onclick', onclick);\r\n\tsetFormValue('ondblclick', dom.getAttrib(elm, 'ondblclick'));\r\n\tsetFormValue('onmousedown', dom.getAttrib(elm, 'onmousedown'));\r\n\tsetFormValue('onmouseup', dom.getAttrib(elm, 'onmouseup'));\r\n\tsetFormValue('onmouseover', dom.getAttrib(elm, 'onmouseover'));\r\n\tsetFormValue('onmousemove', dom.getAttrib(elm, 'onmousemove'));\r\n\tsetFormValue('onmouseout', dom.getAttrib(elm, 'onmouseout'));\r\n\tsetFormValue('onkeypress', dom.getAttrib(elm, 'onkeypress'));\r\n\tsetFormValue('onkeydown', dom.getAttrib(elm, 'onkeydown'));\r\n\tsetFormValue('onkeyup', dom.getAttrib(elm, 'onkeyup'));\r\n\tclassName = dom.getAttrib(elm, 'class');\r\n\r\n\taddClassesToList('classlist', 'advlink_styles');\r\n\tselectByValue(f, 'classlist', className, true);\r\n\r\n\tTinyMCE_EditableSelects.init();\r\n}\r\n\r\nfunction setFormValue(name, value) {\r\n\tif(value && document.forms[0].elements[name]){\r\n\t\tdocument.forms[0].elements[name].value = value;\r\n\t}\r\n}\r\n\r\nfunction insertAction() {\r\n\tvar inst = tinyMCEPopup.editor;\r\n\tvar elm = inst.selection.getNode();\r\n\r\n\tsetAllAttribs(elm);\r\n\ttinyMCEPopup.execCommand(\"mceEndUndoLevel\");\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction setAttrib(elm, attrib, value) {\r\n\tvar formObj = document.forms[0];\r\n\tvar valueElm = formObj.elements[attrib.toLowerCase()];\r\n\tvar inst = tinyMCEPopup.editor;\r\n\tvar dom = inst.dom;\r\n\r\n\tif (typeof(value) == \"undefined\" || value == null) {\r\n\t\tvalue = \"\";\r\n\r\n\t\tif (valueElm)\r\n\t\t\tvalue = valueElm.value;\r\n\t}\r\n\r\n\tdom.setAttrib(elm, attrib.toLowerCase(), value);\r\n}\r\n\r\nfunction setAllAttribs(elm) {\r\n\tvar f = document.forms[0];\r\n\r\n\tsetAttrib(elm, 'title');\r\n\tsetAttrib(elm, 'id');\r\n\tsetAttrib(elm, 'style');\r\n\tsetAttrib(elm, 'class', getSelectValue(f, 'classlist'));\r\n\tsetAttrib(elm, 'dir');\r\n\tsetAttrib(elm, 'lang');\r\n\tsetAttrib(elm, 'tabindex');\r\n\tsetAttrib(elm, 'accesskey');\r\n\tsetAttrib(elm, 'onfocus');\r\n\tsetAttrib(elm, 'onblur');\r\n\tsetAttrib(elm, 'onclick');\r\n\tsetAttrib(elm, 'ondblclick');\r\n\tsetAttrib(elm, 'onmousedown');\r\n\tsetAttrib(elm, 'onmouseup');\r\n\tsetAttrib(elm, 'onmouseover');\r\n\tsetAttrib(elm, 'onmousemove');\r\n\tsetAttrib(elm, 'onmouseout');\r\n\tsetAttrib(elm, 'onkeypress');\r\n\tsetAttrib(elm, 'onkeydown');\r\n\tsetAttrib(elm, 'onkeyup');\r\n\r\n\t// Refresh in old MSIE\r\n//\tif (tinyMCE.isMSIE5)\r\n//\t\telm.outerHTML = elm.outerHTML;\r\n}\r\n\r\nfunction insertAttribute() {\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\ntinyMCEPopup.requireLangPack();\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/js/cite.js":"/**\r\n * cite.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nfunction init() {\r\n\tSXE.initElementDialog('cite');\r\n\tif (SXE.currentAction == \"update\") {\r\n\t\tSXE.showRemoveButton();\r\n\t}\r\n}\r\n\r\nfunction insertCite() {\r\n\tSXE.insertElement('cite');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction removeCite() {\r\n\tSXE.removeElement('cite');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/js/del.js":"/**\r\n * del.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nfunction init() {\r\n\tSXE.initElementDialog('del');\r\n\tif (SXE.currentAction == \"update\") {\r\n\t\tsetFormValue('datetime', tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement, 'datetime'));\r\n\t\tsetFormValue('cite', tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement, 'cite'));\r\n\t\tSXE.showRemoveButton();\r\n\t}\r\n}\r\n\r\nfunction setElementAttribs(elm) {\r\n\tsetAllCommonAttribs(elm);\r\n\tsetAttrib(elm, 'datetime');\r\n\tsetAttrib(elm, 'cite');\r\n\telm.removeAttribute('data-mce-new');\r\n}\r\n\r\nfunction insertDel() {\r\n\tvar elm = tinyMCEPopup.editor.dom.getParent(SXE.focusElement, 'DEL');\r\n\r\n\tif (elm == null) {\r\n\t\tvar s = SXE.inst.selection.getContent();\r\n\t\tif(s.length > 0) {\r\n\t\t\tinsertInlineElement('del');\r\n\t\t\tvar elementArray = SXE.inst.dom.select('del[data-mce-new]');\r\n\t\t\tfor (var i=0; i<elementArray.length; i++) {\r\n\t\t\t\tvar elm = elementArray[i];\r\n\t\t\t\tsetElementAttribs(elm);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tsetElementAttribs(elm);\r\n\t}\r\n\ttinyMCEPopup.editor.nodeChanged();\r\n\ttinyMCEPopup.execCommand('mceEndUndoLevel');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction removeDel() {\r\n\tSXE.removeElement('del');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/js/element_common.js":"/**\r\n * element_common.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\ntinyMCEPopup.requireLangPack();\r\n\r\nfunction initCommonAttributes(elm) {\r\n\tvar formObj = document.forms[0], dom = tinyMCEPopup.editor.dom;\r\n\r\n\t// Setup form data for common element attributes\r\n\tsetFormValue('title', dom.getAttrib(elm, 'title'));\r\n\tsetFormValue('id', dom.getAttrib(elm, 'id'));\r\n\tselectByValue(formObj, 'class', dom.getAttrib(elm, 'class'), true);\r\n\tsetFormValue('style', dom.getAttrib(elm, 'style'));\r\n\tselectByValue(formObj, 'dir', dom.getAttrib(elm, 'dir'));\r\n\tsetFormValue('lang', dom.getAttrib(elm, 'lang'));\r\n\tsetFormValue('onfocus', dom.getAttrib(elm, 'onfocus'));\r\n\tsetFormValue('onblur', dom.getAttrib(elm, 'onblur'));\r\n\tsetFormValue('onclick', dom.getAttrib(elm, 'onclick'));\r\n\tsetFormValue('ondblclick', dom.getAttrib(elm, 'ondblclick'));\r\n\tsetFormValue('onmousedown', dom.getAttrib(elm, 'onmousedown'));\r\n\tsetFormValue('onmouseup', dom.getAttrib(elm, 'onmouseup'));\r\n\tsetFormValue('onmouseover', dom.getAttrib(elm, 'onmouseover'));\r\n\tsetFormValue('onmousemove', dom.getAttrib(elm, 'onmousemove'));\r\n\tsetFormValue('onmouseout', dom.getAttrib(elm, 'onmouseout'));\r\n\tsetFormValue('onkeypress', dom.getAttrib(elm, 'onkeypress'));\r\n\tsetFormValue('onkeydown', dom.getAttrib(elm, 'onkeydown'));\r\n\tsetFormValue('onkeyup', dom.getAttrib(elm, 'onkeyup'));\r\n}\r\n\r\nfunction setFormValue(name, value) {\r\n\tif(document.forms[0].elements[name]) document.forms[0].elements[name].value = value;\r\n}\r\n\r\nfunction insertDateTime(id) {\r\n\tdocument.getElementById(id).value = getDateTime(new Date(), \"%Y-%m-%dT%H:%M:%S\");\r\n}\r\n\r\nfunction getDateTime(d, fmt) {\r\n\tfmt = fmt.replace(\"%D\", \"%m/%d/%y\");\r\n\tfmt = fmt.replace(\"%r\", \"%I:%M:%S %p\");\r\n\tfmt = fmt.replace(\"%Y\", \"\" + d.getFullYear());\r\n\tfmt = fmt.replace(\"%y\", \"\" + d.getYear());\r\n\tfmt = fmt.replace(\"%m\", addZeros(d.getMonth()+1, 2));\r\n\tfmt = fmt.replace(\"%d\", addZeros(d.getDate(), 2));\r\n\tfmt = fmt.replace(\"%H\", \"\" + addZeros(d.getHours(), 2));\r\n\tfmt = fmt.replace(\"%M\", \"\" + addZeros(d.getMinutes(), 2));\r\n\tfmt = fmt.replace(\"%S\", \"\" + addZeros(d.getSeconds(), 2));\r\n\tfmt = fmt.replace(\"%I\", \"\" + ((d.getHours() + 11) % 12 + 1));\r\n\tfmt = fmt.replace(\"%p\", \"\" + (d.getHours() < 12 ? \"AM\" : \"PM\"));\r\n\tfmt = fmt.replace(\"%%\", \"%\");\r\n\r\n\treturn fmt;\r\n}\r\n\r\nfunction addZeros(value, len) {\r\n\tvar i;\r\n\r\n\tvalue = \"\" + value;\r\n\r\n\tif (value.length < len) {\r\n\t\tfor (i=0; i<(len-value.length); i++)\r\n\t\t\tvalue = \"0\" + value;\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction selectByValue(form_obj, field_name, value, add_custom, ignore_case) {\r\n\tif (!form_obj || !form_obj.elements[field_name])\r\n\t\treturn;\r\n\r\n\tvar sel = form_obj.elements[field_name];\r\n\r\n\tvar found = false;\r\n\tfor (var i=0; i<sel.options.length; i++) {\r\n\t\tvar option = sel.options[i];\r\n\r\n\t\tif (option.value == value || (ignore_case && option.value.toLowerCase() == value.toLowerCase())) {\r\n\t\t\toption.selected = true;\r\n\t\t\tfound = true;\r\n\t\t} else\r\n\t\t\toption.selected = false;\r\n\t}\r\n\r\n\tif (!found && add_custom && value != '') {\r\n\t\tvar option = new Option('Value: ' + value, value);\r\n\t\toption.selected = true;\r\n\t\tsel.options[sel.options.length] = option;\r\n\t}\r\n\r\n\treturn found;\r\n}\r\n\r\nfunction setAttrib(elm, attrib, value) {\r\n\tvar formObj = document.forms[0];\r\n\tvar valueElm = formObj.elements[attrib.toLowerCase()];\r\n\ttinyMCEPopup.editor.dom.setAttrib(elm, attrib, value || valueElm.value);\r\n}\r\n\r\nfunction setAllCommonAttribs(elm) {\r\n\tsetAttrib(elm, 'title');\r\n\tsetAttrib(elm, 'id');\r\n\tsetAttrib(elm, 'class');\r\n\tsetAttrib(elm, 'style');\r\n\tsetAttrib(elm, 'dir');\r\n\tsetAttrib(elm, 'lang');\r\n\t/*setAttrib(elm, 'onfocus');\r\n\tsetAttrib(elm, 'onblur');\r\n\tsetAttrib(elm, 'onclick');\r\n\tsetAttrib(elm, 'ondblclick');\r\n\tsetAttrib(elm, 'onmousedown');\r\n\tsetAttrib(elm, 'onmouseup');\r\n\tsetAttrib(elm, 'onmouseover');\r\n\tsetAttrib(elm, 'onmousemove');\r\n\tsetAttrib(elm, 'onmouseout');\r\n\tsetAttrib(elm, 'onkeypress');\r\n\tsetAttrib(elm, 'onkeydown');\r\n\tsetAttrib(elm, 'onkeyup');*/\r\n}\r\n\r\nSXE = {\r\n\tcurrentAction : \"insert\",\r\n\tinst : tinyMCEPopup.editor,\r\n\tupdateElement : null\r\n}\r\n\r\nSXE.focusElement = SXE.inst.selection.getNode();\r\n\r\nSXE.initElementDialog = function(element_name) {\r\n\taddClassesToList('class', 'xhtmlxtras_styles');\r\n\tTinyMCE_EditableSelects.init();\r\n\r\n\telement_name = element_name.toLowerCase();\r\n\tvar elm = SXE.inst.dom.getParent(SXE.focusElement, element_name.toUpperCase());\r\n\tif (elm != null && elm.nodeName.toUpperCase() == element_name.toUpperCase()) {\r\n\t\tSXE.currentAction = \"update\";\r\n\t}\r\n\r\n\tif (SXE.currentAction == \"update\") {\r\n\t\tinitCommonAttributes(elm);\r\n\t\tSXE.updateElement = elm;\r\n\t}\r\n\r\n\tdocument.forms[0].insert.value = tinyMCEPopup.getLang(SXE.currentAction, 'Insert', true); \r\n}\r\n\r\nSXE.insertElement = function(element_name) {\r\n\tvar elm = SXE.inst.dom.getParent(SXE.focusElement, element_name.toUpperCase()), h, tagName;\r\n\r\n\tif (elm == null) {\r\n\t\tvar s = SXE.inst.selection.getContent();\r\n\t\tif(s.length > 0) {\r\n\t\t\ttagName = element_name;\r\n\r\n\t\t\tinsertInlineElement(element_name);\r\n\t\t\tvar elementArray = tinymce.grep(SXE.inst.dom.select(element_name));\r\n\t\t\tfor (var i=0; i<elementArray.length; i++) {\r\n\t\t\t\tvar elm = elementArray[i];\r\n\r\n\t\t\t\tif (SXE.inst.dom.getAttrib(elm, 'data-mce-new')) {\r\n\t\t\t\t\telm.id = '';\r\n\t\t\t\t\telm.setAttribute('id', '');\r\n\t\t\t\t\telm.removeAttribute('id');\r\n\t\t\t\t\telm.removeAttribute('data-mce-new');\r\n\r\n\t\t\t\t\tsetAllCommonAttribs(elm);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tsetAllCommonAttribs(elm);\r\n\t}\r\n\tSXE.inst.nodeChanged();\r\n\ttinyMCEPopup.execCommand('mceEndUndoLevel');\r\n}\r\n\r\nSXE.removeElement = function(element_name){\r\n\telement_name = element_name.toLowerCase();\r\n\telm = SXE.inst.dom.getParent(SXE.focusElement, element_name.toUpperCase());\r\n\tif(elm && elm.nodeName.toUpperCase() == element_name.toUpperCase()){\r\n\t\ttinyMCE.execCommand('mceRemoveNode', false, elm);\r\n\t\tSXE.inst.nodeChanged();\r\n\t\ttinyMCEPopup.execCommand('mceEndUndoLevel');\r\n\t}\r\n}\r\n\r\nSXE.showRemoveButton = function() {\r\n\t\tdocument.getElementById(\"remove\").style.display = '';\r\n}\r\n\r\nSXE.containsClass = function(elm,cl) {\r\n\treturn (elm.className.indexOf(cl) > -1) ? true : false;\r\n}\r\n\r\nSXE.removeClass = function(elm,cl) {\r\n\tif(elm.className == null || elm.className == \"\" || !SXE.containsClass(elm,cl)) {\r\n\t\treturn true;\r\n\t}\r\n\tvar classNames = elm.className.split(\" \");\r\n\tvar newClassNames = \"\";\r\n\tfor (var x = 0, cnl = classNames.length; x < cnl; x++) {\r\n\t\tif (classNames[x] != cl) {\r\n\t\t\tnewClassNames += (classNames[x] + \" \");\r\n\t\t}\r\n\t}\r\n\telm.className = newClassNames.substring(0,newClassNames.length-1); //removes extra space at the end\r\n}\r\n\r\nSXE.addClass = function(elm,cl) {\r\n\tif(!SXE.containsClass(elm,cl)) elm.className ? elm.className += \" \" + cl : elm.className = cl;\r\n\treturn true;\r\n}\r\n\r\nfunction insertInlineElement(en) {\r\n\tvar ed = tinyMCEPopup.editor, dom = ed.dom;\r\n\r\n\ted.getDoc().execCommand('FontName', false, 'mceinline');\r\n\ttinymce.each(dom.select('span,font'), function(n) {\r\n\t\tif (n.style.fontFamily == 'mceinline' || n.face == 'mceinline')\r\n\t\t\tdom.replace(dom.create(en, {'data-mce-new' : 1}), n, 1);\r\n\t});\r\n}\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/js/ins.js":"/**\r\n * ins.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nfunction init() {\r\n\tSXE.initElementDialog('ins');\r\n\tif (SXE.currentAction == \"update\") {\r\n\t\tsetFormValue('datetime', tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement, 'datetime'));\r\n\t\tsetFormValue('cite', tinyMCEPopup.editor.dom.getAttrib(SXE.updateElement, 'cite'));\r\n\t\tSXE.showRemoveButton();\r\n\t}\r\n}\r\n\r\nfunction setElementAttribs(elm) {\r\n\tsetAllCommonAttribs(elm);\r\n\tsetAttrib(elm, 'datetime');\r\n\tsetAttrib(elm, 'cite');\r\n\telm.removeAttribute('data-mce-new');\r\n}\r\n\r\nfunction insertIns() {\r\n\tvar elm = tinyMCEPopup.editor.dom.getParent(SXE.focusElement, 'INS');\r\n\r\n\tif (elm == null) {\r\n\t\tvar s = SXE.inst.selection.getContent();\r\n\t\tif(s.length > 0) {\r\n\t\t\tinsertInlineElement('ins');\r\n\t\t\tvar elementArray = SXE.inst.dom.select('ins[data-mce-new]');\r\n\t\t\tfor (var i=0; i<elementArray.length; i++) {\r\n\t\t\t\tvar elm = elementArray[i];\r\n\t\t\t\tsetElementAttribs(elm);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tsetElementAttribs(elm);\r\n\t}\r\n\ttinyMCEPopup.editor.nodeChanged();\r\n\ttinyMCEPopup.execCommand('mceEndUndoLevel');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction removeIns() {\r\n\tSXE.removeElement('ins');\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/plugins/xhtmlxtras/langs/en_dlg.js":"tinyMCE.addI18n('en.xhtmlxtras_dlg',{\"attribs_title\":\"Insert/Edit Attributes\",\"option_rtl\":\"Right to Left\",\"option_ltr\":\"Left to Right\",\"insert_date\":\"Insert Current Date/Time\",remove:\"Remove\",\"title_cite_element\":\"Citation Element\",\"title_abbr_element\":\"Abbreviation Element\",\"title_acronym_element\":\"Acronym Element\",\"title_del_element\":\"Deletion Element\",\"title_ins_element\":\"Insertion Element\",\"fieldset_events_tab\":\"Element Events\",\"fieldset_attrib_tab\":\"Element Attributes\",\"fieldset_general_tab\":\"General Settings\",\"events_tab\":\"Events\",\"attrib_tab\":\"Attributes\",\"general_tab\":\"General\",\"attribute_attrib_tab\":\"Attributes\",\"attribute_events_tab\":\"Events\",\"attribute_label_accesskey\":\"AccessKey\",\"attribute_label_tabindex\":\"TabIndex\",\"attribute_label_langcode\":\"Language\",\"attribute_option_rtl\":\"Right to Left\",\"attribute_option_ltr\":\"Left to Right\",\"attribute_label_langdir\":\"Text Direction\",\"attribute_label_datetime\":\"Date/Time\",\"attribute_label_cite\":\"Cite\",\"attribute_label_style\":\"Style\",\"attribute_label_class\":\"Class\",\"attribute_label_id\":\"ID\",\"attribute_label_title\":\"Title\"});","Magento_Tinymce3/tiny_mce/themes/advanced/editor_template.js":"(function(e){var d=e.DOM,b=e.dom.Event,h=e.extend,f=e.each,a=e.util.Cookie,g,c=e.explode;e.ThemeManager.requireLangPack(\"advanced\");e.create(\"tinymce.themes.AdvancedTheme\",{sizes:[8,10,12,14,18,24,36],controls:{bold:[\"bold_desc\",\"Bold\"],italic:[\"italic_desc\",\"Italic\"],underline:[\"underline_desc\",\"Underline\"],strikethrough:[\"striketrough_desc\",\"Strikethrough\"],justifyleft:[\"justifyleft_desc\",\"JustifyLeft\"],justifycenter:[\"justifycenter_desc\",\"JustifyCenter\"],justifyright:[\"justifyright_desc\",\"JustifyRight\"],justifyfull:[\"justifyfull_desc\",\"JustifyFull\"],bullist:[\"bullist_desc\",\"InsertUnorderedList\"],numlist:[\"numlist_desc\",\"InsertOrderedList\"],outdent:[\"outdent_desc\",\"Outdent\"],indent:[\"indent_desc\",\"Indent\"],cut:[\"cut_desc\",\"Cut\"],copy:[\"copy_desc\",\"Copy\"],paste:[\"paste_desc\",\"Paste\"],undo:[\"undo_desc\",\"Undo\"],redo:[\"redo_desc\",\"Redo\"],link:[\"link_desc\",\"mceLink\"],unlink:[\"unlink_desc\",\"unlink\"],image:[\"image_desc\",\"mceImage\"],cleanup:[\"cleanup_desc\",\"mceCleanup\"],help:[\"help_desc\",\"mceHelp\"],code:[\"code_desc\",\"mceCodeEditor\"],hr:[\"hr_desc\",\"InsertHorizontalRule\"],removeformat:[\"removeformat_desc\",\"RemoveFormat\"],sub:[\"sub_desc\",\"subscript\"],sup:[\"sup_desc\",\"superscript\"],forecolor:[\"forecolor_desc\",\"ForeColor\"],forecolorpicker:[\"forecolor_desc\",\"mceForeColor\"],backcolor:[\"backcolor_desc\",\"HiliteColor\"],backcolorpicker:[\"backcolor_desc\",\"mceBackColor\"],charmap:[\"charmap_desc\",\"mceCharMap\"],visualaid:[\"visualaid_desc\",\"mceToggleVisualAid\"],anchor:[\"anchor_desc\",\"mceInsertAnchor\"],newdocument:[\"newdocument_desc\",\"mceNewDocument\"],blockquote:[\"blockquote_desc\",\"mceBlockQuote\"]},stateControls:[\"bold\",\"italic\",\"underline\",\"strikethrough\",\"bullist\",\"numlist\",\"justifyleft\",\"justifycenter\",\"justifyright\",\"justifyfull\",\"sub\",\"sup\",\"blockquote\"],init:function(j,k){var l=this,m,i,n;l.editor=j;l.url=k;l.onResolveName=new e.util.Dispatcher(this);j.forcedHighContrastMode=j.settings.detect_highcontrast&&l._isHighContrast();j.settings.skin=j.forcedHighContrastMode?\"highcontrast\":j.settings.skin;l.settings=m=h({theme_advanced_path:true,theme_advanced_toolbar_location:\"bottom\",theme_advanced_buttons1:\"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect\",theme_advanced_buttons2:\"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code\",theme_advanced_buttons3:\"hr,removeformat,visualaid,|,sub,sup,|,charmap\",theme_advanced_blockformats:\"p,address,pre,h1,h2,h3,h4,h5,h6\",theme_advanced_toolbar_align:\"center\",theme_advanced_fonts:\"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats\",theme_advanced_more_colors:1,theme_advanced_row_height:23,theme_advanced_resize_horizontal:1,theme_advanced_resizing_use_cookie:1,theme_advanced_font_sizes:\"1,2,3,4,5,6,7\",theme_advanced_font_selector:\"span\",theme_advanced_show_current_color:0,readonly:j.settings.readonly},j.settings);if(!m.font_size_style_values){m.font_size_style_values=\"8pt,10pt,12pt,14pt,18pt,24pt,36pt\"}if(e.is(m.theme_advanced_font_sizes,\"string\")){m.font_size_style_values=e.explode(m.font_size_style_values);m.font_size_classes=e.explode(m.font_size_classes||\"\");n={};j.settings.theme_advanced_font_sizes=m.theme_advanced_font_sizes;f(j.getParam(\"theme_advanced_font_sizes\",\"\",\"hash\"),function(q,p){var o;if(p==q&&q>=1&&q<=7){p=q+\" (\"+l.sizes[q-1]+\"pt)\";o=m.font_size_classes[q-1];q=m.font_size_style_values[q-1]||(l.sizes[q-1]+\"pt\")}if(/^\\s*\\./.test(q)){o=q.replace(/\\./g,\"\")}n[p]=o?{\"class\":o}:{fontSize:q}});m.theme_advanced_font_sizes=n}if((i=m.theme_advanced_path_location)&&i!=\"none\"){m.theme_advanced_statusbar_location=m.theme_advanced_path_location}if(m.theme_advanced_statusbar_location==\"none\"){m.theme_advanced_statusbar_location=0}if(j.settings.content_css!==false){j.contentCSS.push(j.baseURI.toAbsolute(k+\"/skins/\"+j.settings.skin+\"/content.css\"))}j.onInit.add(function(){if(!j.settings.readonly){j.onNodeChange.add(l._nodeChanged,l);j.onKeyUp.add(l._updateUndoStatus,l);j.onMouseUp.add(l._updateUndoStatus,l);j.dom.bind(j.dom.getRoot(),\"dragend\",function(){l._updateUndoStatus(j)})}});j.onSetProgressState.add(function(q,o,r){var s,t=q.id,p;if(o){l.progressTimer=setTimeout(function(){s=q.getContainer();s=s.insertBefore(d.create(\"DIV\",{style:\"position:relative\"}),s.firstChild);p=d.get(q.id+\"_tbl\");d.add(s,\"div\",{id:t+\"_blocker\",\"class\":\"mceBlocker\",style:{width:p.clientWidth+2,height:p.clientHeight+2}});d.add(s,\"div\",{id:t+\"_progress\",\"class\":\"mceProgress\",style:{left:p.clientWidth/2,top:p.clientHeight/2}})},r||0)}else{d.remove(t+\"_blocker\");d.remove(t+\"_progress\");clearTimeout(l.progressTimer)}});d.loadCSS(m.editor_css?j.documentBaseURI.toAbsolute(m.editor_css):k+\"/skins/\"+j.settings.skin+\"/ui.css\");if(m.skin_variant){d.loadCSS(k+\"/skins/\"+j.settings.skin+\"/ui_\"+m.skin_variant+\".css\")}},_isHighContrast:function(){var i,j=d.add(d.getRoot(),\"div\",{style:\"background-color: rgb(171,239,86);\"});i=(d.getStyle(j,\"background-color\",true)+\"\").toLowerCase().replace(/ /g,\"\");d.remove(j);return i!=\"rgb(171,239,86)\"&&i!=\"#abef56\"},createControl:function(l,i){var j,k;if(k=i.createControl(l)){return k}switch(l){case\"styleselect\":return this._createStyleSelect();case\"formatselect\":return this._createBlockFormats();case\"fontselect\":return this._createFontSelect();case\"fontsizeselect\":return this._createFontSizeSelect();case\"forecolor\":return this._createForeColorMenu();case\"backcolor\":return this._createBackColorMenu()}if((j=this.controls[l])){return i.createButton(l,{title:\"advanced.\"+j[0],cmd:j[1],ui:j[2],value:j[3]})}},execCommand:function(k,j,l){var i=this[\"_\"+k];if(i){i.call(this,j,l);return true}return false},_importClasses:function(k){var i=this.editor,j=i.controlManager.get(\"styleselect\");if(j.getLength()==0){f(i.dom.getClasses(),function(n,l){var m=\"style_\"+l;i.formatter.register(m,{inline:\"span\",attributes:{\"class\":n[\"class\"]},selector:\"*\"});j.add(n[\"class\"],m)})}},_createStyleSelect:function(m){var k=this,i=k.editor,j=i.controlManager,l;l=j.createListBox(\"styleselect\",{title:\"advanced.style_select\",onselect:function(o){var p,n=[];f(l.items,function(q){n.push(q.value)});i.focus();i.undoManager.add();p=i.formatter.matchAll(n);if(!o||p[0]==o){if(p[0]){i.formatter.remove(p[0])}}else{i.formatter.apply(o)}i.undoManager.add();i.nodeChanged();return false}});i.onInit.add(function(){var o=0,n=i.getParam(\"style_formats\");if(n){f(n,function(p){var q,r=0;f(p,function(){r++});if(r>1){q=p.name=p.name||\"style_\"+(o++);i.formatter.register(q,p);l.add(p.title,q)}else{l.add(p.title)}})}else{f(i.getParam(\"theme_advanced_styles\",\"\",\"hash\"),function(r,q){var p;if(r){p=\"style_\"+(o++);i.formatter.register(p,{inline:\"span\",classes:r,selector:\"*\"});l.add(k.editor.translate(q),p)}})}});if(l.getLength()==0){l.onPostRender.add(function(o,p){if(!l.NativeListBox){b.add(p.id+\"_text\",\"focus\",k._importClasses,k);b.add(p.id+\"_text\",\"mousedown\",k._importClasses,k);b.add(p.id+\"_open\",\"focus\",k._importClasses,k);b.add(p.id+\"_open\",\"mousedown\",k._importClasses,k)}else{b.add(p.id,\"focus\",k._importClasses,k)}})}return l},_createFontSelect:function(){var k,j=this,i=j.editor;k=i.controlManager.createListBox(\"fontselect\",{title:\"advanced.fontdefault\",onselect:function(l){var m=k.items[k.selectedIndex];if(!l&&m){i.execCommand(\"FontName\",false,m.value);return}i.execCommand(\"FontName\",false,l);k.select(function(n){return l==n});if(m&&m.value==l){k.select(null)}return false}});if(k){f(i.getParam(\"theme_advanced_fonts\",j.settings.theme_advanced_fonts,\"hash\"),function(m,l){k.add(i.translate(l),m,{style:m.indexOf(\"dings\")==-1?\"font-family:\"+m:\"\"})})}return k},_createFontSizeSelect:function(){var m=this,k=m.editor,n,l=0,j=[];n=k.controlManager.createListBox(\"fontsizeselect\",{title:\"advanced.font_size\",onselect:function(i){var o=n.items[n.selectedIndex];if(!i&&o){o=o.value;if(o[\"class\"]){k.formatter.toggle(\"fontsize_class\",{value:o[\"class\"]});k.undoManager.add();k.nodeChanged()}else{k.execCommand(\"FontSize\",false,o.fontSize)}return}if(i[\"class\"]){k.focus();k.undoManager.add();k.formatter.toggle(\"fontsize_class\",{value:i[\"class\"]});k.undoManager.add();k.nodeChanged()}else{k.execCommand(\"FontSize\",false,i.fontSize)}n.select(function(p){return i==p});if(o&&(o.value.fontSize==i.fontSize||o.value[\"class\"]==i[\"class\"])){n.select(null)}return false}});if(n){f(m.settings.theme_advanced_font_sizes,function(o,i){var p=o.fontSize;if(p>=1&&p<=7){p=m.sizes[parseInt(p)-1]+\"pt\"}n.add(i,o,{style:\"font-size:\"+p,\"class\":\"mceFontSize\"+(l++)+(\" \"+(o[\"class\"]||\"\"))})})}return n},_createBlockFormats:function(){var k,i={p:\"advanced.paragraph\",address:\"advanced.address\",pre:\"advanced.pre\",h1:\"advanced.h1\",h2:\"advanced.h2\",h3:\"advanced.h3\",h4:\"advanced.h4\",h5:\"advanced.h5\",h6:\"advanced.h6\",div:\"advanced.div\",blockquote:\"advanced.blockquote\",code:\"advanced.code\",dt:\"advanced.dt\",dd:\"advanced.dd\",samp:\"advanced.samp\"},j=this;k=j.editor.controlManager.createListBox(\"formatselect\",{title:\"advanced.block\",onselect:function(l){j.editor.execCommand(\"FormatBlock\",false,l);return false}});if(k){f(j.editor.getParam(\"theme_advanced_blockformats\",j.settings.theme_advanced_blockformats,\"hash\"),function(m,l){k.add(j.editor.translate(l!=m?l:i[m]),m,{\"class\":\"mce_formatPreview mce_\"+m})})}return k},_createForeColorMenu:function(){var m,j=this,k=j.settings,l={},i;if(k.theme_advanced_more_colors){l.more_colors_func=function(){j._mceColorPicker(0,{color:m.value,func:function(n){m.setColor(n)}})}}if(i=k.theme_advanced_text_colors){l.colors=i}if(k.theme_advanced_default_foreground_color){l.default_color=k.theme_advanced_default_foreground_color}l.title=\"advanced.forecolor_desc\";l.cmd=\"ForeColor\";l.scope=this;m=j.editor.controlManager.createColorSplitButton(\"forecolor\",l);return m},_createBackColorMenu:function(){var m,j=this,k=j.settings,l={},i;if(k.theme_advanced_more_colors){l.more_colors_func=function(){j._mceColorPicker(0,{color:m.value,func:function(n){m.setColor(n)}})}}if(i=k.theme_advanced_background_colors){l.colors=i}if(k.theme_advanced_default_background_color){l.default_color=k.theme_advanced_default_background_color}l.title=\"advanced.backcolor_desc\";l.cmd=\"HiliteColor\";l.scope=this;m=j.editor.controlManager.createColorSplitButton(\"backcolor\",l);return m},renderUI:function(k){var m,l,q,v=this,r=v.editor,w=v.settings,u,j,i;if(r.settings){r.settings.aria_label=w.aria_label+r.getLang(\"advanced.help_shortcut\")}m=j=d.create(\"span\",{role:\"application\",\"aria-labelledby\":r.id+\"_voice\",id:r.id+\"_parent\",\"class\":\"mceEditor \"+r.settings.skin+\"Skin\"+(w.skin_variant?\" \"+r.settings.skin+\"Skin\"+v._ufirst(w.skin_variant):\"\")});d.add(m,\"span\",{\"class\":\"mceVoiceLabel\",style:\"display:none;\",id:r.id+\"_voice\"},w.aria_label);if(!d.boxModel){m=d.add(m,\"div\",{\"class\":\"mceOldBoxModel\"})}m=u=d.add(m,\"table\",{role:\"presentation\",id:r.id+\"_tbl\",\"class\":\"mceLayout\",cellSpacing:0,cellPadding:0});m=q=d.add(m,\"tbody\");switch((w.theme_advanced_layout_manager||\"\").toLowerCase()){case\"rowlayout\":l=v._rowLayout(w,q,k);break;case\"customlayout\":l=r.execCallback(\"theme_advanced_custom_layout\",w,q,k,j);break;default:l=v._simpleLayout(w,q,k,j)}m=k.targetNode;i=u.rows;d.addClass(i[0],\"mceFirst\");d.addClass(i[i.length-1],\"mceLast\");f(d.select(\"tr\",q),function(o){d.addClass(o.firstChild,\"mceFirst\");d.addClass(o.childNodes[o.childNodes.length-1],\"mceLast\")});if(d.get(w.theme_advanced_toolbar_container)){d.get(w.theme_advanced_toolbar_container).appendChild(j)}else{d.insertAfter(j,m)}b.add(r.id+\"_path_row\",\"click\",function(n){n=n.target;if(n.nodeName==\"A\"){v._sel(n.className.replace(/^.*mcePath_([0-9]+).*$/,\"$1\"));return b.cancel(n)}});if(!r.getParam(\"accessibility_focus\")){b.add(d.add(j,\"a\",{href:\"#\"},\"<!-- IE -->\"),\"focus\",function(){tinyMCE.get(r.id).focus()})}if(w.theme_advanced_toolbar_location==\"external\"){k.deltaHeight=0}v.deltaHeight=k.deltaHeight;k.targetNode=null;r.onKeyDown.add(function(p,n){var s=121,o=122;if(n.altKey){if(n.keyCode===s){if(e.isWebKit){window.focus()}v.toolbarGroup.focus();return b.cancel(n)}else{if(n.keyCode===o){d.get(p.id+\"_path_row\").focus();return b.cancel(n)}}}});r.addShortcut(\"alt+0\",\"\",\"mceShortcuts\",v);return{iframeContainer:l,editorContainer:r.id+\"_parent\",sizeContainer:u,deltaHeight:k.deltaHeight}},getInfo:function(){return{longname:\"Advanced theme\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",version:e.majorVersion+\".\"+e.minorVersion}},resizeBy:function(i,j){var k=d.get(this.editor.id+\"_ifr\");this.resizeTo(k.clientWidth+i,k.clientHeight+j)},resizeTo:function(i,m,k){var j=this.editor,l=this.settings,n=d.get(j.id+\"_tbl\"),o=d.get(j.id+\"_ifr\");i=Math.max(l.theme_advanced_resizing_min_width||100,i);m=Math.max(l.theme_advanced_resizing_min_height||100,m);i=Math.min(l.theme_advanced_resizing_max_width||65535,i);m=Math.min(l.theme_advanced_resizing_max_height||65535,m);d.setStyle(n,\"height\",\"\");d.setStyle(o,\"height\",m);if(l.theme_advanced_resize_horizontal){d.setStyle(n,\"width\",\"\");d.setStyle(o,\"width\",i);if(i<n.clientWidth){i=n.clientWidth;d.setStyle(o,\"width\",n.clientWidth)}}if(k&&l.theme_advanced_resizing_use_cookie){a.setHash(\"TinyMCE_\"+j.id+\"_size\",{cw:i,ch:m})}},destroy:function(){var i=this.editor.id;b.clear(i+\"_resize\");b.clear(i+\"_path_row\");b.clear(i+\"_external_close\")},_simpleLayout:function(y,r,k,i){var x=this,u=x.editor,v=y.theme_advanced_toolbar_location,m=y.theme_advanced_statusbar_location,l,j,q,w;if(y.readonly){l=d.add(r,\"tr\");l=j=d.add(l,\"td\",{\"class\":\"mceIframeContainer\"});return j}if(v==\"top\"){x._addToolbars(r,k)}if(v==\"external\"){l=w=d.create(\"div\",{style:\"position:relative\"});l=d.add(l,\"div\",{id:u.id+\"_external\",\"class\":\"mceExternalToolbar\"});d.add(l,\"a\",{id:u.id+\"_external_close\",href:\"javascript:;\",\"class\":\"mceExternalClose\"});l=d.add(l,\"table\",{id:u.id+\"_tblext\",cellSpacing:0,cellPadding:0});q=d.add(l,\"tbody\");if(i.firstChild.className==\"mceOldBoxModel\"){i.firstChild.appendChild(w)}else{i.insertBefore(w,i.firstChild)}x._addToolbars(q,k);u.onMouseUp.add(function(){var o=d.get(u.id+\"_external\");d.show(o);d.hide(g);var n=b.add(u.id+\"_external_close\",\"click\",function(){d.hide(u.id+\"_external\");b.remove(u.id+\"_external_close\",\"click\",n)});d.show(o);d.setStyle(o,\"top\",0-d.getRect(u.id+\"_tblext\").h-1);d.hide(o);d.show(o);o.style.filter=\"\";g=u.id+\"_external\";o=null})}if(m==\"top\"){x._addStatusBar(r,k)}if(!y.theme_advanced_toolbar_container){l=d.add(r,\"tr\");l=j=d.add(l,\"td\",{\"class\":\"mceIframeContainer\"})}if(v==\"bottom\"){x._addToolbars(r,k)}if(m==\"bottom\"){x._addStatusBar(r,k)}return j},_rowLayout:function(w,m,k){var v=this,p=v.editor,u,x,i=p.controlManager,l,j,r,q;u=w.theme_advanced_containers_default_class||\"\";x=w.theme_advanced_containers_default_align||\"center\";f(c(w.theme_advanced_containers||\"\"),function(s,o){var n=w[\"theme_advanced_container_\"+s]||\"\";switch(s.toLowerCase()){case\"mceeditor\":l=d.add(m,\"tr\");l=j=d.add(l,\"td\",{\"class\":\"mceIframeContainer\"});break;case\"mceelementpath\":v._addStatusBar(m,k);break;default:q=(w[\"theme_advanced_container_\"+s+\"_align\"]||x).toLowerCase();q=\"mce\"+v._ufirst(q);l=d.add(d.add(m,\"tr\"),\"td\",{\"class\":\"mceToolbar \"+(w[\"theme_advanced_container_\"+s+\"_class\"]||u)+\" \"+q||x});r=i.createToolbar(\"toolbar\"+o);v._addControls(n,r);d.setHTML(l,r.renderHTML());k.deltaHeight-=w.theme_advanced_row_height}});return j},_addControls:function(j,i){var k=this,l=k.settings,m,n=k.editor.controlManager;if(l.theme_advanced_disable&&!k._disabled){m={};f(c(l.theme_advanced_disable),function(o){m[o]=1});k._disabled=m}else{m=k._disabled}f(c(j),function(p){var o;if(m&&m[p]){return}if(p==\"tablecontrols\"){f([\"table\",\"|\",\"row_props\",\"cell_props\",\"|\",\"row_before\",\"row_after\",\"delete_row\",\"|\",\"col_before\",\"col_after\",\"delete_col\",\"|\",\"split_cells\",\"merge_cells\"],function(q){q=k.createControl(q,n);if(q){i.add(q)}});return}o=k.createControl(p,n);if(o){i.add(o)}})},_addToolbars:function(x,k){var A=this,p,m,r=A.editor,B=A.settings,z,j=r.controlManager,u,l,q=[],y,w;w=j.createToolbarGroup(\"toolbargroup\",{name:r.getLang(\"advanced.toolbar\"),tab_focus_toolbar:r.getParam(\"theme_advanced_tab_focus_toolbar\")});A.toolbarGroup=w;y=B.theme_advanced_toolbar_align.toLowerCase();y=\"mce\"+A._ufirst(y);l=d.add(d.add(x,\"tr\",{role:\"presentation\"}),\"td\",{\"class\":\"mceToolbar \"+y,role:\"presentation\"});for(p=1;(z=B[\"theme_advanced_buttons\"+p]);p++){m=j.createToolbar(\"toolbar\"+p,{\"class\":\"mceToolbarRow\"+p});if(B[\"theme_advanced_buttons\"+p+\"_add\"]){z+=\",\"+B[\"theme_advanced_buttons\"+p+\"_add\"]}if(B[\"theme_advanced_buttons\"+p+\"_add_before\"]){z=B[\"theme_advanced_buttons\"+p+\"_add_before\"]+\",\"+z}A._addControls(z,m);w.add(m);k.deltaHeight-=B.theme_advanced_row_height}q.push(w.renderHTML());q.push(d.createHTML(\"a\",{href:\"#\",accesskey:\"z\",title:r.getLang(\"advanced.toolbar_focus\"),onfocus:\"tinyMCE.getInstanceById('\"+r.id+\"').focus();\"},\"<!-- IE -->\"));d.setHTML(l,q.join(\"\"))},_addStatusBar:function(m,j){var k,v=this,p=v.editor,w=v.settings,i,q,u,l;k=d.add(m,\"tr\");k=l=d.add(k,\"td\",{\"class\":\"mceStatusbar\"});k=d.add(k,\"div\",{id:p.id+\"_path_row\",role:\"group\",\"aria-labelledby\":p.id+\"_path_voice\"});if(w.theme_advanced_path){d.add(k,\"span\",{id:p.id+\"_path_voice\"},p.translate(\"advanced.path\"));d.add(k,\"span\",{},\": \")}else{d.add(k,\"span\",{},\"&#160;\")}if(w.theme_advanced_resizing){d.add(l,\"a\",{id:p.id+\"_resize\",href:\"javascript:;\",onclick:\"return false;\",\"class\":\"mceResize\",tabIndex:\"-1\"});if(w.theme_advanced_resizing_use_cookie){p.onPostRender.add(function(){var n=a.getHash(\"TinyMCE_\"+p.id+\"_size\"),r=d.get(p.id+\"_tbl\");if(!n){return}v.resizeTo(n.cw,n.ch)})}p.onPostRender.add(function(){b.add(p.id+\"_resize\",\"click\",function(n){n.preventDefault()});b.add(p.id+\"_resize\",\"mousedown\",function(D){var t,r,s,o,C,z,A,F,n,E,x;function y(G){G.preventDefault();n=A+(G.screenX-C);E=F+(G.screenY-z);v.resizeTo(n,E)}function B(G){b.remove(d.doc,\"mousemove\",t);b.remove(p.getDoc(),\"mousemove\",r);b.remove(d.doc,\"mouseup\",s);b.remove(p.getDoc(),\"mouseup\",o);n=A+(G.screenX-C);E=F+(G.screenY-z);v.resizeTo(n,E,true)}D.preventDefault();C=D.screenX;z=D.screenY;x=d.get(v.editor.id+\"_ifr\");A=n=x.clientWidth;F=E=x.clientHeight;t=b.add(d.doc,\"mousemove\",y);r=b.add(p.getDoc(),\"mousemove\",y);s=b.add(d.doc,\"mouseup\",B);o=b.add(p.getDoc(),\"mouseup\",B)})})}j.deltaHeight-=21;k=m=null},_updateUndoStatus:function(j){var i=j.controlManager,k=j.undoManager;i.setDisabled(\"undo\",!k.hasUndo()&&!k.typing);i.setDisabled(\"redo\",!k.hasRedo())},_nodeChanged:function(m,r,D,q,E){var y=this,C,F=0,x,G,z=y.settings,w,k,u,B,l,j,i;e.each(y.stateControls,function(n){r.setActive(n,m.queryCommandState(y.controls[n][1]))});function o(p){var s,n=E.parents,t=p;if(typeof(p)==\"string\"){t=function(v){return v.nodeName==p}}for(s=0;s<n.length;s++){if(t(n[s])){return n[s]}}}r.setActive(\"visualaid\",m.hasVisual);y._updateUndoStatus(m);r.setDisabled(\"outdent\",!m.queryCommandState(\"Outdent\"));C=o(\"A\");if(G=r.get(\"link\")){if(!C||!C.name){G.setDisabled(!C&&q);G.setActive(!!C)}}if(G=r.get(\"unlink\")){G.setDisabled(!C&&q);G.setActive(!!C&&!C.name)}if(G=r.get(\"anchor\")){G.setActive(!q&&!!C&&C.name)}C=o(\"IMG\");if(G=r.get(\"image\")){G.setActive(!q&&!!C&&D.className.indexOf(\"mceItem\")==-1)}if(G=r.get(\"styleselect\")){y._importClasses();j=[];f(G.items,function(n){j.push(n.value)});i=m.formatter.matchAll(j);G.select(i[0])}if(G=r.get(\"formatselect\")){C=o(d.isBlock);if(C){G.select(C.nodeName.toLowerCase())}}o(function(p){if(p.nodeName===\"SPAN\"){if(!w&&p.className){w=p.className}}if(m.dom.is(p,z.theme_advanced_font_selector)){if(!k&&p.style.fontSize){k=p.style.fontSize}if(!u&&p.style.fontFamily){u=p.style.fontFamily.replace(/[\\\"\\']+/g,\"\").replace(/^([^,]+).*/,\"$1\").toLowerCase()}if(!B&&p.style.color){B=p.style.color}if(!l&&p.style.backgroundColor){l=p.style.backgroundColor}}return false});if(G=r.get(\"fontselect\")){G.select(function(n){return n.replace(/^([^,]+).*/,\"$1\").toLowerCase()==u})}if(G=r.get(\"fontsizeselect\")){if(z.theme_advanced_runtime_fontsize&&!k&&!w){k=m.dom.getStyle(D,\"fontSize\",true)}G.select(function(n){if(n.fontSize&&n.fontSize===k){return true}if(n[\"class\"]&&n[\"class\"]===w){return true}})}if(z.theme_advanced_show_current_color){function A(p,n){if(G=r.get(p)){if(!n){n=G.settings.default_color}if(n!==G.value){G.displayColor(n)}}}A(\"forecolor\",B);A(\"backcolor\",l)}if(z.theme_advanced_show_current_color){function A(p,n){if(G=r.get(p)){if(!n){n=G.settings.default_color}if(n!==G.value){G.displayColor(n)}}}A(\"forecolor\",B);A(\"backcolor\",l)}if(z.theme_advanced_path&&z.theme_advanced_statusbar_location){C=d.get(m.id+\"_path\")||d.add(m.id+\"_path_row\",\"span\",{id:m.id+\"_path\"});if(y.statusKeyboardNavigation){y.statusKeyboardNavigation.destroy();y.statusKeyboardNavigation=null}d.setHTML(C,\"\");o(function(H){var p=H.nodeName.toLowerCase(),s,v,t=\"\";if(H.nodeType!=1||p===\"br\"||H.getAttribute(\"data-mce-bogus\")||d.hasClass(H,\"mceItemHidden\")||d.hasClass(H,\"mceItemRemoved\")){return}if(e.isIE&&H.scopeName!==\"HTML\"){p=H.scopeName+\":\"+p}p=p.replace(/mce\\:/g,\"\");switch(p){case\"b\":p=\"strong\";break;case\"i\":p=\"em\";break;case\"img\":if(x=d.getAttrib(H,\"src\")){t+=\"src: \"+x+\" \"}break;case\"a\":if(x=d.getAttrib(H,\"name\")){t+=\"name: \"+x+\" \";p+=\"#\"+x}if(x=d.getAttrib(H,\"href\")){t+=\"href: \"+x+\" \"}break;case\"font\":if(x=d.getAttrib(H,\"face\")){t+=\"font: \"+x+\" \"}if(x=d.getAttrib(H,\"size\")){t+=\"size: \"+x+\" \"}if(x=d.getAttrib(H,\"color\")){t+=\"color: \"+x+\" \"}break;case\"span\":if(x=d.getAttrib(H,\"style\")){t+=\"style: \"+x+\" \"}break}if(x=d.getAttrib(H,\"id\")){t+=\"id: \"+x+\" \"}if(x=H.className){x=x.replace(/\\b\\s*(webkit|mce|Apple-)\\w+\\s*\\b/g,\"\");if(x){t+=\"class: \"+x+\" \";if(d.isBlock(H)||p==\"img\"||p==\"span\"){p+=\".\"+x}}}p=p.replace(/(html:)/g,\"\");p={name:p,node:H,title:t};y.onResolveName.dispatch(y,p);t=p.title;p=p.name;v=d.create(\"a\",{href:\"javascript:;\",role:\"button\",onmousedown:\"return false;\",title:t,\"class\":\"mcePath_\"+(F++)},p);if(C.hasChildNodes()){C.insertBefore(d.create(\"span\",{\"aria-hidden\":\"true\"},\"\\u00a0\\u00bb \"),C.firstChild);C.insertBefore(v,C.firstChild)}else{C.appendChild(v)}},m.getBody());if(d.select(\"a\",C).length>0){y.statusKeyboardNavigation=new e.ui.KeyboardNavigation({root:m.id+\"_path_row\",items:d.select(\"a\",C),excludeFromTabOrder:true,onCancel:function(){m.focus()}},d)}}},_sel:function(i){this.editor.execCommand(\"mceSelectNodeDepth\",false,i)},_mceInsertAnchor:function(k,j){var i=this.editor;i.windowManager.open({url:this.url+\"/anchor.htm\",width:320+parseInt(i.getLang(\"advanced.anchor_delta_width\",0)),height:90+parseInt(i.getLang(\"advanced.anchor_delta_height\",0)),inline:true},{theme_url:this.url})},_mceCharMap:function(){var i=this.editor;i.windowManager.open({url:this.url+\"/charmap.htm\",width:550+parseInt(i.getLang(\"advanced.charmap_delta_width\",0)),height:260+parseInt(i.getLang(\"advanced.charmap_delta_height\",0)),inline:true},{theme_url:this.url})},_mceHelp:function(){var i=this.editor;i.windowManager.open({url:this.url+\"/about.htm\",width:480,height:380,inline:true},{theme_url:this.url})},_mceShortcuts:function(){var i=this.editor;i.windowManager.open({url:this.url+\"/shortcuts.htm\",width:480,height:380,inline:true},{theme_url:this.url})},_mceColorPicker:function(k,j){var i=this.editor;j=j||{};i.windowManager.open({url:this.url+\"/color_picker.htm\",width:375+parseInt(i.getLang(\"advanced.colorpicker_delta_width\",0)),height:250+parseInt(i.getLang(\"advanced.colorpicker_delta_height\",0)),close_previous:false,inline:true},{input_color:j.color,func:j.func,theme_url:this.url})},_mceCodeEditor:function(j,k){var i=this.editor;i.windowManager.open({url:this.url+\"/source_editor.htm\",width:parseInt(i.getParam(\"theme_advanced_source_editor_width\",720)),height:parseInt(i.getParam(\"theme_advanced_source_editor_height\",580)),inline:true,resizable:true,maximizable:true},{theme_url:this.url})},_mceImage:function(j,k){var i=this.editor;if(i.dom.getAttrib(i.selection.getNode(),\"class\").indexOf(\"mceItem\")!=-1){return}i.windowManager.open({url:this.url+\"/image.htm\",width:355+parseInt(i.getLang(\"advanced.image_delta_width\",0)),height:275+parseInt(i.getLang(\"advanced.image_delta_height\",0)),inline:true},{theme_url:this.url})},_mceLink:function(j,k){var i=this.editor;i.windowManager.open({url:this.url+\"/link.htm\",width:310+parseInt(i.getLang(\"advanced.link_delta_width\",0)),height:200+parseInt(i.getLang(\"advanced.link_delta_height\",0)),inline:true},{theme_url:this.url})},_mceNewDocument:function(){var i=this.editor;i.windowManager.confirm(\"advanced.newdocument\",function(j){if(j){i.execCommand(\"mceSetContent\",false,\"\")}})},_mceForeColor:function(){var i=this;this._mceColorPicker(0,{color:i.fgColor,func:function(j){i.fgColor=j;i.editor.execCommand(\"ForeColor\",false,j)}})},_mceBackColor:function(){var i=this;this._mceColorPicker(0,{color:i.bgColor,func:function(j){i.bgColor=j;i.editor.execCommand(\"HiliteColor\",false,j)}})},_ufirst:function(i){return i.substring(0,1).toUpperCase()+i.substring(1)}});e.ThemeManager.add(\"advanced\",e.themes.AdvancedTheme)}(tinymce));","Magento_Tinymce3/tiny_mce/themes/advanced/editor_template_src.js":"/**\r\n * editor_template_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function(tinymce) {\r\n\tvar DOM = tinymce.DOM, Event = tinymce.dom.Event, extend = tinymce.extend, each = tinymce.each, Cookie = tinymce.util.Cookie, lastExtID, explode = tinymce.explode;\r\n\r\n\t// Tell it to load theme specific language pack(s)\r\n\ttinymce.ThemeManager.requireLangPack('advanced');\r\n\r\n\ttinymce.create('tinymce.themes.AdvancedTheme', {\r\n\t\tsizes : [8, 10, 12, 14, 18, 24, 36],\r\n\r\n\t\t// Control name lookup, format: title, command\r\n\t\tcontrols : {\r\n\t\t\tbold : ['bold_desc', 'Bold'],\r\n\t\t\titalic : ['italic_desc', 'Italic'],\r\n\t\t\tunderline : ['underline_desc', 'Underline'],\r\n\t\t\tstrikethrough : ['striketrough_desc', 'Strikethrough'],\r\n\t\t\tjustifyleft : ['justifyleft_desc', 'JustifyLeft'],\r\n\t\t\tjustifycenter : ['justifycenter_desc', 'JustifyCenter'],\r\n\t\t\tjustifyright : ['justifyright_desc', 'JustifyRight'],\r\n\t\t\tjustifyfull : ['justifyfull_desc', 'JustifyFull'],\r\n\t\t\tbullist : ['bullist_desc', 'InsertUnorderedList'],\r\n\t\t\tnumlist : ['numlist_desc', 'InsertOrderedList'],\r\n\t\t\toutdent : ['outdent_desc', 'Outdent'],\r\n\t\t\tindent : ['indent_desc', 'Indent'],\r\n\t\t\tcut : ['cut_desc', 'Cut'],\r\n\t\t\tcopy : ['copy_desc', 'Copy'],\r\n\t\t\tpaste : ['paste_desc', 'Paste'],\r\n\t\t\tundo : ['undo_desc', 'Undo'],\r\n\t\t\tredo : ['redo_desc', 'Redo'],\r\n\t\t\tlink : ['link_desc', 'mceLink'],\r\n\t\t\tunlink : ['unlink_desc', 'unlink'],\r\n\t\t\timage : ['image_desc', 'mceImage'],\r\n\t\t\tcleanup : ['cleanup_desc', 'mceCleanup'],\r\n\t\t\thelp : ['help_desc', 'mceHelp'],\r\n\t\t\tcode : ['code_desc', 'mceCodeEditor'],\r\n\t\t\thr : ['hr_desc', 'InsertHorizontalRule'],\r\n\t\t\tremoveformat : ['removeformat_desc', 'RemoveFormat'],\r\n\t\t\tsub : ['sub_desc', 'subscript'],\r\n\t\t\tsup : ['sup_desc', 'superscript'],\r\n\t\t\tforecolor : ['forecolor_desc', 'ForeColor'],\r\n\t\t\tforecolorpicker : ['forecolor_desc', 'mceForeColor'],\r\n\t\t\tbackcolor : ['backcolor_desc', 'HiliteColor'],\r\n\t\t\tbackcolorpicker : ['backcolor_desc', 'mceBackColor'],\r\n\t\t\tcharmap : ['charmap_desc', 'mceCharMap'],\r\n\t\t\tvisualaid : ['visualaid_desc', 'mceToggleVisualAid'],\r\n\t\t\tanchor : ['anchor_desc', 'mceInsertAnchor'],\r\n\t\t\tnewdocument : ['newdocument_desc', 'mceNewDocument'],\r\n\t\t\tblockquote : ['blockquote_desc', 'mceBlockQuote']\r\n\t\t},\r\n\r\n\t\tstateControls : ['bold', 'italic', 'underline', 'strikethrough', 'bullist', 'numlist', 'justifyleft', 'justifycenter', 'justifyright', 'justifyfull', 'sub', 'sup', 'blockquote'],\r\n\r\n\t\tinit : function(ed, url) {\r\n\t\t\tvar t = this, s, v, o;\r\n\t\r\n\t\t\tt.editor = ed;\r\n\t\t\tt.url = url;\r\n\t\t\tt.onResolveName = new tinymce.util.Dispatcher(this);\r\n\r\n\t\t\ted.forcedHighContrastMode = ed.settings.detect_highcontrast && t._isHighContrast();\r\n\t\t\ted.settings.skin = ed.forcedHighContrastMode ? 'highcontrast' : ed.settings.skin;\r\n\r\n\t\t\t// Default settings\r\n\t\t\tt.settings = s = extend({\r\n\t\t\t\ttheme_advanced_path : true,\r\n\t\t\t\ttheme_advanced_toolbar_location : 'bottom',\r\n\t\t\t\ttheme_advanced_buttons1 : \"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect\",\r\n\t\t\t\ttheme_advanced_buttons2 : \"bullist,numlist,|,outdent,indent,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code\",\r\n\t\t\t\ttheme_advanced_buttons3 : \"hr,removeformat,visualaid,|,sub,sup,|,charmap\",\r\n\t\t\t\ttheme_advanced_blockformats : \"p,address,pre,h1,h2,h3,h4,h5,h6\",\r\n\t\t\t\ttheme_advanced_toolbar_align : \"center\",\r\n\t\t\t\ttheme_advanced_fonts : \"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats\",\r\n\t\t\t\ttheme_advanced_more_colors : 1,\r\n\t\t\t\ttheme_advanced_row_height : 23,\r\n\t\t\t\ttheme_advanced_resize_horizontal : 1,\r\n\t\t\t\ttheme_advanced_resizing_use_cookie : 1,\r\n\t\t\t\ttheme_advanced_font_sizes : \"1,2,3,4,5,6,7\",\r\n\t\t\t\ttheme_advanced_font_selector : \"span\",\r\n\t\t\t\ttheme_advanced_show_current_color: 0,\r\n\t\t\t\treadonly : ed.settings.readonly\r\n\t\t\t}, ed.settings);\r\n\r\n\t\t\t// Setup default font_size_style_values\r\n\t\t\tif (!s.font_size_style_values)\r\n\t\t\t\ts.font_size_style_values = \"8pt,10pt,12pt,14pt,18pt,24pt,36pt\";\r\n\r\n\t\t\tif (tinymce.is(s.theme_advanced_font_sizes, 'string')) {\r\n\t\t\t\ts.font_size_style_values = tinymce.explode(s.font_size_style_values);\r\n\t\t\t\ts.font_size_classes = tinymce.explode(s.font_size_classes || '');\r\n\r\n\t\t\t\t// Parse string value\r\n\t\t\t\to = {};\r\n\t\t\t\ted.settings.theme_advanced_font_sizes = s.theme_advanced_font_sizes;\r\n\t\t\t\teach(ed.getParam('theme_advanced_font_sizes', '', 'hash'), function(v, k) {\r\n\t\t\t\t\tvar cl;\r\n\r\n\t\t\t\t\tif (k == v && v >= 1 && v <= 7) {\r\n\t\t\t\t\t\tk = v + ' (' + t.sizes[v - 1] + 'pt)';\r\n\t\t\t\t\t\tcl = s.font_size_classes[v - 1];\r\n\t\t\t\t\t\tv = s.font_size_style_values[v - 1] || (t.sizes[v - 1] + 'pt');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (/^\\s*\\./.test(v))\r\n\t\t\t\t\t\tcl = v.replace(/\\./g, '');\r\n\r\n\t\t\t\t\to[k] = cl ? {'class' : cl} : {fontSize : v};\r\n\t\t\t\t});\r\n\r\n\t\t\t\ts.theme_advanced_font_sizes = o;\r\n\t\t\t}\r\n\r\n\t\t\tif ((v = s.theme_advanced_path_location) && v != 'none')\r\n\t\t\t\ts.theme_advanced_statusbar_location = s.theme_advanced_path_location;\r\n\r\n\t\t\tif (s.theme_advanced_statusbar_location == 'none')\r\n\t\t\t\ts.theme_advanced_statusbar_location = 0;\r\n\r\n\t\t\tif (ed.settings.content_css !== false)\r\n\t\t\t\ted.contentCSS.push(ed.baseURI.toAbsolute(url + \"/skins/\" + ed.settings.skin + \"/content.css\"));\r\n\r\n\t\t\t// Init editor\r\n\t\t\ted.onInit.add(function() {\r\n\t\t\t\tif (!ed.settings.readonly) {\r\n\t\t\t\t\ted.onNodeChange.add(t._nodeChanged, t);\r\n\t\t\t\t\ted.onKeyUp.add(t._updateUndoStatus, t);\r\n\t\t\t\t\ted.onMouseUp.add(t._updateUndoStatus, t);\r\n\t\t\t\t\ted.dom.bind(ed.dom.getRoot(), 'dragend', function() {\r\n\t\t\t\t\t\tt._updateUndoStatus(ed);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ted.onSetProgressState.add(function(ed, b, ti) {\r\n\t\t\t\tvar co, id = ed.id, tb;\r\n\r\n\t\t\t\tif (b) {\r\n\t\t\t\t\tt.progressTimer = setTimeout(function() {\r\n\t\t\t\t\t\tco = ed.getContainer();\r\n\t\t\t\t\t\tco = co.insertBefore(DOM.create('DIV', {style : 'position:relative'}), co.firstChild);\r\n\t\t\t\t\t\ttb = DOM.get(ed.id + '_tbl');\r\n\r\n\t\t\t\t\t\tDOM.add(co, 'div', {id : id + '_blocker', 'class' : 'mceBlocker', style : {width : tb.clientWidth + 2, height : tb.clientHeight + 2}});\r\n\t\t\t\t\t\tDOM.add(co, 'div', {id : id + '_progress', 'class' : 'mceProgress', style : {left : tb.clientWidth / 2, top : tb.clientHeight / 2}});\r\n\t\t\t\t\t}, ti || 0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tDOM.remove(id + '_blocker');\r\n\t\t\t\t\tDOM.remove(id + '_progress');\r\n\t\t\t\t\tclearTimeout(t.progressTimer);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tDOM.loadCSS(s.editor_css ? ed.documentBaseURI.toAbsolute(s.editor_css) : url + \"/skins/\" + ed.settings.skin + \"/ui.css\");\r\n\r\n\t\t\tif (s.skin_variant)\r\n\t\t\t\tDOM.loadCSS(url + \"/skins/\" + ed.settings.skin + \"/ui_\" + s.skin_variant + \".css\");\r\n\t\t},\r\n\r\n\t\t_isHighContrast : function() {\r\n\t\t\tvar actualColor, div = DOM.add(DOM.getRoot(), 'div', {'style': 'background-color: rgb(171,239,86);'});\r\n\r\n\t\t\tactualColor = (DOM.getStyle(div, 'background-color', true) + '').toLowerCase().replace(/ /g, '');\r\n\t\t\tDOM.remove(div);\r\n\r\n\t\t\treturn actualColor != 'rgb(171,239,86)' && actualColor != '#abef56';\r\n\t\t},\r\n\r\n\t\tcreateControl : function(n, cf) {\r\n\t\t\tvar cd, c;\r\n\r\n\t\t\tif (c = cf.createControl(n))\r\n\t\t\t\treturn c;\r\n\r\n\t\t\tswitch (n) {\r\n\t\t\t\tcase \"styleselect\":\r\n\t\t\t\t\treturn this._createStyleSelect();\r\n\r\n\t\t\t\tcase \"formatselect\":\r\n\t\t\t\t\treturn this._createBlockFormats();\r\n\r\n\t\t\t\tcase \"fontselect\":\r\n\t\t\t\t\treturn this._createFontSelect();\r\n\r\n\t\t\t\tcase \"fontsizeselect\":\r\n\t\t\t\t\treturn this._createFontSizeSelect();\r\n\r\n\t\t\t\tcase \"forecolor\":\r\n\t\t\t\t\treturn this._createForeColorMenu();\r\n\r\n\t\t\t\tcase \"backcolor\":\r\n\t\t\t\t\treturn this._createBackColorMenu();\r\n\t\t\t}\r\n\r\n\t\t\tif ((cd = this.controls[n]))\r\n\t\t\t\treturn cf.createButton(n, {title : \"advanced.\" + cd[0], cmd : cd[1], ui : cd[2], value : cd[3]});\r\n\t\t},\r\n\r\n\t\texecCommand : function(cmd, ui, val) {\r\n\t\t\tvar f = this['_' + cmd];\r\n\r\n\t\t\tif (f) {\r\n\t\t\t\tf.call(this, ui, val);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\t_importClasses : function(e) {\r\n\t\t\tvar ed = this.editor, ctrl = ed.controlManager.get('styleselect');\r\n\r\n\t\t\tif (ctrl.getLength() == 0) {\r\n\t\t\t\teach(ed.dom.getClasses(), function(o, idx) {\r\n\t\t\t\t\tvar name = 'style_' + idx;\r\n\r\n\t\t\t\t\ted.formatter.register(name, {\r\n\t\t\t\t\t\tinline : 'span',\r\n\t\t\t\t\t\tattributes : {'class' : o['class']},\r\n\t\t\t\t\t\tselector : '*'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tctrl.add(o['class'], name);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_createStyleSelect : function(n) {\r\n\t\t\tvar t = this, ed = t.editor, ctrlMan = ed.controlManager, ctrl;\r\n\r\n\t\t\t// Setup style select box\r\n\t\t\tctrl = ctrlMan.createListBox('styleselect', {\r\n\t\t\t\ttitle : 'advanced.style_select',\r\n\t\t\t\tonselect : function(name) {\r\n\t\t\t\t\tvar matches, formatNames = [];\r\n\r\n\t\t\t\t\teach(ctrl.items, function(item) {\r\n\t\t\t\t\t\tformatNames.push(item.value);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\ted.focus();\r\n\t\t\t\t\ted.undoManager.add();\r\n\r\n\t\t\t\t\t// Toggle off the current format\r\n\t\t\t\t\tmatches = ed.formatter.matchAll(formatNames);\r\n\t\t\t\t\tif (!name || matches[0] == name) {\r\n\t\t\t\t\t\tif (matches[0]) \r\n\t\t\t\t\t\t\ted.formatter.remove(matches[0]);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\ted.formatter.apply(name);\r\n\r\n\t\t\t\t\ted.undoManager.add();\r\n\t\t\t\t\ted.nodeChanged();\r\n\r\n\t\t\t\t\treturn false; // No auto select\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Handle specified format\r\n\t\t\ted.onInit.add(function() {\r\n\t\t\t\tvar counter = 0, formats = ed.getParam('style_formats');\r\n\r\n\t\t\t\tif (formats) {\r\n\t\t\t\t\teach(formats, function(fmt) {\r\n\t\t\t\t\t\tvar name, keys = 0;\r\n\r\n\t\t\t\t\t\teach(fmt, function() {keys++;});\r\n\r\n\t\t\t\t\t\tif (keys > 1) {\r\n\t\t\t\t\t\t\tname = fmt.name = fmt.name || 'style_' + (counter++);\r\n\t\t\t\t\t\t\ted.formatter.register(name, fmt);\r\n\t\t\t\t\t\t\tctrl.add(fmt.title, name);\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\tctrl.add(fmt.title);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\teach(ed.getParam('theme_advanced_styles', '', 'hash'), function(val, key) {\r\n\t\t\t\t\t\tvar name;\r\n\r\n\t\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\t\tname = 'style_' + (counter++);\r\n\r\n\t\t\t\t\t\t\ted.formatter.register(name, {\r\n\t\t\t\t\t\t\t\tinline : 'span',\r\n\t\t\t\t\t\t\t\tclasses : val,\r\n\t\t\t\t\t\t\t\tselector : '*'\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tctrl.add(t.editor.translate(key), name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Auto import classes if the ctrl box is empty\r\n\t\t\tif (ctrl.getLength() == 0) {\r\n\t\t\t\tctrl.onPostRender.add(function(ed, n) {\r\n\t\t\t\t\tif (!ctrl.NativeListBox) {\r\n\t\t\t\t\t\tEvent.add(n.id + '_text', 'focus', t._importClasses, t);\r\n\t\t\t\t\t\tEvent.add(n.id + '_text', 'mousedown', t._importClasses, t);\r\n\t\t\t\t\t\tEvent.add(n.id + '_open', 'focus', t._importClasses, t);\r\n\t\t\t\t\t\tEvent.add(n.id + '_open', 'mousedown', t._importClasses, t);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tEvent.add(n.id, 'focus', t._importClasses, t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn ctrl;\r\n\t\t},\r\n\r\n\t\t_createFontSelect : function() {\r\n\t\t\tvar c, t = this, ed = t.editor;\r\n\r\n\t\t\tc = ed.controlManager.createListBox('fontselect', {\r\n\t\t\t\ttitle : 'advanced.fontdefault',\r\n\t\t\t\tonselect : function(v) {\r\n\t\t\t\t\tvar cur = c.items[c.selectedIndex];\r\n\r\n\t\t\t\t\tif (!v && cur) {\r\n\t\t\t\t\t\ted.execCommand('FontName', false, cur.value);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ted.execCommand('FontName', false, v);\r\n\r\n\t\t\t\t\t// Fake selection, execCommand will fire a nodeChange and update the selection\r\n\t\t\t\t\tc.select(function(sv) {\r\n\t\t\t\t\t\treturn v == sv;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (cur && cur.value == v) {\r\n\t\t\t\t\t\tc.select(null);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false; // No auto select\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (c) {\r\n\t\t\t\teach(ed.getParam('theme_advanced_fonts', t.settings.theme_advanced_fonts, 'hash'), function(v, k) {\r\n\t\t\t\t\tc.add(ed.translate(k), v, {style : v.indexOf('dings') == -1 ? 'font-family:' + v : ''});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn c;\r\n\t\t},\r\n\r\n\t\t_createFontSizeSelect : function() {\r\n\t\t\tvar t = this, ed = t.editor, c, i = 0, cl = [];\r\n\r\n\t\t\tc = ed.controlManager.createListBox('fontsizeselect', {title : 'advanced.font_size', onselect : function(v) {\r\n\t\t\t\tvar cur = c.items[c.selectedIndex];\r\n\r\n\t\t\t\tif (!v && cur) {\r\n\t\t\t\t\tcur = cur.value;\r\n\r\n\t\t\t\t\tif (cur['class']) {\r\n\t\t\t\t\t\ted.formatter.toggle('fontsize_class', {value : cur['class']});\r\n\t\t\t\t\t\ted.undoManager.add();\r\n\t\t\t\t\t\ted.nodeChanged();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ted.execCommand('FontSize', false, cur.fontSize);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (v['class']) {\r\n\t\t\t\t\ted.focus();\r\n\t\t\t\t\ted.undoManager.add();\r\n\t\t\t\t\ted.formatter.toggle('fontsize_class', {value : v['class']});\r\n\t\t\t\t\ted.undoManager.add();\r\n\t\t\t\t\ted.nodeChanged();\r\n\t\t\t\t} else\r\n\t\t\t\t\ted.execCommand('FontSize', false, v.fontSize);\r\n\r\n\t\t\t\t// Fake selection, execCommand will fire a nodeChange and update the selection\r\n\t\t\t\tc.select(function(sv) {\r\n\t\t\t\t\treturn v == sv;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (cur && (cur.value.fontSize == v.fontSize || cur.value['class'] == v['class'])) {\r\n\t\t\t\t\tc.select(null);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false; // No auto select\r\n\t\t\t}});\r\n\r\n\t\t\tif (c) {\r\n\t\t\t\teach(t.settings.theme_advanced_font_sizes, function(v, k) {\r\n\t\t\t\t\tvar fz = v.fontSize;\r\n\r\n\t\t\t\t\tif (fz >= 1 && fz <= 7)\r\n\t\t\t\t\t\tfz = t.sizes[parseInt(fz) - 1] + 'pt';\r\n\r\n\t\t\t\t\tc.add(k, v, {'style' : 'font-size:' + fz, 'class' : 'mceFontSize' + (i++) + (' ' + (v['class'] || ''))});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn c;\r\n\t\t},\r\n\r\n\t\t_createBlockFormats : function() {\r\n\t\t\tvar c, fmts = {\r\n\t\t\t\tp : 'advanced.paragraph',\r\n\t\t\t\taddress : 'advanced.address',\r\n\t\t\t\tpre : 'advanced.pre',\r\n\t\t\t\th1 : 'advanced.h1',\r\n\t\t\t\th2 : 'advanced.h2',\r\n\t\t\t\th3 : 'advanced.h3',\r\n\t\t\t\th4 : 'advanced.h4',\r\n\t\t\t\th5 : 'advanced.h5',\r\n\t\t\t\th6 : 'advanced.h6',\r\n\t\t\t\tdiv : 'advanced.div',\r\n\t\t\t\tblockquote : 'advanced.blockquote',\r\n\t\t\t\tcode : 'advanced.code',\r\n\t\t\t\tdt : 'advanced.dt',\r\n\t\t\t\tdd : 'advanced.dd',\r\n\t\t\t\tsamp : 'advanced.samp'\r\n\t\t\t}, t = this;\r\n\r\n\t\t\tc = t.editor.controlManager.createListBox('formatselect', {title : 'advanced.block', onselect : function(v) {\r\n\t\t\t\tt.editor.execCommand('FormatBlock', false, v);\r\n\t\t\t\treturn false;\r\n\t\t\t}});\r\n\r\n\t\t\tif (c) {\r\n\t\t\t\teach(t.editor.getParam('theme_advanced_blockformats', t.settings.theme_advanced_blockformats, 'hash'), function(v, k) {\r\n\t\t\t\t\tc.add(t.editor.translate(k != v ? k : fmts[v]), v, {'class' : 'mce_formatPreview mce_' + v});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn c;\r\n\t\t},\r\n\r\n\t\t_createForeColorMenu : function() {\r\n\t\t\tvar c, t = this, s = t.settings, o = {}, v;\r\n\r\n\t\t\tif (s.theme_advanced_more_colors) {\r\n\t\t\t\to.more_colors_func = function() {\r\n\t\t\t\t\tt._mceColorPicker(0, {\r\n\t\t\t\t\t\tcolor : c.value,\r\n\t\t\t\t\t\tfunc : function(co) {\r\n\t\t\t\t\t\t\tc.setColor(co);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (v = s.theme_advanced_text_colors)\r\n\t\t\t\to.colors = v;\r\n\r\n\t\t\tif (s.theme_advanced_default_foreground_color)\r\n\t\t\t\to.default_color = s.theme_advanced_default_foreground_color;\r\n\r\n\t\t\to.title = 'advanced.forecolor_desc';\r\n\t\t\to.cmd = 'ForeColor';\r\n\t\t\to.scope = this;\r\n\r\n\t\t\tc = t.editor.controlManager.createColorSplitButton('forecolor', o);\r\n\r\n\t\t\treturn c;\r\n\t\t},\r\n\r\n\t\t_createBackColorMenu : function() {\r\n\t\t\tvar c, t = this, s = t.settings, o = {}, v;\r\n\r\n\t\t\tif (s.theme_advanced_more_colors) {\r\n\t\t\t\to.more_colors_func = function() {\r\n\t\t\t\t\tt._mceColorPicker(0, {\r\n\t\t\t\t\t\tcolor : c.value,\r\n\t\t\t\t\t\tfunc : function(co) {\r\n\t\t\t\t\t\t\tc.setColor(co);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (v = s.theme_advanced_background_colors)\r\n\t\t\t\to.colors = v;\r\n\r\n\t\t\tif (s.theme_advanced_default_background_color)\r\n\t\t\t\to.default_color = s.theme_advanced_default_background_color;\r\n\r\n\t\t\to.title = 'advanced.backcolor_desc';\r\n\t\t\to.cmd = 'HiliteColor';\r\n\t\t\to.scope = this;\r\n\r\n\t\t\tc = t.editor.controlManager.createColorSplitButton('backcolor', o);\r\n\r\n\t\t\treturn c;\r\n\t\t},\r\n\r\n\t\trenderUI : function(o) {\r\n\t\t\tvar n, ic, tb, t = this, ed = t.editor, s = t.settings, sc, p, nl;\r\n\r\n\t\t\tif (ed.settings) {\r\n\t\t\t\ted.settings.aria_label = s.aria_label + ed.getLang('advanced.help_shortcut');\r\n\t\t\t}\r\n\r\n\t\t\t// TODO: ACC Should have an aria-describedby attribute which is user-configurable to describe what this field is actually for.\r\n\t\t\t// Maybe actually inherit it from the original textara?\r\n\t\t\tn = p = DOM.create('span', {role : 'application', 'aria-labelledby' : ed.id + '_voice', id : ed.id + '_parent', 'class' : 'mceEditor ' + ed.settings.skin + 'Skin' + (s.skin_variant ? ' ' + ed.settings.skin + 'Skin' + t._ufirst(s.skin_variant) : '')});\r\n\t\t\tDOM.add(n, 'span', {'class': 'mceVoiceLabel', 'style': 'display:none;', id: ed.id + '_voice'}, s.aria_label);\r\n\r\n\t\t\tif (!DOM.boxModel)\r\n\t\t\t\tn = DOM.add(n, 'div', {'class' : 'mceOldBoxModel'});\r\n\r\n\t\t\tn = sc = DOM.add(n, 'table', {role : \"presentation\", id : ed.id + '_tbl', 'class' : 'mceLayout', cellSpacing : 0, cellPadding : 0});\r\n\t\t\tn = tb = DOM.add(n, 'tbody');\r\n\r\n\t\t\tswitch ((s.theme_advanced_layout_manager || '').toLowerCase()) {\r\n\t\t\t\tcase \"rowlayout\":\r\n\t\t\t\t\tic = t._rowLayout(s, tb, o);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"customlayout\":\r\n\t\t\t\t\tic = ed.execCallback(\"theme_advanced_custom_layout\", s, tb, o, p);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tic = t._simpleLayout(s, tb, o, p);\r\n\t\t\t}\r\n\r\n\t\t\tn = o.targetNode;\r\n\r\n\t\t\t// Add classes to first and last TRs\r\n\t\t\tnl = sc.rows;\r\n\t\t\tDOM.addClass(nl[0], 'mceFirst');\r\n\t\t\tDOM.addClass(nl[nl.length - 1], 'mceLast');\r\n\r\n\t\t\t// Add classes to first and last TDs\r\n\t\t\teach(DOM.select('tr', tb), function(n) {\r\n\t\t\t\tDOM.addClass(n.firstChild, 'mceFirst');\r\n\t\t\t\tDOM.addClass(n.childNodes[n.childNodes.length - 1], 'mceLast');\r\n\t\t\t});\r\n\r\n\t\t\tif (DOM.get(s.theme_advanced_toolbar_container))\r\n\t\t\t\tDOM.get(s.theme_advanced_toolbar_container).appendChild(p);\r\n\t\t\telse\r\n\t\t\t\tDOM.insertAfter(p, n);\r\n\r\n\t\t\tEvent.add(ed.id + '_path_row', 'click', function(e) {\r\n\t\t\t\te = e.target;\r\n\r\n\t\t\t\tif (e.nodeName == 'A') {\r\n\t\t\t\t\tt._sel(e.className.replace(/^.*mcePath_([0-9]+).*$/, '$1'));\r\n\r\n\t\t\t\t\treturn Event.cancel(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n/*\r\n\t\t\tif (DOM.get(ed.id + '_path_row')) {\r\n\t\t\t\tEvent.add(ed.id + '_tbl', 'mouseover', function(e) {\r\n\t\t\t\t\tvar re;\r\n\t\r\n\t\t\t\t\te = e.target;\r\n\r\n\t\t\t\t\tif (e.nodeName == 'SPAN' && DOM.hasClass(e.parentNode, 'mceButton')) {\r\n\t\t\t\t\t\tre = DOM.get(ed.id + '_path_row');\r\n\t\t\t\t\t\tt.lastPath = re.innerHTML;\r\n\t\t\t\t\t\tDOM.setHTML(re, e.parentNode.title);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tEvent.add(ed.id + '_tbl', 'mouseout', function(e) {\r\n\t\t\t\t\tif (t.lastPath) {\r\n\t\t\t\t\t\tDOM.setHTML(ed.id + '_path_row', t.lastPath);\r\n\t\t\t\t\t\tt.lastPath = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n*/\r\n\r\n\t\t\tif (!ed.getParam('accessibility_focus'))\r\n\t\t\t\tEvent.add(DOM.add(p, 'a', {href : '#'}, '<!-- IE -->'), 'focus', function() {tinyMCE.get(ed.id).focus();});\r\n\r\n\t\t\tif (s.theme_advanced_toolbar_location == 'external')\r\n\t\t\t\to.deltaHeight = 0;\r\n\r\n\t\t\tt.deltaHeight = o.deltaHeight;\r\n\t\t\to.targetNode = null;\r\n\r\n\t\t\ted.onKeyDown.add(function(ed, evt) {\r\n\t\t\t\tvar DOM_VK_F10 = 121, DOM_VK_F11 = 122;\r\n\r\n\t\t\t\tif (evt.altKey) {\r\n\t\t \t\t\tif (evt.keyCode === DOM_VK_F10) {\r\n\t\t\t\t\t\t// Make sure focus is given to toolbar in Safari.\r\n\t\t\t\t\t\t// We can't do this in IE as it prevents giving focus to toolbar when editor is in a frame\r\n\t\t\t\t\t\tif (tinymce.isWebKit) {\r\n\t\t\t\t\t\t\twindow.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tt.toolbarGroup.focus();\r\n\t\t\t\t\t\treturn Event.cancel(evt);\r\n\t\t\t\t\t} else if (evt.keyCode === DOM_VK_F11) {\r\n\t\t\t\t\t\tDOM.get(ed.id + '_path_row').focus();\r\n\t\t\t\t\t\treturn Event.cancel(evt);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// alt+0 is the UK recommended shortcut for accessing the list of access controls.\r\n\t\t\ted.addShortcut('alt+0', '', 'mceShortcuts', t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tiframeContainer : ic,\r\n\t\t\t\teditorContainer : ed.id + '_parent',\r\n\t\t\t\tsizeContainer : sc,\r\n\t\t\t\tdeltaHeight : o.deltaHeight\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Advanced theme',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tresizeBy : function(dw, dh) {\r\n\t\t\tvar e = DOM.get(this.editor.id + '_ifr');\r\n\r\n\t\t\tthis.resizeTo(e.clientWidth + dw, e.clientHeight + dh);\r\n\t\t},\r\n\r\n\t\tresizeTo : function(w, h, store) {\r\n\t\t\tvar ed = this.editor, s = this.settings, e = DOM.get(ed.id + '_tbl'), ifr = DOM.get(ed.id + '_ifr');\r\n\r\n\t\t\t// Boundery fix box\r\n\t\t\tw = Math.max(s.theme_advanced_resizing_min_width || 100, w);\r\n\t\t\th = Math.max(s.theme_advanced_resizing_min_height || 100, h);\r\n\t\t\tw = Math.min(s.theme_advanced_resizing_max_width || 0xFFFF, w);\r\n\t\t\th = Math.min(s.theme_advanced_resizing_max_height || 0xFFFF, h);\r\n\r\n\t\t\t// Resize iframe and container\r\n\t\t\tDOM.setStyle(e, 'height', '');\r\n\t\t\tDOM.setStyle(ifr, 'height', h);\r\n\r\n\t\t\tif (s.theme_advanced_resize_horizontal) {\r\n\t\t\t\tDOM.setStyle(e, 'width', '');\r\n\t\t\t\tDOM.setStyle(ifr, 'width', w);\r\n\r\n\t\t\t\t// Make sure that the size is never smaller than the over all ui\r\n\t\t\t\tif (w < e.clientWidth) {\r\n\t\t\t\t\tw = e.clientWidth;\r\n\t\t\t\t\tDOM.setStyle(ifr, 'width', e.clientWidth);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Store away the size\r\n\t\t\tif (store && s.theme_advanced_resizing_use_cookie) {\r\n\t\t\t\tCookie.setHash(\"TinyMCE_\" + ed.id + \"_size\", {\r\n\t\t\t\t\tcw : w,\r\n\t\t\t\t\tch : h\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdestroy : function() {\r\n\t\t\tvar id = this.editor.id;\r\n\r\n\t\t\tEvent.clear(id + '_resize');\r\n\t\t\tEvent.clear(id + '_path_row');\r\n\t\t\tEvent.clear(id + '_external_close');\r\n\t\t},\r\n\r\n\t\t// Internal functions\r\n\r\n\t\t_simpleLayout : function(s, tb, o, p) {\r\n\t\t\tvar t = this, ed = t.editor, lo = s.theme_advanced_toolbar_location, sl = s.theme_advanced_statusbar_location, n, ic, etb, c;\r\n\r\n\t\t\tif (s.readonly) {\r\n\t\t\t\tn = DOM.add(tb, 'tr');\r\n\t\t\t\tn = ic = DOM.add(n, 'td', {'class' : 'mceIframeContainer'});\r\n\t\t\t\treturn ic;\r\n\t\t\t}\r\n\r\n\t\t\t// Create toolbar container at top\r\n\t\t\tif (lo == 'top')\r\n\t\t\t\tt._addToolbars(tb, o);\r\n\r\n\t\t\t// Create external toolbar\r\n\t\t\tif (lo == 'external') {\r\n\t\t\t\tn = c = DOM.create('div', {style : 'position:relative'});\r\n\t\t\t\tn = DOM.add(n, 'div', {id : ed.id + '_external', 'class' : 'mceExternalToolbar'});\r\n\t\t\t\tDOM.add(n, 'a', {id : ed.id + '_external_close', href : 'javascript:;', 'class' : 'mceExternalClose'});\r\n\t\t\t\tn = DOM.add(n, 'table', {id : ed.id + '_tblext', cellSpacing : 0, cellPadding : 0});\r\n\t\t\t\tetb = DOM.add(n, 'tbody');\r\n\r\n\t\t\t\tif (p.firstChild.className == 'mceOldBoxModel')\r\n\t\t\t\t\tp.firstChild.appendChild(c);\r\n\t\t\t\telse\r\n\t\t\t\t\tp.insertBefore(c, p.firstChild);\r\n\r\n\t\t\t\tt._addToolbars(etb, o);\r\n\r\n\t\t\t\ted.onMouseUp.add(function() {\r\n\t\t\t\t\tvar e = DOM.get(ed.id + '_external');\r\n\t\t\t\t\tDOM.show(e);\r\n\r\n\t\t\t\t\tDOM.hide(lastExtID);\r\n\r\n\t\t\t\t\tvar f = Event.add(ed.id + '_external_close', 'click', function() {\r\n\t\t\t\t\t\tDOM.hide(ed.id + '_external');\r\n\t\t\t\t\t\tEvent.remove(ed.id + '_external_close', 'click', f);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tDOM.show(e);\r\n\t\t\t\t\tDOM.setStyle(e, 'top', 0 - DOM.getRect(ed.id + '_tblext').h - 1);\r\n\r\n\t\t\t\t\t// Fixes IE rendering bug\r\n\t\t\t\t\tDOM.hide(e);\r\n\t\t\t\t\tDOM.show(e);\r\n\t\t\t\t\te.style.filter = '';\r\n\r\n\t\t\t\t\tlastExtID = ed.id + '_external';\r\n\r\n\t\t\t\t\te = null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (sl == 'top')\r\n\t\t\t\tt._addStatusBar(tb, o);\r\n\r\n\t\t\t// Create iframe container\r\n\t\t\tif (!s.theme_advanced_toolbar_container) {\r\n\t\t\t\tn = DOM.add(tb, 'tr');\r\n\t\t\t\tn = ic = DOM.add(n, 'td', {'class' : 'mceIframeContainer'});\r\n\t\t\t}\r\n\r\n\t\t\t// Create toolbar container at bottom\r\n\t\t\tif (lo == 'bottom')\r\n\t\t\t\tt._addToolbars(tb, o);\r\n\r\n\t\t\tif (sl == 'bottom')\r\n\t\t\t\tt._addStatusBar(tb, o);\r\n\r\n\t\t\treturn ic;\r\n\t\t},\r\n\r\n\t\t_rowLayout : function(s, tb, o) {\r\n\t\t\tvar t = this, ed = t.editor, dc, da, cf = ed.controlManager, n, ic, to, a;\r\n\r\n\t\t\tdc = s.theme_advanced_containers_default_class || '';\r\n\t\t\tda = s.theme_advanced_containers_default_align || 'center';\r\n\r\n\t\t\teach(explode(s.theme_advanced_containers || ''), function(c, i) {\r\n\t\t\t\tvar v = s['theme_advanced_container_' + c] || '';\r\n\r\n\t\t\t\tswitch (c.toLowerCase()) {\r\n\t\t\t\t\tcase 'mceeditor':\r\n\t\t\t\t\t\tn = DOM.add(tb, 'tr');\r\n\t\t\t\t\t\tn = ic = DOM.add(n, 'td', {'class' : 'mceIframeContainer'});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'mceelementpath':\r\n\t\t\t\t\t\tt._addStatusBar(tb, o);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ta = (s['theme_advanced_container_' + c + '_align'] || da).toLowerCase();\r\n\t\t\t\t\t\ta = 'mce' + t._ufirst(a);\r\n\r\n\t\t\t\t\t\tn = DOM.add(DOM.add(tb, 'tr'), 'td', {\r\n\t\t\t\t\t\t\t'class' : 'mceToolbar ' + (s['theme_advanced_container_' + c + '_class'] || dc) + ' ' + a || da\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tto = cf.createToolbar(\"toolbar\" + i);\r\n\t\t\t\t\t\tt._addControls(v, to);\r\n\t\t\t\t\t\tDOM.setHTML(n, to.renderHTML());\r\n\t\t\t\t\t\to.deltaHeight -= s.theme_advanced_row_height;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn ic;\r\n\t\t},\r\n\r\n\t\t_addControls : function(v, tb) {\r\n\t\t\tvar t = this, s = t.settings, di, cf = t.editor.controlManager;\r\n\r\n\t\t\tif (s.theme_advanced_disable && !t._disabled) {\r\n\t\t\t\tdi = {};\r\n\r\n\t\t\t\teach(explode(s.theme_advanced_disable), function(v) {\r\n\t\t\t\t\tdi[v] = 1;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tt._disabled = di;\r\n\t\t\t} else\r\n\t\t\t\tdi = t._disabled;\r\n\r\n\t\t\teach(explode(v), function(n) {\r\n\t\t\t\tvar c;\r\n\r\n\t\t\t\tif (di && di[n])\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\t// Compatiblity with 2.x\r\n\t\t\t\tif (n == 'tablecontrols') {\r\n\t\t\t\t\teach([\"table\",\"|\",\"row_props\",\"cell_props\",\"|\",\"row_before\",\"row_after\",\"delete_row\",\"|\",\"col_before\",\"col_after\",\"delete_col\",\"|\",\"split_cells\",\"merge_cells\"], function(n) {\r\n\t\t\t\t\t\tn = t.createControl(n, cf);\r\n\r\n\t\t\t\t\t\tif (n)\r\n\t\t\t\t\t\t\ttb.add(n);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tc = t.createControl(n, cf);\r\n\r\n\t\t\t\tif (c)\r\n\t\t\t\t\ttb.add(c);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_addToolbars : function(c, o) {\r\n\t\t\tvar t = this, i, tb, ed = t.editor, s = t.settings, v, cf = ed.controlManager, di, n, h = [], a, toolbarGroup;\r\n\r\n\t\t\ttoolbarGroup = cf.createToolbarGroup('toolbargroup', {\r\n\t\t\t\t'name': ed.getLang('advanced.toolbar'),\r\n\t\t\t\t'tab_focus_toolbar':ed.getParam('theme_advanced_tab_focus_toolbar')\r\n\t\t\t});\r\n\r\n\t\t\tt.toolbarGroup = toolbarGroup;\r\n\r\n\t\t\ta = s.theme_advanced_toolbar_align.toLowerCase();\r\n\t\t\ta = 'mce' + t._ufirst(a);\r\n\r\n\t\t\tn = DOM.add(DOM.add(c, 'tr', {role: 'presentation'}), 'td', {'class' : 'mceToolbar ' + a, \"role\":\"presentation\"});\r\n\r\n\t\t\t// Create toolbar and add the controls\r\n\t\t\tfor (i=1; (v = s['theme_advanced_buttons' + i]); i++) {\r\n\t\t\t\ttb = cf.createToolbar(\"toolbar\" + i, {'class' : 'mceToolbarRow' + i});\r\n\r\n\t\t\t\tif (s['theme_advanced_buttons' + i + '_add'])\r\n\t\t\t\t\tv += ',' + s['theme_advanced_buttons' + i + '_add'];\r\n\r\n\t\t\t\tif (s['theme_advanced_buttons' + i + '_add_before'])\r\n\t\t\t\t\tv = s['theme_advanced_buttons' + i + '_add_before'] + ',' + v;\r\n\r\n\t\t\t\tt._addControls(v, tb);\r\n\t\t\t\ttoolbarGroup.add(tb);\r\n\r\n\t\t\t\to.deltaHeight -= s.theme_advanced_row_height;\r\n\t\t\t}\r\n\t\t\th.push(toolbarGroup.renderHTML());\r\n\t\t\th.push(DOM.createHTML('a', {href : '#', accesskey : 'z', title : ed.getLang(\"advanced.toolbar_focus\"), onfocus : 'tinyMCE.getInstanceById(\\'' + ed.id + '\\').focus();'}, '<!-- IE -->'));\r\n\t\t\tDOM.setHTML(n, h.join(''));\r\n\t\t},\r\n\r\n\t\t_addStatusBar : function(tb, o) {\r\n\t\t\tvar n, t = this, ed = t.editor, s = t.settings, r, mf, me, td;\r\n\r\n\t\t\tn = DOM.add(tb, 'tr');\r\n\t\t\tn = td = DOM.add(n, 'td', {'class' : 'mceStatusbar'}); \r\n\t\t\tn = DOM.add(n, 'div', {id : ed.id + '_path_row', 'role': 'group', 'aria-labelledby': ed.id + '_path_voice'});\r\n\t\t\tif (s.theme_advanced_path) {\r\n\t\t\t\tDOM.add(n, 'span', {id: ed.id + '_path_voice'}, ed.translate('advanced.path'));\r\n\t\t\t\tDOM.add(n, 'span', {}, ': ');\r\n\t\t\t} else {\r\n\t\t\t\tDOM.add(n, 'span', {}, '&#160;');\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif (s.theme_advanced_resizing) {\r\n\t\t\t\tDOM.add(td, 'a', {id : ed.id + '_resize', href : 'javascript:;', onclick : \"return false;\", 'class' : 'mceResize', tabIndex:\"-1\"});\r\n\r\n\t\t\t\tif (s.theme_advanced_resizing_use_cookie) {\r\n\t\t\t\t\ted.onPostRender.add(function() {\r\n\t\t\t\t\t\tvar o = Cookie.getHash(\"TinyMCE_\" + ed.id + \"_size\"), c = DOM.get(ed.id + '_tbl');\r\n\r\n\t\t\t\t\t\tif (!o)\r\n\t\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t\tt.resizeTo(o.cw, o.ch);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\ted.onPostRender.add(function() {\r\n\t\t\t\t\tEvent.add(ed.id + '_resize', 'click', function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tEvent.add(ed.id + '_resize', 'mousedown', function(e) {\r\n\t\t\t\t\t\tvar mouseMoveHandler1, mouseMoveHandler2,\r\n\t\t\t\t\t\t\tmouseUpHandler1, mouseUpHandler2,\r\n\t\t\t\t\t\t\tstartX, startY, startWidth, startHeight, width, height, ifrElm;\r\n\r\n\t\t\t\t\t\tfunction resizeOnMove(e) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\twidth = startWidth + (e.screenX - startX);\r\n\t\t\t\t\t\t\theight = startHeight + (e.screenY - startY);\r\n\r\n\t\t\t\t\t\t\tt.resizeTo(width, height);\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tfunction endResize(e) {\r\n\t\t\t\t\t\t\t// Stop listening\r\n\t\t\t\t\t\t\tEvent.remove(DOM.doc, 'mousemove', mouseMoveHandler1);\r\n\t\t\t\t\t\t\tEvent.remove(ed.getDoc(), 'mousemove', mouseMoveHandler2);\r\n\t\t\t\t\t\t\tEvent.remove(DOM.doc, 'mouseup', mouseUpHandler1);\r\n\t\t\t\t\t\t\tEvent.remove(ed.getDoc(), 'mouseup', mouseUpHandler2);\r\n\r\n\t\t\t\t\t\t\twidth = startWidth + (e.screenX - startX);\r\n\t\t\t\t\t\t\theight = startHeight + (e.screenY - startY);\r\n\t\t\t\t\t\t\tt.resizeTo(width, height, true);\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t// Get the current rect size\r\n\t\t\t\t\t\tstartX = e.screenX;\r\n\t\t\t\t\t\tstartY = e.screenY;\r\n\t\t\t\t\t\tifrElm = DOM.get(t.editor.id + '_ifr');\r\n\t\t\t\t\t\tstartWidth = width = ifrElm.clientWidth;\r\n\t\t\t\t\t\tstartHeight = height = ifrElm.clientHeight;\r\n\r\n\t\t\t\t\t\t// Register envent handlers\r\n\t\t\t\t\t\tmouseMoveHandler1 = Event.add(DOM.doc, 'mousemove', resizeOnMove);\r\n\t\t\t\t\t\tmouseMoveHandler2 = Event.add(ed.getDoc(), 'mousemove', resizeOnMove);\r\n\t\t\t\t\t\tmouseUpHandler1 = Event.add(DOM.doc, 'mouseup', endResize);\r\n\t\t\t\t\t\tmouseUpHandler2 = Event.add(ed.getDoc(), 'mouseup', endResize);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\to.deltaHeight -= 21;\r\n\t\t\tn = tb = null;\r\n\t\t},\r\n\r\n\t\t_updateUndoStatus : function(ed) {\r\n\t\t\tvar cm = ed.controlManager, um = ed.undoManager;\r\n\r\n\t\t\tcm.setDisabled('undo', !um.hasUndo() && !um.typing);\r\n\t\t\tcm.setDisabled('redo', !um.hasRedo());\r\n\t\t},\r\n\r\n\t\t_nodeChanged : function(ed, cm, n, co, ob) {\r\n\t\t\tvar t = this, p, de = 0, v, c, s = t.settings, cl, fz, fn, fc, bc, formatNames, matches;\r\n\r\n\t\t\ttinymce.each(t.stateControls, function(c) {\r\n\t\t\t\tcm.setActive(c, ed.queryCommandState(t.controls[c][1]));\r\n\t\t\t});\r\n\r\n\t\t\tfunction getParent(name) {\r\n\t\t\t\tvar i, parents = ob.parents, func = name;\r\n\r\n\t\t\t\tif (typeof(name) == 'string') {\r\n\t\t\t\t\tfunc = function(node) {\r\n\t\t\t\t\t\treturn node.nodeName == name;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (i = 0; i < parents.length; i++) {\r\n\t\t\t\t\tif (func(parents[i]))\r\n\t\t\t\t\t\treturn parents[i];\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tcm.setActive('visualaid', ed.hasVisual);\r\n\t\t\tt._updateUndoStatus(ed);\r\n\t\t\tcm.setDisabled('outdent', !ed.queryCommandState('Outdent'));\r\n\r\n\t\t\tp = getParent('A');\r\n\t\t\tif (c = cm.get('link')) {\r\n\t\t\t\tif (!p || !p.name) {\r\n\t\t\t\t\tc.setDisabled(!p && co);\r\n\t\t\t\t\tc.setActive(!!p);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (c = cm.get('unlink')) {\r\n\t\t\t\tc.setDisabled(!p && co);\r\n\t\t\t\tc.setActive(!!p && !p.name);\r\n\t\t\t}\r\n\r\n\t\t\tif (c = cm.get('anchor')) {\r\n\t\t\t\tc.setActive(!co && !!p && p.name);\r\n\t\t\t}\r\n\r\n\t\t\tp = getParent('IMG');\r\n\t\t\tif (c = cm.get('image'))\r\n\t\t\t\tc.setActive(!co && !!p && n.className.indexOf('mceItem') == -1);\r\n\r\n\t\t\tif (c = cm.get('styleselect')) {\r\n\t\t\t\tt._importClasses();\r\n\r\n\t\t\t\tformatNames = [];\r\n\t\t\t\teach(c.items, function(item) {\r\n\t\t\t\t\tformatNames.push(item.value);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tmatches = ed.formatter.matchAll(formatNames);\r\n\t\t\t\tc.select(matches[0]);\r\n\t\t\t}\r\n\r\n\t\t\tif (c = cm.get('formatselect')) {\r\n\t\t\t\tp = getParent(DOM.isBlock);\r\n\r\n\t\t\t\tif (p)\r\n\t\t\t\t\tc.select(p.nodeName.toLowerCase());\r\n\t\t\t}\r\n\r\n\t\t\t// Find out current fontSize, fontFamily and fontClass\r\n\t\t\tgetParent(function(n) {\r\n\t\t\t\tif (n.nodeName === 'SPAN') {\r\n\t\t\t\t\tif (!cl && n.className)\r\n\t\t\t\t\t\tcl = n.className;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (ed.dom.is(n, s.theme_advanced_font_selector)) {\r\n\t\t\t\t\tif (!fz && n.style.fontSize)\r\n\t\t\t\t\t\tfz = n.style.fontSize;\r\n\r\n\t\t\t\t\tif (!fn && n.style.fontFamily)\r\n\t\t\t\t\t\tfn = n.style.fontFamily.replace(/[\\\"\\']+/g, '').replace(/^([^,]+).*/, '$1').toLowerCase();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!fc && n.style.color)\r\n\t\t\t\t\t\tfc = n.style.color;\r\n\r\n\t\t\t\t\tif (!bc && n.style.backgroundColor)\r\n\t\t\t\t\t\tbc = n.style.backgroundColor;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\r\n\t\t\tif (c = cm.get('fontselect')) {\r\n\t\t\t\tc.select(function(v) {\r\n\t\t\t\t\treturn v.replace(/^([^,]+).*/, '$1').toLowerCase() == fn;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Select font size\r\n\t\t\tif (c = cm.get('fontsizeselect')) {\r\n\t\t\t\t// Use computed style\r\n\t\t\t\tif (s.theme_advanced_runtime_fontsize && !fz && !cl)\r\n\t\t\t\t\tfz = ed.dom.getStyle(n, 'fontSize', true);\r\n\r\n\t\t\t\tc.select(function(v) {\r\n\t\t\t\t\tif (v.fontSize && v.fontSize === fz)\r\n\t\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t\tif (v['class'] && v['class'] === cl)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (s.theme_advanced_show_current_color) {\r\n\t\t\t\tfunction updateColor(controlId, color) {\r\n\t\t\t\t\tif (c = cm.get(controlId)) {\r\n\t\t\t\t\t\tif (!color)\r\n\t\t\t\t\t\t\tcolor = c.settings.default_color;\r\n\t\t\t\t\t\tif (color !== c.value) {\r\n\t\t\t\t\t\t\tc.displayColor(color);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tupdateColor('forecolor', fc);\r\n\t\t\t\tupdateColor('backcolor', bc);\r\n\t\t\t}\r\n\r\n\t\t\tif (s.theme_advanced_show_current_color) {\r\n\t\t\t\tfunction updateColor(controlId, color) {\r\n\t\t\t\t\tif (c = cm.get(controlId)) {\r\n\t\t\t\t\t\tif (!color)\r\n\t\t\t\t\t\t\tcolor = c.settings.default_color;\r\n\t\t\t\t\t\tif (color !== c.value) {\r\n\t\t\t\t\t\t\tc.displayColor(color);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tupdateColor('forecolor', fc);\r\n\t\t\t\tupdateColor('backcolor', bc);\r\n\t\t\t}\r\n\r\n\t\t\tif (s.theme_advanced_path && s.theme_advanced_statusbar_location) {\r\n\t\t\t\tp = DOM.get(ed.id + '_path') || DOM.add(ed.id + '_path_row', 'span', {id : ed.id + '_path'});\r\n\r\n\t\t\t\tif (t.statusKeyboardNavigation) {\r\n\t\t\t\t\tt.statusKeyboardNavigation.destroy();\r\n\t\t\t\t\tt.statusKeyboardNavigation = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tDOM.setHTML(p, '');\r\n\r\n\t\t\t\tgetParent(function(n) {\r\n\t\t\t\t\tvar na = n.nodeName.toLowerCase(), u, pi, ti = '';\r\n\r\n\t\t\t\t\t// Ignore non element and bogus/hidden elements\r\n\t\t\t\t\tif (n.nodeType != 1 || na === 'br' || n.getAttribute('data-mce-bogus') || DOM.hasClass(n, 'mceItemHidden') || DOM.hasClass(n, 'mceItemRemoved'))\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t// Handle prefix\r\n\t\t\t\t\tif (tinymce.isIE && n.scopeName !== 'HTML')\r\n\t\t\t\t\t\tna = n.scopeName + ':' + na;\r\n\r\n\t\t\t\t\t// Remove internal prefix\r\n\t\t\t\t\tna = na.replace(/mce\\:/g, '');\r\n\r\n\t\t\t\t\t// Handle node name\r\n\t\t\t\t\tswitch (na) {\r\n\t\t\t\t\t\tcase 'b':\r\n\t\t\t\t\t\t\tna = 'strong';\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'i':\r\n\t\t\t\t\t\t\tna = 'em';\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'img':\r\n\t\t\t\t\t\t\tif (v = DOM.getAttrib(n, 'src'))\r\n\t\t\t\t\t\t\t\tti += 'src: ' + v + ' ';\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'a':\r\n\t\t\t\t\t\t\tif (v = DOM.getAttrib(n, 'name')) {\r\n\t\t\t\t\t\t\t\tti += 'name: ' + v + ' ';\r\n\t\t\t\t\t\t\t\tna += '#' + v;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (v = DOM.getAttrib(n, 'href'))\r\n\t\t\t\t\t\t\t\tti += 'href: ' + v + ' ';\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'font':\r\n\t\t\t\t\t\t\tif (v = DOM.getAttrib(n, 'face'))\r\n\t\t\t\t\t\t\t\tti += 'font: ' + v + ' ';\r\n\r\n\t\t\t\t\t\t\tif (v = DOM.getAttrib(n, 'size'))\r\n\t\t\t\t\t\t\t\tti += 'size: ' + v + ' ';\r\n\r\n\t\t\t\t\t\t\tif (v = DOM.getAttrib(n, 'color'))\r\n\t\t\t\t\t\t\t\tti += 'color: ' + v + ' ';\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 'span':\r\n\t\t\t\t\t\t\tif (v = DOM.getAttrib(n, 'style'))\r\n\t\t\t\t\t\t\t\tti += 'style: ' + v + ' ';\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (v = DOM.getAttrib(n, 'id'))\r\n\t\t\t\t\t\tti += 'id: ' + v + ' ';\r\n\r\n\t\t\t\t\tif (v = n.className) {\r\n\t\t\t\t\t\tv = v.replace(/\\b\\s*(webkit|mce|Apple-)\\w+\\s*\\b/g, '')\r\n\r\n\t\t\t\t\t\tif (v) {\r\n\t\t\t\t\t\t\tti += 'class: ' + v + ' ';\r\n\r\n\t\t\t\t\t\t\tif (DOM.isBlock(n) || na == 'img' || na == 'span')\r\n\t\t\t\t\t\t\t\tna += '.' + v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tna = na.replace(/(html:)/g, '');\r\n\t\t\t\t\tna = {name : na, node : n, title : ti};\r\n\t\t\t\t\tt.onResolveName.dispatch(t, na);\r\n\t\t\t\t\tti = na.title;\r\n\t\t\t\t\tna = na.name;\r\n\r\n\t\t\t\t\t//u = \"javascript:tinymce.EditorManager.get('\" + ed.id + \"').theme._sel('\" + (de++) + \"');\";\r\n\t\t\t\t\tpi = DOM.create('a', {'href' : \"javascript:;\", role: 'button', onmousedown : \"return false;\", title : ti, 'class' : 'mcePath_' + (de++)}, na);\r\n\r\n\t\t\t\t\tif (p.hasChildNodes()) {\r\n\t\t\t\t\t\tp.insertBefore(DOM.create('span', {'aria-hidden': 'true'}, '\\u00a0\\u00bb '), p.firstChild);\r\n\t\t\t\t\t\tp.insertBefore(pi, p.firstChild);\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tp.appendChild(pi);\r\n\t\t\t\t}, ed.getBody());\r\n\r\n\t\t\t\tif (DOM.select('a', p).length > 0) {\r\n\t\t\t\t\tt.statusKeyboardNavigation = new tinymce.ui.KeyboardNavigation({\r\n\t\t\t\t\t\troot: ed.id + \"_path_row\",\r\n\t\t\t\t\t\titems: DOM.select('a', p),\r\n\t\t\t\t\t\texcludeFromTabOrder: true,\r\n\t\t\t\t\t\tonCancel: function() {\r\n\t\t\t\t\t\t\ted.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, DOM);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Commands gets called by execCommand\r\n\r\n\t\t_sel : function(v) {\r\n\t\t\tthis.editor.execCommand('mceSelectNodeDepth', false, v);\r\n\t\t},\r\n\r\n\t\t_mceInsertAnchor : function(ui, v) {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl : this.url + '/anchor.htm',\r\n\t\t\t\twidth : 320 + parseInt(ed.getLang('advanced.anchor_delta_width', 0)),\r\n\t\t\t\theight : 90 + parseInt(ed.getLang('advanced.anchor_delta_height', 0)),\r\n\t\t\t\tinline : true\r\n\t\t\t}, {\r\n\t\t\t\ttheme_url : this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceCharMap : function() {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl : this.url + '/charmap.htm',\r\n\t\t\t\twidth : 550 + parseInt(ed.getLang('advanced.charmap_delta_width', 0)),\r\n\t\t\t\theight : 260 + parseInt(ed.getLang('advanced.charmap_delta_height', 0)),\r\n\t\t\t\tinline : true\r\n\t\t\t}, {\r\n\t\t\t\ttheme_url : this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceHelp : function() {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl : this.url + '/about.htm',\r\n\t\t\t\twidth : 480,\r\n\t\t\t\theight : 380,\r\n\t\t\t\tinline : true\r\n\t\t\t}, {\r\n\t\t\t\ttheme_url : this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceShortcuts : function() {\r\n\t\t\tvar ed = this.editor;\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl: this.url + '/shortcuts.htm',\r\n\t\t\t\twidth: 480,\r\n\t\t\t\theight: 380,\r\n\t\t\t\tinline: true\r\n\t\t\t}, {\r\n\t\t\t\ttheme_url: this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceColorPicker : function(u, v) {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\tv = v || {};\r\n\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl : this.url + '/color_picker.htm',\r\n\t\t\t\twidth : 375 + parseInt(ed.getLang('advanced.colorpicker_delta_width', 0)),\r\n\t\t\t\theight : 250 + parseInt(ed.getLang('advanced.colorpicker_delta_height', 0)),\r\n\t\t\t\tclose_previous : false,\r\n\t\t\t\tinline : true\r\n\t\t\t}, {\r\n\t\t\t\tinput_color : v.color,\r\n\t\t\t\tfunc : v.func,\r\n\t\t\t\ttheme_url : this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceCodeEditor : function(ui, val) {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl : this.url + '/source_editor.htm',\r\n\t\t\t\twidth : parseInt(ed.getParam(\"theme_advanced_source_editor_width\", 720)),\r\n\t\t\t\theight : parseInt(ed.getParam(\"theme_advanced_source_editor_height\", 580)),\r\n\t\t\t\tinline : true,\r\n\t\t\t\tresizable : true,\r\n\t\t\t\tmaximizable : true\r\n\t\t\t}, {\r\n\t\t\t\ttheme_url : this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceImage : function(ui, val) {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\t// Internal image object like a flash placeholder\r\n\t\t\tif (ed.dom.getAttrib(ed.selection.getNode(), 'class').indexOf('mceItem') != -1)\r\n\t\t\t\treturn;\r\n\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl : this.url + '/image.htm',\r\n\t\t\t\twidth : 355 + parseInt(ed.getLang('advanced.image_delta_width', 0)),\r\n\t\t\t\theight : 275 + parseInt(ed.getLang('advanced.image_delta_height', 0)),\r\n\t\t\t\tinline : true\r\n\t\t\t}, {\r\n\t\t\t\ttheme_url : this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceLink : function(ui, val) {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\ted.windowManager.open({\r\n\t\t\t\turl : this.url + '/link.htm',\r\n\t\t\t\twidth : 310 + parseInt(ed.getLang('advanced.link_delta_width', 0)),\r\n\t\t\t\theight : 200 + parseInt(ed.getLang('advanced.link_delta_height', 0)),\r\n\t\t\t\tinline : true\r\n\t\t\t}, {\r\n\t\t\t\ttheme_url : this.url\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceNewDocument : function() {\r\n\t\t\tvar ed = this.editor;\r\n\r\n\t\t\ted.windowManager.confirm('advanced.newdocument', function(s) {\r\n\t\t\t\tif (s)\r\n\t\t\t\t\ted.execCommand('mceSetContent', false, '');\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceForeColor : function() {\r\n\t\t\tvar t = this;\r\n\r\n\t\t\tthis._mceColorPicker(0, {\r\n\t\t\t\tcolor: t.fgColor,\r\n\t\t\t\tfunc : function(co) {\r\n\t\t\t\t\tt.fgColor = co;\r\n\t\t\t\t\tt.editor.execCommand('ForeColor', false, co);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_mceBackColor : function() {\r\n\t\t\tvar t = this;\r\n\r\n\t\t\tthis._mceColorPicker(0, {\r\n\t\t\t\tcolor: t.bgColor,\r\n\t\t\t\tfunc : function(co) {\r\n\t\t\t\t\tt.bgColor = co;\r\n\t\t\t\t\tt.editor.execCommand('HiliteColor', false, co);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_ufirst : function(s) {\r\n\t\t\treturn s.substring(0, 1).toUpperCase() + s.substring(1);\r\n\t\t}\r\n\t});\r\n\r\n\ttinymce.ThemeManager.add('advanced', tinymce.themes.AdvancedTheme);\r\n}(tinymce));\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/js/about.js":"tinyMCEPopup.requireLangPack();\r\n\r\nfunction init() {\r\n\tvar ed, tcont;\r\n\r\n\ttinyMCEPopup.resizeToInnerSize();\r\n\ted = tinyMCEPopup.editor;\r\n\r\n\t// Give FF some time\r\n\twindow.setTimeout(insertHelpIFrame, 10);\r\n\r\n\ttcont = document.getElementById('plugintablecontainer');\r\n\tdocument.getElementById('plugins_tab').style.display = 'none';\r\n\r\n\tvar html = \"\";\r\n\thtml += '<table id=\"plugintable\">';\r\n\thtml += '<thead>';\r\n\thtml += '<tr>';\r\n\thtml += '<td>' + ed.getLang('advanced_dlg.about_plugin') + '</td>';\r\n\thtml += '<td>' + ed.getLang('advanced_dlg.about_author') + '</td>';\r\n\thtml += '<td>' + ed.getLang('advanced_dlg.about_version') + '</td>';\r\n\thtml += '</tr>';\r\n\thtml += '</thead>';\r\n\thtml += '<tbody>';\r\n\r\n\ttinymce.each(ed.plugins, function(p, n) {\r\n\t\tvar info;\r\n\r\n\t\tif (!p.getInfo)\r\n\t\t\treturn;\r\n\r\n\t\thtml += '<tr>';\r\n\r\n\t\tinfo = p.getInfo();\r\n\r\n\t\tif (info.infourl != null && info.infourl != '')\r\n\t\t\thtml += '<td width=\"50%\" title=\"' + n + '\"><a href=\"' + info.infourl + '\" target=\"_blank\">' + info.longname + '</a></td>';\r\n\t\telse\r\n\t\t\thtml += '<td width=\"50%\" title=\"' + n + '\">' + info.longname + '</td>';\r\n\r\n\t\tif (info.authorurl != null && info.authorurl != '')\r\n\t\t\thtml += '<td width=\"35%\"><a href=\"' + info.authorurl + '\" target=\"_blank\">' + info.author + '</a></td>';\r\n\t\telse\r\n\t\t\thtml += '<td width=\"35%\">' + info.author + '</td>';\r\n\r\n\t\thtml += '<td width=\"15%\">' + info.version + '</td>';\r\n\t\thtml += '</tr>';\r\n\r\n\t\tdocument.getElementById('plugins_tab').style.display = '';\r\n\r\n\t});\r\n\r\n\thtml += '</tbody>';\r\n\thtml += '</table>';\r\n\r\n\ttcont.innerHTML = html;\r\n\r\n\ttinyMCEPopup.dom.get('version').innerHTML = tinymce.majorVersion + \".\" + tinymce.minorVersion;\r\n\ttinyMCEPopup.dom.get('date').innerHTML = tinymce.releaseDate;\r\n}\r\n\r\nfunction insertHelpIFrame() {\r\n\tvar html;\r\n\r\n\tif (tinyMCEPopup.getParam('docs_url')) {\r\n\t\thtml = '<iframe width=\"100%\" height=\"300\" src=\"' + tinyMCEPopup.editor.baseURI.toAbsolute(tinyMCEPopup.getParam('docs_url')) + '\"></iframe>';\r\n\t\tdocument.getElementById('iframecontainer').innerHTML = html;\r\n\t\tdocument.getElementById('help_tab').style.display = 'block';\r\n\t\tdocument.getElementById('help_tab').setAttribute(\"aria-hidden\", \"false\");\r\n\t}\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/js/anchor.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar AnchorDialog = {\r\n\tinit : function(ed) {\r\n\t\tvar action, elm, f = document.forms[0];\r\n\r\n\t\tthis.editor = ed;\r\n\t\telm = ed.dom.getParent(ed.selection.getNode(), 'A');\r\n\t\tv = ed.dom.getAttrib(elm, 'name');\r\n\r\n\t\tif (v) {\r\n\t\t\tthis.action = 'update';\r\n\t\t\tf.anchorName.value = v;\r\n\t\t}\r\n\r\n\t\tf.insert.value = ed.getLang(elm ? 'update' : 'insert');\r\n\t},\r\n\r\n\tupdate : function() {\r\n\t\tvar ed = this.editor, elm, name = document.forms[0].anchorName.value;\r\n\r\n\t\tif (!name || !/^[a-z][a-z0-9\\-\\_:\\.]*$/i.test(name)) {\r\n\t\t\ttinyMCEPopup.alert('advanced_dlg.anchor_invalid');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttinyMCEPopup.restoreSelection();\r\n\r\n\t\tif (this.action != 'update')\r\n\t\t\ted.selection.collapse(1);\r\n\r\n\t\telm = ed.dom.getParent(ed.selection.getNode(), 'A');\r\n\t\tif (elm) {\r\n\t\t\telm.setAttribute('name', name);\r\n\t\t\telm.name = name;\r\n\t\t} else\r\n\t\t\ted.execCommand('mceInsertContent', 0, ed.dom.createHTML('a', {name : name, 'class' : 'mceItemAnchor'}, ''));\r\n\r\n\t\ttinyMCEPopup.close();\r\n\t}\r\n};\r\n\r\ntinyMCEPopup.onInit.add(AnchorDialog.init, AnchorDialog);\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/js/charmap.js":"/**\r\n * charmap.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\ntinyMCEPopup.requireLangPack();\r\n\r\nvar charmap = [\r\n\t['&nbsp;',    '&#160;',  true, 'no-break space'],\r\n\t['&amp;',     '&#38;',   true, 'ampersand'],\r\n\t['&quot;',    '&#34;',   true, 'quotation mark'],\r\n// finance\r\n\t['&cent;',    '&#162;',  true, 'cent sign'],\r\n\t['&euro;',    '&#8364;', true, 'euro sign'],\r\n\t['&pound;',   '&#163;',  true, 'pound sign'],\r\n\t['&yen;',     '&#165;',  true, 'yen sign'],\r\n// signs\r\n\t['&copy;',    '&#169;',  true, 'copyright sign'],\r\n\t['&reg;',     '&#174;',  true, 'registered sign'],\r\n\t['&trade;',   '&#8482;', true, 'trade mark sign'],\r\n\t['&permil;',  '&#8240;', true, 'per mille sign'],\r\n\t['&micro;',   '&#181;',  true, 'micro sign'],\r\n\t['&middot;',  '&#183;',  true, 'middle dot'],\r\n\t['&bull;',    '&#8226;', true, 'bullet'],\r\n\t['&hellip;',  '&#8230;', true, 'three dot leader'],\r\n\t['&prime;',   '&#8242;', true, 'minutes / feet'],\r\n\t['&Prime;',   '&#8243;', true, 'seconds / inches'],\r\n\t['&sect;',    '&#167;',  true, 'section sign'],\r\n\t['&para;',    '&#182;',  true, 'paragraph sign'],\r\n\t['&szlig;',   '&#223;',  true, 'sharp s / ess-zed'],\r\n// quotations\r\n\t['&lsaquo;',  '&#8249;', true, 'single left-pointing angle quotation mark'],\r\n\t['&rsaquo;',  '&#8250;', true, 'single right-pointing angle quotation mark'],\r\n\t['&laquo;',   '&#171;',  true, 'left pointing guillemet'],\r\n\t['&raquo;',   '&#187;',  true, 'right pointing guillemet'],\r\n\t['&lsquo;',   '&#8216;', true, 'left single quotation mark'],\r\n\t['&rsquo;',   '&#8217;', true, 'right single quotation mark'],\r\n\t['&ldquo;',   '&#8220;', true, 'left double quotation mark'],\r\n\t['&rdquo;',   '&#8221;', true, 'right double quotation mark'],\r\n\t['&sbquo;',   '&#8218;', true, 'single low-9 quotation mark'],\r\n\t['&bdquo;',   '&#8222;', true, 'double low-9 quotation mark'],\r\n\t['&lt;',      '&#60;',   true, 'less-than sign'],\r\n\t['&gt;',      '&#62;',   true, 'greater-than sign'],\r\n\t['&le;',      '&#8804;', true, 'less-than or equal to'],\r\n\t['&ge;',      '&#8805;', true, 'greater-than or equal to'],\r\n\t['&ndash;',   '&#8211;', true, 'en dash'],\r\n\t['&mdash;',   '&#8212;', true, 'em dash'],\r\n\t['&macr;',    '&#175;',  true, 'macron'],\r\n\t['&oline;',   '&#8254;', true, 'overline'],\r\n\t['&curren;',  '&#164;',  true, 'currency sign'],\r\n\t['&brvbar;',  '&#166;',  true, 'broken bar'],\r\n\t['&uml;',     '&#168;',  true, 'diaeresis'],\r\n\t['&iexcl;',   '&#161;',  true, 'inverted exclamation mark'],\r\n\t['&iquest;',  '&#191;',  true, 'turned question mark'],\r\n\t['&circ;',    '&#710;',  true, 'circumflex accent'],\r\n\t['&tilde;',   '&#732;',  true, 'small tilde'],\r\n\t['&deg;',     '&#176;',  true, 'degree sign'],\r\n\t['&minus;',   '&#8722;', true, 'minus sign'],\r\n\t['&plusmn;',  '&#177;',  true, 'plus-minus sign'],\r\n\t['&divide;',  '&#247;',  true, 'division sign'],\r\n\t['&frasl;',   '&#8260;', true, 'fraction slash'],\r\n\t['&times;',   '&#215;',  true, 'multiplication sign'],\r\n\t['&sup1;',    '&#185;',  true, 'superscript one'],\r\n\t['&sup2;',    '&#178;',  true, 'superscript two'],\r\n\t['&sup3;',    '&#179;',  true, 'superscript three'],\r\n\t['&frac14;',  '&#188;',  true, 'fraction one quarter'],\r\n\t['&frac12;',  '&#189;',  true, 'fraction one half'],\r\n\t['&frac34;',  '&#190;',  true, 'fraction three quarters'],\r\n// math / logical\r\n\t['&fnof;',    '&#402;',  true, 'function / florin'],\r\n\t['&int;',     '&#8747;', true, 'integral'],\r\n\t['&sum;',     '&#8721;', true, 'n-ary sumation'],\r\n\t['&infin;',   '&#8734;', true, 'infinity'],\r\n\t['&radic;',   '&#8730;', true, 'square root'],\r\n\t['&sim;',     '&#8764;', false,'similar to'],\r\n\t['&cong;',    '&#8773;', false,'approximately equal to'],\r\n\t['&asymp;',   '&#8776;', true, 'almost equal to'],\r\n\t['&ne;',      '&#8800;', true, 'not equal to'],\r\n\t['&equiv;',   '&#8801;', true, 'identical to'],\r\n\t['&isin;',    '&#8712;', false,'element of'],\r\n\t['&notin;',   '&#8713;', false,'not an element of'],\r\n\t['&ni;',      '&#8715;', false,'contains as member'],\r\n\t['&prod;',    '&#8719;', true, 'n-ary product'],\r\n\t['&and;',     '&#8743;', false,'logical and'],\r\n\t['&or;',      '&#8744;', false,'logical or'],\r\n\t['&not;',     '&#172;',  true, 'not sign'],\r\n\t['&cap;',     '&#8745;', true, 'intersection'],\r\n\t['&cup;',     '&#8746;', false,'union'],\r\n\t['&part;',    '&#8706;', true, 'partial differential'],\r\n\t['&forall;',  '&#8704;', false,'for all'],\r\n\t['&exist;',   '&#8707;', false,'there exists'],\r\n\t['&empty;',   '&#8709;', false,'diameter'],\r\n\t['&nabla;',   '&#8711;', false,'backward difference'],\r\n\t['&lowast;',  '&#8727;', false,'asterisk operator'],\r\n\t['&prop;',    '&#8733;', false,'proportional to'],\r\n\t['&ang;',     '&#8736;', false,'angle'],\r\n// undefined\r\n\t['&acute;',   '&#180;',  true, 'acute accent'],\r\n\t['&cedil;',   '&#184;',  true, 'cedilla'],\r\n\t['&ordf;',    '&#170;',  true, 'feminine ordinal indicator'],\r\n\t['&ordm;',    '&#186;',  true, 'masculine ordinal indicator'],\r\n\t['&dagger;',  '&#8224;', true, 'dagger'],\r\n\t['&Dagger;',  '&#8225;', true, 'double dagger'],\r\n// alphabetical special chars\r\n\t['&Agrave;',  '&#192;',  true, 'A - grave'],\r\n\t['&Aacute;',  '&#193;',  true, 'A - acute'],\r\n\t['&Acirc;',   '&#194;',  true, 'A - circumflex'],\r\n\t['&Atilde;',  '&#195;',  true, 'A - tilde'],\r\n\t['&Auml;',    '&#196;',  true, 'A - diaeresis'],\r\n\t['&Aring;',   '&#197;',  true, 'A - ring above'],\r\n\t['&AElig;',   '&#198;',  true, 'ligature AE'],\r\n\t['&Ccedil;',  '&#199;',  true, 'C - cedilla'],\r\n\t['&Egrave;',  '&#200;',  true, 'E - grave'],\r\n\t['&Eacute;',  '&#201;',  true, 'E - acute'],\r\n\t['&Ecirc;',   '&#202;',  true, 'E - circumflex'],\r\n\t['&Euml;',    '&#203;',  true, 'E - diaeresis'],\r\n\t['&Igrave;',  '&#204;',  true, 'I - grave'],\r\n\t['&Iacute;',  '&#205;',  true, 'I - acute'],\r\n\t['&Icirc;',   '&#206;',  true, 'I - circumflex'],\r\n\t['&Iuml;',    '&#207;',  true, 'I - diaeresis'],\r\n\t['&ETH;',     '&#208;',  true, 'ETH'],\r\n\t['&Ntilde;',  '&#209;',  true, 'N - tilde'],\r\n\t['&Ograve;',  '&#210;',  true, 'O - grave'],\r\n\t['&Oacute;',  '&#211;',  true, 'O - acute'],\r\n\t['&Ocirc;',   '&#212;',  true, 'O - circumflex'],\r\n\t['&Otilde;',  '&#213;',  true, 'O - tilde'],\r\n\t['&Ouml;',    '&#214;',  true, 'O - diaeresis'],\r\n\t['&Oslash;',  '&#216;',  true, 'O - slash'],\r\n\t['&OElig;',   '&#338;',  true, 'ligature OE'],\r\n\t['&Scaron;',  '&#352;',  true, 'S - caron'],\r\n\t['&Ugrave;',  '&#217;',  true, 'U - grave'],\r\n\t['&Uacute;',  '&#218;',  true, 'U - acute'],\r\n\t['&Ucirc;',   '&#219;',  true, 'U - circumflex'],\r\n\t['&Uuml;',    '&#220;',  true, 'U - diaeresis'],\r\n\t['&Yacute;',  '&#221;',  true, 'Y - acute'],\r\n\t['&Yuml;',    '&#376;',  true, 'Y - diaeresis'],\r\n\t['&THORN;',   '&#222;',  true, 'THORN'],\r\n\t['&agrave;',  '&#224;',  true, 'a - grave'],\r\n\t['&aacute;',  '&#225;',  true, 'a - acute'],\r\n\t['&acirc;',   '&#226;',  true, 'a - circumflex'],\r\n\t['&atilde;',  '&#227;',  true, 'a - tilde'],\r\n\t['&auml;',    '&#228;',  true, 'a - diaeresis'],\r\n\t['&aring;',   '&#229;',  true, 'a - ring above'],\r\n\t['&aelig;',   '&#230;',  true, 'ligature ae'],\r\n\t['&ccedil;',  '&#231;',  true, 'c - cedilla'],\r\n\t['&egrave;',  '&#232;',  true, 'e - grave'],\r\n\t['&eacute;',  '&#233;',  true, 'e - acute'],\r\n\t['&ecirc;',   '&#234;',  true, 'e - circumflex'],\r\n\t['&euml;',    '&#235;',  true, 'e - diaeresis'],\r\n\t['&igrave;',  '&#236;',  true, 'i - grave'],\r\n\t['&iacute;',  '&#237;',  true, 'i - acute'],\r\n\t['&icirc;',   '&#238;',  true, 'i - circumflex'],\r\n\t['&iuml;',    '&#239;',  true, 'i - diaeresis'],\r\n\t['&eth;',     '&#240;',  true, 'eth'],\r\n\t['&ntilde;',  '&#241;',  true, 'n - tilde'],\r\n\t['&ograve;',  '&#242;',  true, 'o - grave'],\r\n\t['&oacute;',  '&#243;',  true, 'o - acute'],\r\n\t['&ocirc;',   '&#244;',  true, 'o - circumflex'],\r\n\t['&otilde;',  '&#245;',  true, 'o - tilde'],\r\n\t['&ouml;',    '&#246;',  true, 'o - diaeresis'],\r\n\t['&oslash;',  '&#248;',  true, 'o slash'],\r\n\t['&oelig;',   '&#339;',  true, 'ligature oe'],\r\n\t['&scaron;',  '&#353;',  true, 's - caron'],\r\n\t['&ugrave;',  '&#249;',  true, 'u - grave'],\r\n\t['&uacute;',  '&#250;',  true, 'u - acute'],\r\n\t['&ucirc;',   '&#251;',  true, 'u - circumflex'],\r\n\t['&uuml;',    '&#252;',  true, 'u - diaeresis'],\r\n\t['&yacute;',  '&#253;',  true, 'y - acute'],\r\n\t['&thorn;',   '&#254;',  true, 'thorn'],\r\n\t['&yuml;',    '&#255;',  true, 'y - diaeresis'],\r\n\t['&Alpha;',   '&#913;',  true, 'Alpha'],\r\n\t['&Beta;',    '&#914;',  true, 'Beta'],\r\n\t['&Gamma;',   '&#915;',  true, 'Gamma'],\r\n\t['&Delta;',   '&#916;',  true, 'Delta'],\r\n\t['&Epsilon;', '&#917;',  true, 'Epsilon'],\r\n\t['&Zeta;',    '&#918;',  true, 'Zeta'],\r\n\t['&Eta;',     '&#919;',  true, 'Eta'],\r\n\t['&Theta;',   '&#920;',  true, 'Theta'],\r\n\t['&Iota;',    '&#921;',  true, 'Iota'],\r\n\t['&Kappa;',   '&#922;',  true, 'Kappa'],\r\n\t['&Lambda;',  '&#923;',  true, 'Lambda'],\r\n\t['&Mu;',      '&#924;',  true, 'Mu'],\r\n\t['&Nu;',      '&#925;',  true, 'Nu'],\r\n\t['&Xi;',      '&#926;',  true, 'Xi'],\r\n\t['&Omicron;', '&#927;',  true, 'Omicron'],\r\n\t['&Pi;',      '&#928;',  true, 'Pi'],\r\n\t['&Rho;',     '&#929;',  true, 'Rho'],\r\n\t['&Sigma;',   '&#931;',  true, 'Sigma'],\r\n\t['&Tau;',     '&#932;',  true, 'Tau'],\r\n\t['&Upsilon;', '&#933;',  true, 'Upsilon'],\r\n\t['&Phi;',     '&#934;',  true, 'Phi'],\r\n\t['&Chi;',     '&#935;',  true, 'Chi'],\r\n\t['&Psi;',     '&#936;',  true, 'Psi'],\r\n\t['&Omega;',   '&#937;',  true, 'Omega'],\r\n\t['&alpha;',   '&#945;',  true, 'alpha'],\r\n\t['&beta;',    '&#946;',  true, 'beta'],\r\n\t['&gamma;',   '&#947;',  true, 'gamma'],\r\n\t['&delta;',   '&#948;',  true, 'delta'],\r\n\t['&epsilon;', '&#949;',  true, 'epsilon'],\r\n\t['&zeta;',    '&#950;',  true, 'zeta'],\r\n\t['&eta;',     '&#951;',  true, 'eta'],\r\n\t['&theta;',   '&#952;',  true, 'theta'],\r\n\t['&iota;',    '&#953;',  true, 'iota'],\r\n\t['&kappa;',   '&#954;',  true, 'kappa'],\r\n\t['&lambda;',  '&#955;',  true, 'lambda'],\r\n\t['&mu;',      '&#956;',  true, 'mu'],\r\n\t['&nu;',      '&#957;',  true, 'nu'],\r\n\t['&xi;',      '&#958;',  true, 'xi'],\r\n\t['&omicron;', '&#959;',  true, 'omicron'],\r\n\t['&pi;',      '&#960;',  true, 'pi'],\r\n\t['&rho;',     '&#961;',  true, 'rho'],\r\n\t['&sigmaf;',  '&#962;',  true, 'final sigma'],\r\n\t['&sigma;',   '&#963;',  true, 'sigma'],\r\n\t['&tau;',     '&#964;',  true, 'tau'],\r\n\t['&upsilon;', '&#965;',  true, 'upsilon'],\r\n\t['&phi;',     '&#966;',  true, 'phi'],\r\n\t['&chi;',     '&#967;',  true, 'chi'],\r\n\t['&psi;',     '&#968;',  true, 'psi'],\r\n\t['&omega;',   '&#969;',  true, 'omega'],\r\n// symbols\r\n\t['&alefsym;', '&#8501;', false,'alef symbol'],\r\n\t['&piv;',     '&#982;',  false,'pi symbol'],\r\n\t['&real;',    '&#8476;', false,'real part symbol'],\r\n\t['&thetasym;','&#977;',  false,'theta symbol'],\r\n\t['&upsih;',   '&#978;',  false,'upsilon - hook symbol'],\r\n\t['&weierp;',  '&#8472;', false,'Weierstrass p'],\r\n\t['&image;',   '&#8465;', false,'imaginary part'],\r\n// arrows\r\n\t['&larr;',    '&#8592;', true, 'leftwards arrow'],\r\n\t['&uarr;',    '&#8593;', true, 'upwards arrow'],\r\n\t['&rarr;',    '&#8594;', true, 'rightwards arrow'],\r\n\t['&darr;',    '&#8595;', true, 'downwards arrow'],\r\n\t['&harr;',    '&#8596;', true, 'left right arrow'],\r\n\t['&crarr;',   '&#8629;', false,'carriage return'],\r\n\t['&lArr;',    '&#8656;', false,'leftwards double arrow'],\r\n\t['&uArr;',    '&#8657;', false,'upwards double arrow'],\r\n\t['&rArr;',    '&#8658;', false,'rightwards double arrow'],\r\n\t['&dArr;',    '&#8659;', false,'downwards double arrow'],\r\n\t['&hArr;',    '&#8660;', false,'left right double arrow'],\r\n\t['&there4;',  '&#8756;', false,'therefore'],\r\n\t['&sub;',     '&#8834;', false,'subset of'],\r\n\t['&sup;',     '&#8835;', false,'superset of'],\r\n\t['&nsub;',    '&#8836;', false,'not a subset of'],\r\n\t['&sube;',    '&#8838;', false,'subset of or equal to'],\r\n\t['&supe;',    '&#8839;', false,'superset of or equal to'],\r\n\t['&oplus;',   '&#8853;', false,'circled plus'],\r\n\t['&otimes;',  '&#8855;', false,'circled times'],\r\n\t['&perp;',    '&#8869;', false,'perpendicular'],\r\n\t['&sdot;',    '&#8901;', false,'dot operator'],\r\n\t['&lceil;',   '&#8968;', false,'left ceiling'],\r\n\t['&rceil;',   '&#8969;', false,'right ceiling'],\r\n\t['&lfloor;',  '&#8970;', false,'left floor'],\r\n\t['&rfloor;',  '&#8971;', false,'right floor'],\r\n\t['&lang;',    '&#9001;', false,'left-pointing angle bracket'],\r\n\t['&rang;',    '&#9002;', false,'right-pointing angle bracket'],\r\n\t['&loz;',     '&#9674;', true, 'lozenge'],\r\n\t['&spades;',  '&#9824;', true, 'black spade suit'],\r\n\t['&clubs;',   '&#9827;', true, 'black club suit'],\r\n\t['&hearts;',  '&#9829;', true, 'black heart suit'],\r\n\t['&diams;',   '&#9830;', true, 'black diamond suit'],\r\n\t['&ensp;',    '&#8194;', false,'en space'],\r\n\t['&emsp;',    '&#8195;', false,'em space'],\r\n\t['&thinsp;',  '&#8201;', false,'thin space'],\r\n\t['&zwnj;',    '&#8204;', false,'zero width non-joiner'],\r\n\t['&zwj;',     '&#8205;', false,'zero width joiner'],\r\n\t['&lrm;',     '&#8206;', false,'left-to-right mark'],\r\n\t['&rlm;',     '&#8207;', false,'right-to-left mark'],\r\n\t['&shy;',     '&#173;',  false,'soft hyphen']\r\n];\r\n\r\ntinyMCEPopup.onInit.add(function() {\r\n\ttinyMCEPopup.dom.setHTML('charmapView', renderCharMapHTML());\r\n\taddKeyboardNavigation();\r\n});\r\n\r\nfunction addKeyboardNavigation(){\r\n\tvar tableElm, cells, settings;\r\n\r\n\tcells = tinyMCEPopup.dom.select(\"a.charmaplink\", \"charmapgroup\");\r\n\r\n\tsettings ={\r\n\t\troot: \"charmapgroup\",\r\n\t\titems: cells\r\n\t};\r\n\tcells[0].tabindex=0;\r\n\ttinyMCEPopup.dom.addClass(cells[0], \"mceFocus\");\r\n\tif (tinymce.isGecko) {\r\n\t\tcells[0].focus();\t\t\r\n\t} else {\r\n\t\tsetTimeout(function(){\r\n\t\t\tcells[0].focus();\r\n\t\t}, 100);\r\n\t}\r\n\ttinyMCEPopup.editor.windowManager.createInstance('tinymce.ui.KeyboardNavigation', settings, tinyMCEPopup.dom);\r\n}\r\n\r\nfunction renderCharMapHTML() {\r\n\tvar charsPerRow = 20, tdWidth=20, tdHeight=20, i;\r\n\tvar html = '<div id=\"charmapgroup\" aria-labelledby=\"charmap_label\" tabindex=\"0\" role=\"listbox\">'+\r\n\t'<table role=\"presentation\" border=\"0\" cellspacing=\"1\" cellpadding=\"0\" width=\"' + (tdWidth*charsPerRow) + \r\n\t'\"><tr height=\"' + tdHeight + '\">';\r\n\tvar cols=-1;\r\n\r\n\tfor (i=0; i<charmap.length; i++) {\r\n\t\tvar previewCharFn;\r\n\r\n\t\tif (charmap[i][2]==true) {\r\n\t\t\tcols++;\r\n\t\t\tpreviewCharFn = 'previewChar(\\'' + charmap[i][1].substring(1,charmap[i][1].length) + '\\',\\'' + charmap[i][0].substring(1,charmap[i][0].length) + '\\',\\'' + charmap[i][3] + '\\');';\r\n\t\t\thtml += ''\r\n\t\t\t\t+ '<td class=\"charmap\">'\r\n\t\t\t\t+ '<a class=\"charmaplink\" role=\"button\" onmouseover=\"'+previewCharFn+'\" onfocus=\"'+previewCharFn+'\" href=\"javascript:void(0)\" onclick=\"insertChar(\\'' + charmap[i][1].substring(2,charmap[i][1].length-1) + '\\');\" onclick=\"return false;\" onmousedown=\"return false;\" title=\"' + charmap[i][3] + ' '+ tinyMCEPopup.editor.translate(\"advanced_dlg.charmap_usage\")+'\">'\r\n\t\t\t\t+ charmap[i][1]\r\n\t\t\t\t+ '</a></td>';\r\n\t\t\tif ((cols+1) % charsPerRow == 0)\r\n\t\t\t\thtml += '</tr><tr height=\"' + tdHeight + '\">';\r\n\t\t}\r\n\t }\r\n\r\n\tif (cols % charsPerRow > 0) {\r\n\t\tvar padd = charsPerRow - (cols % charsPerRow);\r\n\t\tfor (var i=0; i<padd-1; i++)\r\n\t\t\thtml += '<td width=\"' + tdWidth + '\" height=\"' + tdHeight + '\" class=\"charmap\">&nbsp;</td>';\r\n\t}\r\n\r\n\thtml += '</tr></table></div>';\r\n\thtml = html.replace(/<tr height=\"20\"><\\/tr>/g, '');\r\n\r\n\treturn html;\r\n}\r\n\r\nfunction insertChar(chr) {\r\n\ttinyMCEPopup.execCommand('mceInsertContent', false, '&#' + chr + ';');\r\n\r\n\t// Refocus in window\r\n\tif (tinyMCEPopup.isWindow)\r\n\t\twindow.focus();\r\n\r\n\ttinyMCEPopup.editor.focus();\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction previewChar(codeA, codeB, codeN) {\r\n\tvar elmA = document.getElementById('codeA');\r\n\tvar elmB = document.getElementById('codeB');\r\n\tvar elmV = document.getElementById('codeV');\r\n\tvar elmN = document.getElementById('codeN');\r\n\r\n\tif (codeA=='#160;') {\r\n\t\telmV.innerHTML = '__';\r\n\t} else {\r\n\t\telmV.innerHTML = '&' + codeA;\r\n\t}\r\n\r\n\telmB.innerHTML = '&amp;' + codeA;\r\n\telmA.innerHTML = '&amp;' + codeB;\r\n\telmN.innerHTML = codeN;\r\n}\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/js/color_picker.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar detail = 50, strhex = \"0123456789abcdef\", i, isMouseDown = false, isMouseOver = false;\r\n\r\nvar colors = [\r\n\t\"#000000\",\"#000033\",\"#000066\",\"#000099\",\"#0000cc\",\"#0000ff\",\"#330000\",\"#330033\",\r\n\t\"#330066\",\"#330099\",\"#3300cc\",\"#3300ff\",\"#660000\",\"#660033\",\"#660066\",\"#660099\",\r\n\t\"#6600cc\",\"#6600ff\",\"#990000\",\"#990033\",\"#990066\",\"#990099\",\"#9900cc\",\"#9900ff\",\r\n\t\"#cc0000\",\"#cc0033\",\"#cc0066\",\"#cc0099\",\"#cc00cc\",\"#cc00ff\",\"#ff0000\",\"#ff0033\",\r\n\t\"#ff0066\",\"#ff0099\",\"#ff00cc\",\"#ff00ff\",\"#003300\",\"#003333\",\"#003366\",\"#003399\",\r\n\t\"#0033cc\",\"#0033ff\",\"#333300\",\"#333333\",\"#333366\",\"#333399\",\"#3333cc\",\"#3333ff\",\r\n\t\"#663300\",\"#663333\",\"#663366\",\"#663399\",\"#6633cc\",\"#6633ff\",\"#993300\",\"#993333\",\r\n\t\"#993366\",\"#993399\",\"#9933cc\",\"#9933ff\",\"#cc3300\",\"#cc3333\",\"#cc3366\",\"#cc3399\",\r\n\t\"#cc33cc\",\"#cc33ff\",\"#ff3300\",\"#ff3333\",\"#ff3366\",\"#ff3399\",\"#ff33cc\",\"#ff33ff\",\r\n\t\"#006600\",\"#006633\",\"#006666\",\"#006699\",\"#0066cc\",\"#0066ff\",\"#336600\",\"#336633\",\r\n\t\"#336666\",\"#336699\",\"#3366cc\",\"#3366ff\",\"#666600\",\"#666633\",\"#666666\",\"#666699\",\r\n\t\"#6666cc\",\"#6666ff\",\"#996600\",\"#996633\",\"#996666\",\"#996699\",\"#9966cc\",\"#9966ff\",\r\n\t\"#cc6600\",\"#cc6633\",\"#cc6666\",\"#cc6699\",\"#cc66cc\",\"#cc66ff\",\"#ff6600\",\"#ff6633\",\r\n\t\"#ff6666\",\"#ff6699\",\"#ff66cc\",\"#ff66ff\",\"#009900\",\"#009933\",\"#009966\",\"#009999\",\r\n\t\"#0099cc\",\"#0099ff\",\"#339900\",\"#339933\",\"#339966\",\"#339999\",\"#3399cc\",\"#3399ff\",\r\n\t\"#669900\",\"#669933\",\"#669966\",\"#669999\",\"#6699cc\",\"#6699ff\",\"#999900\",\"#999933\",\r\n\t\"#999966\",\"#999999\",\"#9999cc\",\"#9999ff\",\"#cc9900\",\"#cc9933\",\"#cc9966\",\"#cc9999\",\r\n\t\"#cc99cc\",\"#cc99ff\",\"#ff9900\",\"#ff9933\",\"#ff9966\",\"#ff9999\",\"#ff99cc\",\"#ff99ff\",\r\n\t\"#00cc00\",\"#00cc33\",\"#00cc66\",\"#00cc99\",\"#00cccc\",\"#00ccff\",\"#33cc00\",\"#33cc33\",\r\n\t\"#33cc66\",\"#33cc99\",\"#33cccc\",\"#33ccff\",\"#66cc00\",\"#66cc33\",\"#66cc66\",\"#66cc99\",\r\n\t\"#66cccc\",\"#66ccff\",\"#99cc00\",\"#99cc33\",\"#99cc66\",\"#99cc99\",\"#99cccc\",\"#99ccff\",\r\n\t\"#cccc00\",\"#cccc33\",\"#cccc66\",\"#cccc99\",\"#cccccc\",\"#ccccff\",\"#ffcc00\",\"#ffcc33\",\r\n\t\"#ffcc66\",\"#ffcc99\",\"#ffcccc\",\"#ffccff\",\"#00ff00\",\"#00ff33\",\"#00ff66\",\"#00ff99\",\r\n\t\"#00ffcc\",\"#00ffff\",\"#33ff00\",\"#33ff33\",\"#33ff66\",\"#33ff99\",\"#33ffcc\",\"#33ffff\",\r\n\t\"#66ff00\",\"#66ff33\",\"#66ff66\",\"#66ff99\",\"#66ffcc\",\"#66ffff\",\"#99ff00\",\"#99ff33\",\r\n\t\"#99ff66\",\"#99ff99\",\"#99ffcc\",\"#99ffff\",\"#ccff00\",\"#ccff33\",\"#ccff66\",\"#ccff99\",\r\n\t\"#ccffcc\",\"#ccffff\",\"#ffff00\",\"#ffff33\",\"#ffff66\",\"#ffff99\",\"#ffffcc\",\"#ffffff\"\r\n];\r\n\r\nvar named = {\r\n\t'#F0F8FF':'Alice Blue','#FAEBD7':'Antique White','#00FFFF':'Aqua','#7FFFD4':'Aquamarine','#F0FFFF':'Azure','#F5F5DC':'Beige',\r\n\t'#FFE4C4':'Bisque','#000000':'Black','#FFEBCD':'Blanched Almond','#0000FF':'Blue','#8A2BE2':'Blue Violet','#A52A2A':'Brown',\r\n\t'#DEB887':'Burly Wood','#5F9EA0':'Cadet Blue','#7FFF00':'Chartreuse','#D2691E':'Chocolate','#FF7F50':'Coral','#6495ED':'Cornflower Blue',\r\n\t'#FFF8DC':'Cornsilk','#DC143C':'Crimson','#00FFFF':'Cyan','#00008B':'Dark Blue','#008B8B':'Dark Cyan','#B8860B':'Dark Golden Rod',\r\n\t'#A9A9A9':'Dark Gray','#A9A9A9':'Dark Grey','#006400':'Dark Green','#BDB76B':'Dark Khaki','#8B008B':'Dark Magenta','#556B2F':'Dark Olive Green',\r\n\t'#FF8C00':'Darkorange','#9932CC':'Dark Orchid','#8B0000':'Dark Red','#E9967A':'Dark Salmon','#8FBC8F':'Dark Sea Green','#483D8B':'Dark Slate Blue',\r\n\t'#2F4F4F':'Dark Slate Gray','#2F4F4F':'Dark Slate Grey','#00CED1':'Dark Turquoise','#9400D3':'Dark Violet','#FF1493':'Deep Pink','#00BFFF':'Deep Sky Blue',\r\n\t'#696969':'Dim Gray','#696969':'Dim Grey','#1E90FF':'Dodger Blue','#B22222':'Fire Brick','#FFFAF0':'Floral White','#228B22':'Forest Green',\r\n\t'#FF00FF':'Fuchsia','#DCDCDC':'Gainsboro','#F8F8FF':'Ghost White','#FFD700':'Gold','#DAA520':'Golden Rod','#808080':'Gray','#808080':'Grey',\r\n\t'#008000':'Green','#ADFF2F':'Green Yellow','#F0FFF0':'Honey Dew','#FF69B4':'Hot Pink','#CD5C5C':'Indian Red','#4B0082':'Indigo','#FFFFF0':'Ivory',\r\n\t'#F0E68C':'Khaki','#E6E6FA':'Lavender','#FFF0F5':'Lavender Blush','#7CFC00':'Lawn Green','#FFFACD':'Lemon Chiffon','#ADD8E6':'Light Blue',\r\n\t'#F08080':'Light Coral','#E0FFFF':'Light Cyan','#FAFAD2':'Light Golden Rod Yellow','#D3D3D3':'Light Gray','#D3D3D3':'Light Grey','#90EE90':'Light Green',\r\n\t'#FFB6C1':'Light Pink','#FFA07A':'Light Salmon','#20B2AA':'Light Sea Green','#87CEFA':'Light Sky Blue','#778899':'Light Slate Gray','#778899':'Light Slate Grey',\r\n\t'#B0C4DE':'Light Steel Blue','#FFFFE0':'Light Yellow','#00FF00':'Lime','#32CD32':'Lime Green','#FAF0E6':'Linen','#FF00FF':'Magenta','#800000':'Maroon',\r\n\t'#66CDAA':'Medium Aqua Marine','#0000CD':'Medium Blue','#BA55D3':'Medium Orchid','#9370D8':'Medium Purple','#3CB371':'Medium Sea Green','#7B68EE':'Medium Slate Blue',\r\n\t'#00FA9A':'Medium Spring Green','#48D1CC':'Medium Turquoise','#C71585':'Medium Violet Red','#191970':'Midnight Blue','#F5FFFA':'Mint Cream','#FFE4E1':'Misty Rose','#FFE4B5':'Moccasin',\r\n\t'#FFDEAD':'Navajo White','#000080':'Navy','#FDF5E6':'Old Lace','#808000':'Olive','#6B8E23':'Olive Drab','#FFA500':'Orange','#FF4500':'Orange Red','#DA70D6':'Orchid',\r\n\t'#EEE8AA':'Pale Golden Rod','#98FB98':'Pale Green','#AFEEEE':'Pale Turquoise','#D87093':'Pale Violet Red','#FFEFD5':'Papaya Whip','#FFDAB9':'Peach Puff',\r\n\t'#CD853F':'Peru','#FFC0CB':'Pink','#DDA0DD':'Plum','#B0E0E6':'Powder Blue','#800080':'Purple','#FF0000':'Red','#BC8F8F':'Rosy Brown','#4169E1':'Royal Blue',\r\n\t'#8B4513':'Saddle Brown','#FA8072':'Salmon','#F4A460':'Sandy Brown','#2E8B57':'Sea Green','#FFF5EE':'Sea Shell','#A0522D':'Sienna','#C0C0C0':'Silver',\r\n\t'#87CEEB':'Sky Blue','#6A5ACD':'Slate Blue','#708090':'Slate Gray','#708090':'Slate Grey','#FFFAFA':'Snow','#00FF7F':'Spring Green',\r\n\t'#4682B4':'Steel Blue','#D2B48C':'Tan','#008080':'Teal','#D8BFD8':'Thistle','#FF6347':'Tomato','#40E0D0':'Turquoise','#EE82EE':'Violet',\r\n\t'#F5DEB3':'Wheat','#FFFFFF':'White','#F5F5F5':'White Smoke','#FFFF00':'Yellow','#9ACD32':'Yellow Green'\r\n};\r\n\r\nvar namedLookup = {};\r\n\r\nfunction init() {\r\n\tvar inputColor = convertRGBToHex(tinyMCEPopup.getWindowArg('input_color')), key, value;\r\n\r\n\ttinyMCEPopup.resizeToInnerSize();\r\n\r\n\tgeneratePicker();\r\n\tgenerateWebColors();\r\n\tgenerateNamedColors();\r\n\r\n\tif (inputColor) {\r\n\t\tchangeFinalColor(inputColor);\r\n\r\n\t\tcol = convertHexToRGB(inputColor);\r\n\r\n\t\tif (col)\r\n\t\t\tupdateLight(col.r, col.g, col.b);\r\n\t}\r\n\t\r\n\tfor (key in named) {\r\n\t\tvalue = named[key];\r\n\t\tnamedLookup[value.replace(/\\s+/, '').toLowerCase()] = key.replace(/#/, '').toLowerCase();\r\n\t}\r\n}\r\n\r\nfunction toHexColor(color) {\r\n\tvar matches, red, green, blue, toInt = parseInt;\r\n\r\n\tfunction hex(value) {\r\n\t\tvalue = parseInt(value).toString(16);\r\n\r\n\t\treturn value.length > 1 ? value : '0' + value; // Padd with leading zero\r\n\t};\r\n\r\n\tcolor = color.replace(/[\\s#]+/g, '').toLowerCase();\r\n\tcolor = namedLookup[color] || color;\r\n\tmatches = /^rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)|([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})|([a-f0-9])([a-f0-9])([a-f0-9])$/.exec(color);\r\n\r\n\tif (matches) {\r\n\t\tif (matches[1]) {\r\n\t\t\tred = toInt(matches[1]);\r\n\t\t\tgreen = toInt(matches[2]);\r\n\t\t\tblue = toInt(matches[3]);\r\n\t\t} else if (matches[4]) {\r\n\t\t\tred = toInt(matches[4], 16);\r\n\t\t\tgreen = toInt(matches[5], 16);\r\n\t\t\tblue = toInt(matches[6], 16);\r\n\t\t} else if (matches[7]) {\r\n\t\t\tred = toInt(matches[7] + matches[7], 16);\r\n\t\t\tgreen = toInt(matches[8] + matches[8], 16);\r\n\t\t\tblue = toInt(matches[9] + matches[9], 16);\r\n\t\t}\r\n\r\n\t\treturn '#' + hex(red) + hex(green) + hex(blue);\r\n\t}\r\n\r\n\treturn '';\r\n}\r\n\r\nfunction insertAction() {\r\n\tvar color = document.getElementById(\"color\").value, f = tinyMCEPopup.getWindowArg('func');\r\n\r\n\ttinyMCEPopup.restoreSelection();\r\n\r\n\tif (f)\r\n\t\tf(toHexColor(color));\r\n\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction showColor(color, name) {\r\n\tif (name)\r\n\t\tdocument.getElementById(\"colorname\").innerHTML = name;\r\n\r\n\tdocument.getElementById(\"preview\").style.backgroundColor = color;\r\n\tdocument.getElementById(\"color\").value = color.toUpperCase();\r\n}\r\n\r\nfunction convertRGBToHex(col) {\r\n\tvar re = new RegExp(\"rgb\\\\s*\\\\(\\\\s*([0-9]+).*,\\\\s*([0-9]+).*,\\\\s*([0-9]+).*\\\\)\", \"gi\");\r\n\r\n\tif (!col)\r\n\t\treturn col;\r\n\r\n\tvar rgb = col.replace(re, \"$1,$2,$3\").split(',');\r\n\tif (rgb.length == 3) {\r\n\t\tr = parseInt(rgb[0]).toString(16);\r\n\t\tg = parseInt(rgb[1]).toString(16);\r\n\t\tb = parseInt(rgb[2]).toString(16);\r\n\r\n\t\tr = r.length == 1 ? '0' + r : r;\r\n\t\tg = g.length == 1 ? '0' + g : g;\r\n\t\tb = b.length == 1 ? '0' + b : b;\r\n\r\n\t\treturn \"#\" + r + g + b;\r\n\t}\r\n\r\n\treturn col;\r\n}\r\n\r\nfunction convertHexToRGB(col) {\r\n\tif (col.indexOf('#') != -1) {\r\n\t\tcol = col.replace(new RegExp('[^0-9A-F]', 'gi'), '');\r\n\r\n\t\tr = parseInt(col.substring(0, 2), 16);\r\n\t\tg = parseInt(col.substring(2, 4), 16);\r\n\t\tb = parseInt(col.substring(4, 6), 16);\r\n\r\n\t\treturn {r : r, g : g, b : b};\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction generatePicker() {\r\n\tvar el = document.getElementById('light'), h = '', i;\r\n\r\n\tfor (i = 0; i < detail; i++){\r\n\t\th += '<div id=\"gs'+i+'\" style=\"background-color:#000000; width:15px; height:3px; border-style:none; border-width:0px;\"'\r\n\t\t+ ' onclick=\"changeFinalColor(this.style.backgroundColor)\"'\r\n\t\t+ ' onmousedown=\"isMouseDown = true; return false;\"'\r\n\t\t+ ' onmouseup=\"isMouseDown = false;\"'\r\n\t\t+ ' onmousemove=\"if (isMouseDown && isMouseOver) changeFinalColor(this.style.backgroundColor); return false;\"'\r\n\t\t+ ' onmouseover=\"isMouseOver = true;\"'\r\n\t\t+ ' onmouseout=\"isMouseOver = false;\"'\r\n\t\t+ '></div>';\r\n\t}\r\n\r\n\tel.innerHTML = h;\r\n}\r\n\r\nfunction generateWebColors() {\r\n\tvar el = document.getElementById('webcolors'), h = '', i;\r\n\r\n\tif (el.className == 'generated')\r\n\t\treturn;\r\n\r\n\t// TODO: VoiceOver doesn't seem to support legend as a label referenced by labelledby.\r\n\th += '<div role=\"listbox\" aria-labelledby=\"webcolors_title\" tabindex=\"0\"><table role=\"presentation\" border=\"0\" cellspacing=\"1\" cellpadding=\"0\">'\r\n\t\t+ '<tr>';\r\n\r\n\tfor (i=0; i<colors.length; i++) {\r\n\t\th += '<td bgcolor=\"' + colors[i] + '\" width=\"10\" height=\"10\">'\r\n\t\t\t+ '<a href=\"javascript:insertAction();\" role=\"option\" tabindex=\"-1\" aria-labelledby=\"web_colors_' + i + '\" onfocus=\"showColor(\\'' + colors[i] + '\\');\" onmouseover=\"showColor(\\'' + colors[i] + '\\');\" style=\"display:block;width:10px;height:10px;overflow:hidden;\">';\r\n\t\tif (tinyMCEPopup.editor.forcedHighContrastMode) {\r\n\t\t\th += '<canvas class=\"mceColorSwatch\" height=\"10\" width=\"10\" data-color=\"' + colors[i] + '\"></canvas>';\r\n\t\t}\r\n\t\th += '<span class=\"mceVoiceLabel\" style=\"display:none;\" id=\"web_colors_' + i + '\">' + colors[i].toUpperCase() + '</span>';\r\n\t\th += '</a></td>';\r\n\t\tif ((i+1) % 18 == 0)\r\n\t\t\th += '</tr><tr>';\r\n\t}\r\n\r\n\th += '</table></div>';\r\n\r\n\tel.innerHTML = h;\r\n\tel.className = 'generated';\r\n\r\n\tpaintCanvas(el);\r\n\tenableKeyboardNavigation(el.firstChild);\r\n}\r\n\r\nfunction paintCanvas(el) {\r\n\ttinyMCEPopup.getWin().tinymce.each(tinyMCEPopup.dom.select('canvas.mceColorSwatch', el), function(canvas) {\r\n\t\tvar context;\r\n\t\tif (canvas.getContext && (context = canvas.getContext(\"2d\"))) {\r\n\t\t\tcontext.fillStyle = canvas.getAttribute('data-color');\r\n\t\t\tcontext.fillRect(0, 0, 10, 10);\r\n\t\t}\r\n\t});\r\n}\r\nfunction generateNamedColors() {\r\n\tvar el = document.getElementById('namedcolors'), h = '', n, v, i = 0;\r\n\r\n\tif (el.className == 'generated')\r\n\t\treturn;\r\n\r\n\tfor (n in named) {\r\n\t\tv = named[n];\r\n\t\th += '<a href=\"javascript:insertAction();\" role=\"option\" tabindex=\"-1\" aria-labelledby=\"named_colors_' + i + '\" onfocus=\"showColor(\\'' + n + '\\',\\'' + v + '\\');\" onmouseover=\"showColor(\\'' + n + '\\',\\'' + v + '\\');\" style=\"background-color: ' + n + '\">';\r\n\t\tif (tinyMCEPopup.editor.forcedHighContrastMode) {\r\n\t\t\th += '<canvas class=\"mceColorSwatch\" height=\"10\" width=\"10\" data-color=\"' + colors[i] + '\"></canvas>';\r\n\t\t}\r\n\t\th += '<span class=\"mceVoiceLabel\" style=\"display:none;\" id=\"named_colors_' + i + '\">' + v + '</span>';\r\n\t\th += '</a>';\r\n\t\ti++;\r\n\t}\r\n\r\n\tel.innerHTML = h;\r\n\tel.className = 'generated';\r\n\r\n\tpaintCanvas(el);\r\n\tenableKeyboardNavigation(el);\r\n}\r\n\r\nfunction enableKeyboardNavigation(el) {\r\n\ttinyMCEPopup.editor.windowManager.createInstance('tinymce.ui.KeyboardNavigation', {\r\n\t\troot: el,\r\n\t\titems: tinyMCEPopup.dom.select('a', el)\r\n\t}, tinyMCEPopup.dom);\r\n}\r\n\r\nfunction dechex(n) {\r\n\treturn strhex.charAt(Math.floor(n / 16)) + strhex.charAt(n % 16);\r\n}\r\n\r\nfunction computeColor(e) {\r\n\tvar x, y, partWidth, partDetail, imHeight, r, g, b, coef, i, finalCoef, finalR, finalG, finalB, pos = tinyMCEPopup.dom.getPos(e.target);\r\n\r\n\tx = e.offsetX ? e.offsetX : (e.target ? e.clientX - pos.x : 0);\r\n\ty = e.offsetY ? e.offsetY : (e.target ? e.clientY - pos.y : 0);\r\n\r\n\tpartWidth = document.getElementById('colors').width / 6;\r\n\tpartDetail = detail / 2;\r\n\timHeight = document.getElementById('colors').height;\r\n\r\n\tr = (x >= 0)*(x < partWidth)*255 + (x >= partWidth)*(x < 2*partWidth)*(2*255 - x * 255 / partWidth) + (x >= 4*partWidth)*(x < 5*partWidth)*(-4*255 + x * 255 / partWidth) + (x >= 5*partWidth)*(x < 6*partWidth)*255;\r\n\tg = (x >= 0)*(x < partWidth)*(x * 255 / partWidth) + (x >= partWidth)*(x < 3*partWidth)*255\t+ (x >= 3*partWidth)*(x < 4*partWidth)*(4*255 - x * 255 / partWidth);\r\n\tb = (x >= 2*partWidth)*(x < 3*partWidth)*(-2*255 + x * 255 / partWidth) + (x >= 3*partWidth)*(x < 5*partWidth)*255 + (x >= 5*partWidth)*(x < 6*partWidth)*(6*255 - x * 255 / partWidth);\r\n\r\n\tcoef = (imHeight - y) / imHeight;\r\n\tr = 128 + (r - 128) * coef;\r\n\tg = 128 + (g - 128) * coef;\r\n\tb = 128 + (b - 128) * coef;\r\n\r\n\tchangeFinalColor('#' + dechex(r) + dechex(g) + dechex(b));\r\n\tupdateLight(r, g, b);\r\n}\r\n\r\nfunction updateLight(r, g, b) {\r\n\tvar i, partDetail = detail / 2, finalCoef, finalR, finalG, finalB, color;\r\n\r\n\tfor (i=0; i<detail; i++) {\r\n\t\tif ((i>=0) && (i<partDetail)) {\r\n\t\t\tfinalCoef = i / partDetail;\r\n\t\t\tfinalR = dechex(255 - (255 - r) * finalCoef);\r\n\t\t\tfinalG = dechex(255 - (255 - g) * finalCoef);\r\n\t\t\tfinalB = dechex(255 - (255 - b) * finalCoef);\r\n\t\t} else {\r\n\t\t\tfinalCoef = 2 - i / partDetail;\r\n\t\t\tfinalR = dechex(r * finalCoef);\r\n\t\t\tfinalG = dechex(g * finalCoef);\r\n\t\t\tfinalB = dechex(b * finalCoef);\r\n\t\t}\r\n\r\n\t\tcolor = finalR + finalG + finalB;\r\n\r\n\t\tsetCol('gs' + i, '#'+color);\r\n\t}\r\n}\r\n\r\nfunction changeFinalColor(color) {\r\n\tif (color.indexOf('#') == -1)\r\n\t\tcolor = convertRGBToHex(color);\r\n\r\n\tsetCol('preview', color);\r\n\tdocument.getElementById('color').value = color;\r\n}\r\n\r\nfunction setCol(e, c) {\r\n\ttry {\r\n\t\tdocument.getElementById(e).style.backgroundColor = c;\r\n\t} catch (ex) {\r\n\t\t// Ignore IE warning\r\n\t}\r\n}\r\n\r\ntinyMCEPopup.onInit.add(init);\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/js/image.js":"var ImageDialog = {\r\n\tpreInit : function() {\r\n\t\tvar url;\r\n\r\n\t\ttinyMCEPopup.requireLangPack();\r\n\r\n\t\tif (url = tinyMCEPopup.getParam(\"external_image_list_url\"))\r\n\t\t\tdocument.write('<script language=\"javascript\" type=\"text/javascript\" src=\"' + tinyMCEPopup.editor.documentBaseURI.toAbsolute(url) + '\"></script>');\r\n\t},\r\n\r\n\tinit : function() {\r\n\t\tvar f = document.forms[0], ed = tinyMCEPopup.editor;\r\n\r\n\t\t// Setup browse button\r\n\t\tdocument.getElementById('srcbrowsercontainer').innerHTML = getBrowserHTML('srcbrowser','src','image','theme_advanced_image');\r\n\t\tif (isVisible('srcbrowser'))\r\n\t\t\tdocument.getElementById('src').style.width = '180px';\r\n\r\n\t\te = ed.selection.getNode();\r\n\r\n\t\tthis.fillFileList('image_list', tinyMCEPopup.getParam('external_image_list', 'tinyMCEImageList'));\r\n\r\n\t\tif (e.nodeName == 'IMG') {\r\n\t\t\tf.src.value = ed.dom.getAttrib(e, 'src');\r\n\t\t\tf.alt.value = ed.dom.getAttrib(e, 'alt');\r\n\t\t\tf.border.value = this.getAttrib(e, 'border');\r\n\t\t\tf.vspace.value = this.getAttrib(e, 'vspace');\r\n\t\t\tf.hspace.value = this.getAttrib(e, 'hspace');\r\n\t\t\tf.width.value = ed.dom.getAttrib(e, 'width');\r\n\t\t\tf.height.value = ed.dom.getAttrib(e, 'height');\r\n\t\t\tf.insert.value = ed.getLang('update');\r\n\t\t\tthis.styleVal = ed.dom.getAttrib(e, 'style');\r\n\t\t\tselectByValue(f, 'image_list', f.src.value);\r\n\t\t\tselectByValue(f, 'align', this.getAttrib(e, 'align'));\r\n\t\t\tthis.updateStyle();\r\n\t\t}\r\n\t},\r\n\r\n\tfillFileList : function(id, l) {\r\n\t\tvar dom = tinyMCEPopup.dom, lst = dom.get(id), v, cl;\r\n\r\n\t\tl = typeof(l) === 'function' ? l() : window[l];\r\n\r\n\t\tif (l && l.length > 0) {\r\n\t\t\tlst.options[lst.options.length] = new Option('', '');\r\n\r\n\t\t\ttinymce.each(l, function(o) {\r\n\t\t\t\tlst.options[lst.options.length] = new Option(o[0], o[1]);\r\n\t\t\t});\r\n\t\t} else\r\n\t\t\tdom.remove(dom.getParent(id, 'tr'));\r\n\t},\r\n\r\n\tupdate : function() {\r\n\t\tvar f = document.forms[0], nl = f.elements, ed = tinyMCEPopup.editor, args = {}, el;\r\n\r\n\t\ttinyMCEPopup.restoreSelection();\r\n\r\n\t\tif (f.src.value === '') {\r\n\t\t\tif (ed.selection.getNode().nodeName == 'IMG') {\r\n\t\t\t\ted.dom.remove(ed.selection.getNode());\r\n\t\t\t\ted.execCommand('mceRepaint');\r\n\t\t\t}\r\n\r\n\t\t\ttinyMCEPopup.close();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!ed.settings.inline_styles) {\r\n\t\t\targs = tinymce.extend(args, {\r\n\t\t\t\tvspace : nl.vspace.value,\r\n\t\t\t\thspace : nl.hspace.value,\r\n\t\t\t\tborder : nl.border.value,\r\n\t\t\t\talign : getSelectValue(f, 'align')\r\n\t\t\t});\r\n\t\t} else\r\n\t\t\targs.style = this.styleVal;\r\n\r\n\t\ttinymce.extend(args, {\r\n\t\t\tsrc : f.src.value.replace(/ /g, '%20'),\r\n\t\t\talt : f.alt.value,\r\n\t\t\twidth : f.width.value,\r\n\t\t\theight : f.height.value\r\n\t\t});\r\n\r\n\t\tel = ed.selection.getNode();\r\n\r\n\t\tif (el && el.nodeName == 'IMG') {\r\n\t\t\ted.dom.setAttribs(el, args);\r\n\t\t\ttinyMCEPopup.editor.execCommand('mceRepaint');\r\n\t\t\ttinyMCEPopup.editor.focus();\r\n\t\t} else {\r\n\t\t\ttinymce.each(args, function(value, name) {\r\n\t\t\t\tif (value === \"\") {\r\n\t\t\t\t\tdelete args[name];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\ted.execCommand('mceInsertContent', false, tinyMCEPopup.editor.dom.createHTML('img', args), {skip_undo : 1});\r\n\t\t\ted.undoManager.add();\r\n\t\t}\r\n\r\n\t\ttinyMCEPopup.close();\r\n\t},\r\n\r\n\tupdateStyle : function() {\r\n\t\tvar dom = tinyMCEPopup.dom, st, v, f = document.forms[0];\r\n\r\n\t\tif (tinyMCEPopup.editor.settings.inline_styles) {\r\n\t\t\tst = tinyMCEPopup.dom.parseStyle(this.styleVal);\r\n\r\n\t\t\t// Handle align\r\n\t\t\tv = getSelectValue(f, 'align');\r\n\t\t\tif (v) {\r\n\t\t\t\tif (v == 'left' || v == 'right') {\r\n\t\t\t\t\tst['float'] = v;\r\n\t\t\t\t\tdelete st['vertical-align'];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tst['vertical-align'] = v;\r\n\t\t\t\t\tdelete st['float'];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdelete st['float'];\r\n\t\t\t\tdelete st['vertical-align'];\r\n\t\t\t}\r\n\r\n\t\t\t// Handle border\r\n\t\t\tv = f.border.value;\r\n\t\t\tif (v || v == '0') {\r\n\t\t\t\tif (v == '0')\r\n\t\t\t\t\tst['border'] = '0';\r\n\t\t\t\telse\r\n\t\t\t\t\tst['border'] = v + 'px solid black';\r\n\t\t\t} else\r\n\t\t\t\tdelete st['border'];\r\n\r\n\t\t\t// Handle hspace\r\n\t\t\tv = f.hspace.value;\r\n\t\t\tif (v) {\r\n\t\t\t\tdelete st['margin'];\r\n\t\t\t\tst['margin-left'] = v + 'px';\r\n\t\t\t\tst['margin-right'] = v + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tdelete st['margin-left'];\r\n\t\t\t\tdelete st['margin-right'];\r\n\t\t\t}\r\n\r\n\t\t\t// Handle vspace\r\n\t\t\tv = f.vspace.value;\r\n\t\t\tif (v) {\r\n\t\t\t\tdelete st['margin'];\r\n\t\t\t\tst['margin-top'] = v + 'px';\r\n\t\t\t\tst['margin-bottom'] = v + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tdelete st['margin-top'];\r\n\t\t\t\tdelete st['margin-bottom'];\r\n\t\t\t}\r\n\r\n\t\t\t// Merge\r\n\t\t\tst = tinyMCEPopup.dom.parseStyle(dom.serializeStyle(st), 'img');\r\n\t\t\tthis.styleVal = dom.serializeStyle(st, 'img');\r\n\t\t}\r\n\t},\r\n\r\n\tgetAttrib : function(e, at) {\r\n\t\tvar ed = tinyMCEPopup.editor, dom = ed.dom, v, v2;\r\n\r\n\t\tif (ed.settings.inline_styles) {\r\n\t\t\tswitch (at) {\r\n\t\t\t\tcase 'align':\r\n\t\t\t\t\tif (v = dom.getStyle(e, 'float'))\r\n\t\t\t\t\t\treturn v;\r\n\r\n\t\t\t\t\tif (v = dom.getStyle(e, 'vertical-align'))\r\n\t\t\t\t\t\treturn v;\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'hspace':\r\n\t\t\t\t\tv = dom.getStyle(e, 'margin-left')\r\n\t\t\t\t\tv2 = dom.getStyle(e, 'margin-right');\r\n\t\t\t\t\tif (v && v == v2)\r\n\t\t\t\t\t\treturn parseInt(v.replace(/[^0-9]/g, ''));\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'vspace':\r\n\t\t\t\t\tv = dom.getStyle(e, 'margin-top')\r\n\t\t\t\t\tv2 = dom.getStyle(e, 'margin-bottom');\r\n\t\t\t\t\tif (v && v == v2)\r\n\t\t\t\t\t\treturn parseInt(v.replace(/[^0-9]/g, ''));\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'border':\r\n\t\t\t\t\tv = 0;\r\n\r\n\t\t\t\t\ttinymce.each(['top', 'right', 'bottom', 'left'], function(sv) {\r\n\t\t\t\t\t\tsv = dom.getStyle(e, 'border-' + sv + '-width');\r\n\r\n\t\t\t\t\t\t// False or not the same as prev\r\n\t\t\t\t\t\tif (!sv || (sv != v && v !== 0)) {\r\n\t\t\t\t\t\t\tv = 0;\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (sv)\r\n\t\t\t\t\t\t\tv = sv;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (v)\r\n\t\t\t\t\t\treturn parseInt(v.replace(/[^0-9]/g, ''));\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (v = dom.getAttrib(e, at))\r\n\t\t\treturn v;\r\n\r\n\t\treturn '';\r\n\t},\r\n\r\n\tresetImageData : function() {\r\n\t\tvar f = document.forms[0];\r\n\r\n\t\tf.width.value = f.height.value = \"\";\t\r\n\t},\r\n\r\n\tupdateImageData : function() {\r\n\t\tvar f = document.forms[0], t = ImageDialog;\r\n\r\n\t\tif (f.width.value == \"\")\r\n\t\t\tf.width.value = t.preloadImg.width;\r\n\r\n\t\tif (f.height.value == \"\")\r\n\t\t\tf.height.value = t.preloadImg.height;\r\n\t},\r\n\r\n\tgetImageData : function() {\r\n\t\tvar f = document.forms[0];\r\n\r\n\t\tthis.preloadImg = new Image();\r\n\t\tthis.preloadImg.onload = this.updateImageData;\r\n\t\tthis.preloadImg.onerror = this.resetImageData;\r\n\t\tthis.preloadImg.src = tinyMCEPopup.editor.documentBaseURI.toAbsolute(f.src.value);\r\n\t}\r\n};\r\n\r\nImageDialog.preInit();\r\ntinyMCEPopup.onInit.add(ImageDialog.init, ImageDialog);\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/js/link.js":"tinyMCEPopup.requireLangPack();\r\n\r\nvar LinkDialog = {\r\n\tpreInit : function() {\r\n\t\tvar url;\r\n\r\n\t\tif (url = tinyMCEPopup.getParam(\"external_link_list_url\"))\r\n\t\t\tdocument.write('<script language=\"javascript\" type=\"text/javascript\" src=\"' + tinyMCEPopup.editor.documentBaseURI.toAbsolute(url) + '\"></script>');\r\n\t},\r\n\r\n\tinit : function() {\r\n\t\tvar f = document.forms[0], ed = tinyMCEPopup.editor;\r\n\r\n\t\t// Setup browse button\r\n\t\tdocument.getElementById('hrefbrowsercontainer').innerHTML = getBrowserHTML('hrefbrowser', 'href', 'file', 'theme_advanced_link');\r\n\t\tif (isVisible('hrefbrowser'))\r\n\t\t\tdocument.getElementById('href').style.width = '180px';\r\n\r\n\t\tthis.fillClassList('class_list');\r\n\t\tthis.fillFileList('link_list', 'tinyMCELinkList');\r\n\t\tthis.fillTargetList('target_list');\r\n\r\n\t\tif (e = ed.dom.getParent(ed.selection.getNode(), 'A')) {\r\n\t\t\tf.href.value = ed.dom.getAttrib(e, 'href');\r\n\t\t\tf.linktitle.value = ed.dom.getAttrib(e, 'title');\r\n\t\t\tf.insert.value = ed.getLang('update');\r\n\t\t\tselectByValue(f, 'link_list', f.href.value);\r\n\t\t\tselectByValue(f, 'target_list', ed.dom.getAttrib(e, 'target'));\r\n\t\t\tselectByValue(f, 'class_list', ed.dom.getAttrib(e, 'class'));\r\n\t\t}\r\n\t},\r\n\r\n\tupdate : function() {\r\n\t\tvar f = document.forms[0], ed = tinyMCEPopup.editor, e, b, href = f.href.value.replace(/ /g, '%20');\r\n\r\n\t\ttinyMCEPopup.restoreSelection();\r\n\t\te = ed.dom.getParent(ed.selection.getNode(), 'A');\r\n\r\n\t\t// Remove element if there is no href\r\n\t\tif (!f.href.value) {\r\n\t\t\tif (e) {\r\n\t\t\t\tb = ed.selection.getBookmark();\r\n\t\t\t\ted.dom.remove(e, 1);\r\n\t\t\t\ted.selection.moveToBookmark(b);\r\n\t\t\t\ttinyMCEPopup.execCommand(\"mceEndUndoLevel\");\r\n\t\t\t\ttinyMCEPopup.close();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Create new anchor elements\r\n\t\tif (e == null) {\r\n\t\t\ted.getDoc().execCommand(\"unlink\", false, null);\r\n\t\t\ttinyMCEPopup.execCommand(\"mceInsertLink\", false, \"#mce_temp_url#\", {skip_undo : 1});\r\n\r\n\t\t\ttinymce.each(ed.dom.select(\"a\"), function(n) {\r\n\t\t\t\tif (ed.dom.getAttrib(n, 'href') == '#mce_temp_url#') {\r\n\t\t\t\t\te = n;\r\n\r\n\t\t\t\t\ted.dom.setAttribs(e, {\r\n\t\t\t\t\t\thref : href,\r\n\t\t\t\t\t\ttitle : f.linktitle.value,\r\n\t\t\t\t\t\ttarget : f.target_list ? getSelectValue(f, \"target_list\") : null,\r\n\t\t\t\t\t\t'class' : f.class_list ? getSelectValue(f, \"class_list\") : null\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\ted.dom.setAttribs(e, {\r\n\t\t\t\thref : href,\r\n\t\t\t\ttitle : f.linktitle.value,\r\n\t\t\t\ttarget : f.target_list ? getSelectValue(f, \"target_list\") : null,\r\n\t\t\t\t'class' : f.class_list ? getSelectValue(f, \"class_list\") : null\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Don't move caret if selection was image\r\n\t\tif (e.childNodes.length != 1 || e.firstChild.nodeName != 'IMG') {\r\n\t\t\ted.focus();\r\n\t\t\ted.selection.select(e);\r\n\t\t\ted.selection.collapse(0);\r\n\t\t\ttinyMCEPopup.storeSelection();\r\n\t\t}\r\n\r\n\t\ttinyMCEPopup.execCommand(\"mceEndUndoLevel\");\r\n\t\ttinyMCEPopup.close();\r\n\t},\r\n\r\n\tcheckPrefix : function(n) {\r\n\t\tif (n.value && Validator.isEmail(n) && !/^\\s*mailto:/i.test(n.value) && confirm(tinyMCEPopup.getLang('advanced_dlg.link_is_email')))\r\n\t\t\tn.value = 'mailto:' + n.value;\r\n\r\n\t\tif (/^\\s*www\\./i.test(n.value) && confirm(tinyMCEPopup.getLang('advanced_dlg.link_is_external')))\r\n\t\t\tn.value = 'http://' + n.value;\r\n\t},\r\n\r\n\tfillFileList : function(id, l) {\r\n\t\tvar dom = tinyMCEPopup.dom, lst = dom.get(id), v, cl;\r\n\r\n\t\tl = window[l];\r\n\r\n\t\tif (l && l.length > 0) {\r\n\t\t\tlst.options[lst.options.length] = new Option('', '');\r\n\r\n\t\t\ttinymce.each(l, function(o) {\r\n\t\t\t\tlst.options[lst.options.length] = new Option(o[0], o[1]);\r\n\t\t\t});\r\n\t\t} else\r\n\t\t\tdom.remove(dom.getParent(id, 'tr'));\r\n\t},\r\n\r\n\tfillClassList : function(id) {\r\n\t\tvar dom = tinyMCEPopup.dom, lst = dom.get(id), v, cl;\r\n\r\n\t\tif (v = tinyMCEPopup.getParam('theme_advanced_styles')) {\r\n\t\t\tcl = [];\r\n\r\n\t\t\ttinymce.each(v.split(';'), function(v) {\r\n\t\t\t\tvar p = v.split('=');\r\n\r\n\t\t\t\tcl.push({'title' : p[0], 'class' : p[1]});\r\n\t\t\t});\r\n\t\t} else\r\n\t\t\tcl = tinyMCEPopup.editor.dom.getClasses();\r\n\r\n\t\tif (cl.length > 0) {\r\n\t\t\tlst.options[lst.options.length] = new Option(tinyMCEPopup.getLang('not_set'), '');\r\n\r\n\t\t\ttinymce.each(cl, function(o) {\r\n\t\t\t\tlst.options[lst.options.length] = new Option(o.title || o['class'], o['class']);\r\n\t\t\t});\r\n\t\t} else\r\n\t\t\tdom.remove(dom.getParent(id, 'tr'));\r\n\t},\r\n\r\n\tfillTargetList : function(id) {\r\n\t\tvar dom = tinyMCEPopup.dom, lst = dom.get(id), v;\r\n\r\n\t\tlst.options[lst.options.length] = new Option(tinyMCEPopup.getLang('not_set'), '');\r\n\t\tlst.options[lst.options.length] = new Option(tinyMCEPopup.getLang('advanced_dlg.link_target_same'), '_self');\r\n\t\tlst.options[lst.options.length] = new Option(tinyMCEPopup.getLang('advanced_dlg.link_target_blank'), '_blank');\r\n\r\n\t\tif (v = tinyMCEPopup.getParam('theme_advanced_link_targets')) {\r\n\t\t\ttinymce.each(v.split(','), function(v) {\r\n\t\t\t\tv = v.split('=');\r\n\t\t\t\tlst.options[lst.options.length] = new Option(v[0], v[1]);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\nLinkDialog.preInit();\r\ntinyMCEPopup.onInit.add(LinkDialog.init, LinkDialog);\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/js/source_editor.js":"tinyMCEPopup.requireLangPack();\r\ntinyMCEPopup.onInit.add(onLoadInit);\r\n\r\nfunction saveContent() {\r\n\ttinyMCEPopup.editor.setContent(document.getElementById('htmlSource').value, {source_view : true});\r\n\ttinyMCEPopup.close();\r\n}\r\n\r\nfunction onLoadInit() {\r\n\ttinyMCEPopup.resizeToInnerSize();\r\n\r\n\t// Remove Gecko spellchecking\r\n\tif (tinymce.isGecko)\r\n\t\tdocument.body.spellcheck = tinyMCEPopup.editor.getParam(\"gecko_spellcheck\");\r\n\r\n\tdocument.getElementById('htmlSource').value = tinyMCEPopup.editor.getContent({source_view : true});\r\n\r\n\tif (tinyMCEPopup.editor.getParam(\"theme_advanced_source_editor_wrap\", true)) {\r\n\t\tsetWrap('soft');\r\n\t\tdocument.getElementById('wraped').checked = true;\r\n\t}\r\n\r\n\tresizeInputs();\r\n}\r\n\r\nfunction setWrap(val) {\r\n\tvar v, n, s = document.getElementById('htmlSource');\r\n\r\n\ts.wrap = val;\r\n\r\n\tif (!tinymce.isIE) {\r\n\t\tv = s.value;\r\n\t\tn = s.cloneNode(false);\r\n\t\tn.setAttribute(\"wrap\", val);\r\n\t\ts.parentNode.replaceChild(n, s);\r\n\t\tn.value = v;\r\n\t}\r\n}\r\n\r\nfunction toggleWordWrap(elm) {\r\n\tif (elm.checked)\r\n\t\tsetWrap('soft');\r\n\telse\r\n\t\tsetWrap('off');\r\n}\r\n\r\nfunction resizeInputs() {\r\n\tvar vp = tinyMCEPopup.dom.getViewPort(window), el;\r\n\r\n\tel = document.getElementById('htmlSource');\r\n\r\n\tif (el) {\r\n\t\tel.style.width = (vp.w - 20) + 'px';\r\n\t\tel.style.height = (vp.h - 65) + 'px';\r\n\t}\r\n}\r\n","Magento_Tinymce3/tiny_mce/themes/advanced/langs/en.js":"tinyMCE.addI18n('en.advanced',{\"underline_desc\":\"Underline (Ctrl+U)\",\"italic_desc\":\"Italic (Ctrl+I)\",\"bold_desc\":\"Bold (Ctrl+B)\",dd:\"Definition Description\",dt:\"Definition Term \",samp:\"Code Sample\",code:\"Code\",blockquote:\"Block Quote\",h6:\"Heading 6\",h5:\"Heading 5\",h4:\"Heading 4\",h3:\"Heading 3\",h2:\"Heading 2\",h1:\"Heading 1\",pre:\"Preformatted\",address:\"Address\",div:\"DIV\",paragraph:\"Paragraph\",block:\"Format\",fontdefault:\"Font Family\",\"font_size\":\"Font Size\",\"style_select\":\"Styles\",\"anchor_delta_height\":\"\",\"anchor_delta_width\":\"\",\"charmap_delta_height\":\"\",\"charmap_delta_width\":\"\",\"colorpicker_delta_height\":\"\",\"colorpicker_delta_width\":\"\",\"link_delta_height\":\"\",\"link_delta_width\":\"\",\"image_delta_height\":\"\",\"image_delta_width\":\"\",\"more_colors\":\"More Colors...\",\"toolbar_focus\":\"Jump to tool buttons - Alt+Q, Jump to editor - Alt-Z, Jump to element path - Alt-X\",newdocument:\"Are you sure you want clear all contents?\",path:\"Path\",\"clipboard_msg\":\"Copy/Cut/Paste is not available in Mozilla and Firefox.\\nDo you want more information about this issue?\",\"blockquote_desc\":\"Block Quote\",\"help_desc\":\"Help\",\"newdocument_desc\":\"New Document\",\"image_props_desc\":\"Image Properties\",\"paste_desc\":\"Paste (Ctrl+V)\",\"copy_desc\":\"Copy (Ctrl+C)\",\"cut_desc\":\"Cut (Ctrl+X)\",\"anchor_desc\":\"Insert/Edit Anchor\",\"visualaid_desc\":\"show/Hide Guidelines/Invisible Elements\",\"charmap_desc\":\"Insert Special Character\",\"backcolor_desc\":\"Select Background Color\",\"forecolor_desc\":\"Select Text Color\",\"custom1_desc\":\"Your Custom Description Here\",\"removeformat_desc\":\"Remove Formatting\",\"hr_desc\":\"Insert Horizontal Line\",\"sup_desc\":\"Superscript\",\"sub_desc\":\"Subscript\",\"code_desc\":\"Edit HTML Source\",\"cleanup_desc\":\"Cleanup Messy Code\",\"image_desc\":\"Insert/Edit Image\",\"unlink_desc\":\"Unlink\",\"link_desc\":\"Insert/Edit Link\",\"redo_desc\":\"Redo (Ctrl+Y)\",\"undo_desc\":\"Undo (Ctrl+Z)\",\"indent_desc\":\"Increase Indent\",\"outdent_desc\":\"Decrease Indent\",\"numlist_desc\":\"Insert/Remove Numbered List\",\"bullist_desc\":\"Insert/Remove Bulleted List\",\"justifyfull_desc\":\"Align Full\",\"justifyright_desc\":\"Align Right\",\"justifycenter_desc\":\"Align Center\",\"justifyleft_desc\":\"Align Left\",\"striketrough_desc\":\"Strikethrough\",\"help_shortcut\":\"Press ALT-F10 for toolbar. Press ALT-0 for help\",\"rich_text_area\":\"Rich Text Area\",\"shortcuts_desc\":\"Accessability Help\",toolbar:\"Toolbar\"});","Magento_Tinymce3/tiny_mce/themes/advanced/langs/en_dlg.js":"tinyMCE.addI18n('en.advanced_dlg', {\"link_list\":\"Link List\",\"link_is_external\":\"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?\",\"link_is_email\":\"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?\",\"link_titlefield\":\"Title\",\"link_target_blank\":\"Open Link in a New Window\",\"link_target_same\":\"Open Link in the Same Window\",\"link_target\":\"Target\",\"link_url\":\"Link URL\",\"link_title\":\"Insert/Edit Link\",\"image_align_right\":\"Right\",\"image_align_left\":\"Left\",\"image_align_textbottom\":\"Text Bottom\",\"image_align_texttop\":\"Text Top\",\"image_align_bottom\":\"Bottom\",\"image_align_middle\":\"Middle\",\"image_align_top\":\"Top\",\"image_align_baseline\":\"Baseline\",\"image_align\":\"Alignment\",\"image_hspace\":\"Horizontal Space\",\"image_vspace\":\"Vertical Space\",\"image_dimensions\":\"Dimensions\",\"image_alt\":\"Image Description\",\"image_list\":\"Image List\",\"image_border\":\"Border\",\"image_src\":\"Image URL\",\"image_title\":\"Insert/Edit Image\",\"charmap_title\":\"Select Special Character\", \"charmap_usage\":\"Use left and right arrows to navigate.\",\"colorpicker_name\":\"Name:\",\"colorpicker_color\":\"Color:\",\"colorpicker_named_title\":\"Named Colors\",\"colorpicker_named_tab\":\"Named\",\"colorpicker_palette_title\":\"Palette Colors\",\"colorpicker_palette_tab\":\"Palette\",\"colorpicker_picker_title\":\"Color Picker\",\"colorpicker_picker_tab\":\"Picker\",\"colorpicker_title\":\"Select a Color\",\"code_wordwrap\":\"Word Wrap\",\"code_title\":\"HTML Source Editor\",\"anchor_name\":\"Anchor Name\",\"anchor_title\":\"Insert/Edit Anchor\",\"about_loaded\":\"Loaded Plugins\",\"about_version\":\"Version\",\"about_author\":\"Author\",\"about_plugin\":\"Plugin\",\"about_plugins\":\"Plugins\",\"about_license\":\"License\",\"about_help\":\"Help\",\"about_general\":\"About\",\"about_title\":\"About TinyMCE\",\"anchor_invalid\":\"Please specify a valid anchor name.\",\"accessibility_help\":\"Accessibility Help\",\"accessibility_usage_title\":\"General Usage\",\"\":\"\"});\r\n","Magento_Tinymce3/tiny_mce/themes/simple/editor_template.js":"(function(){var a=tinymce.DOM;tinymce.ThemeManager.requireLangPack(\"simple\");tinymce.create(\"tinymce.themes.SimpleTheme\",{init:function(c,d){var e=this,b=[\"Bold\",\"Italic\",\"Underline\",\"Strikethrough\",\"InsertUnorderedList\",\"InsertOrderedList\"],f=c.settings;e.editor=c;c.contentCSS.push(d+\"/skins/\"+f.skin+\"/content.css\");c.onInit.add(function(){c.onNodeChange.add(function(h,g){tinymce.each(b,function(i){g.get(i.toLowerCase()).setActive(h.queryCommandState(i))})})});a.loadCSS((f.editor_css?c.documentBaseURI.toAbsolute(f.editor_css):\"\")||d+\"/skins/\"+f.skin+\"/ui.css\")},renderUI:function(h){var e=this,i=h.targetNode,b,c,d=e.editor,f=d.controlManager,g;i=a.insertAfter(a.create(\"span\",{id:d.id+\"_container\",\"class\":\"mceEditor \"+d.settings.skin+\"SimpleSkin\"}),i);i=g=a.add(i,\"table\",{cellPadding:0,cellSpacing:0,\"class\":\"mceLayout\"});i=c=a.add(i,\"tbody\");i=a.add(c,\"tr\");i=b=a.add(a.add(i,\"td\"),\"div\",{\"class\":\"mceIframeContainer\"});i=a.add(a.add(c,\"tr\",{\"class\":\"last\"}),\"td\",{\"class\":\"mceToolbar mceLast\",align:\"center\"});c=e.toolbar=f.createToolbar(\"tools1\");c.add(f.createButton(\"bold\",{title:\"simple.bold_desc\",cmd:\"Bold\"}));c.add(f.createButton(\"italic\",{title:\"simple.italic_desc\",cmd:\"Italic\"}));c.add(f.createButton(\"underline\",{title:\"simple.underline_desc\",cmd:\"Underline\"}));c.add(f.createButton(\"strikethrough\",{title:\"simple.striketrough_desc\",cmd:\"Strikethrough\"}));c.add(f.createSeparator());c.add(f.createButton(\"undo\",{title:\"simple.undo_desc\",cmd:\"Undo\"}));c.add(f.createButton(\"redo\",{title:\"simple.redo_desc\",cmd:\"Redo\"}));c.add(f.createSeparator());c.add(f.createButton(\"cleanup\",{title:\"simple.cleanup_desc\",cmd:\"mceCleanup\"}));c.add(f.createSeparator());c.add(f.createButton(\"insertunorderedlist\",{title:\"simple.bullist_desc\",cmd:\"InsertUnorderedList\"}));c.add(f.createButton(\"insertorderedlist\",{title:\"simple.numlist_desc\",cmd:\"InsertOrderedList\"}));c.renderTo(i);return{iframeContainer:b,editorContainer:d.id+\"_container\",sizeContainer:g,deltaHeight:-20}},getInfo:function(){return{longname:\"Simple theme\",author:\"Moxiecode Systems AB\",authorurl:\"http://tinymce.moxiecode.com\",version:tinymce.majorVersion+\".\"+tinymce.minorVersion}}});tinymce.ThemeManager.add(\"simple\",tinymce.themes.SimpleTheme)})();","Magento_Tinymce3/tiny_mce/themes/simple/editor_template_src.js":"/**\r\n * editor_template_src.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n(function() {\r\n\tvar DOM = tinymce.DOM;\r\n\r\n\t// Tell it to load theme specific language pack(s)\r\n\ttinymce.ThemeManager.requireLangPack('simple');\r\n\r\n\ttinymce.create('tinymce.themes.SimpleTheme', {\r\n\t\tinit : function(ed, url) {\r\n\t\t\tvar t = this, states = ['Bold', 'Italic', 'Underline', 'Strikethrough', 'InsertUnorderedList', 'InsertOrderedList'], s = ed.settings;\r\n\r\n\t\t\tt.editor = ed;\r\n\t\t\ted.contentCSS.push(url + \"/skins/\" + s.skin + \"/content.css\");\r\n\r\n\t\t\ted.onInit.add(function() {\r\n\t\t\t\ted.onNodeChange.add(function(ed, cm) {\r\n\t\t\t\t\ttinymce.each(states, function(c) {\r\n\t\t\t\t\t\tcm.get(c.toLowerCase()).setActive(ed.queryCommandState(c));\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tDOM.loadCSS((s.editor_css ? ed.documentBaseURI.toAbsolute(s.editor_css) : '') || url + \"/skins/\" + s.skin + \"/ui.css\");\r\n\t\t},\r\n\r\n\t\trenderUI : function(o) {\r\n\t\t\tvar t = this, n = o.targetNode, ic, tb, ed = t.editor, cf = ed.controlManager, sc;\r\n\r\n\t\t\tn = DOM.insertAfter(DOM.create('span', {id : ed.id + '_container', 'class' : 'mceEditor ' + ed.settings.skin + 'SimpleSkin'}), n);\r\n\t\t\tn = sc = DOM.add(n, 'table', {cellPadding : 0, cellSpacing : 0, 'class' : 'mceLayout'});\r\n\t\t\tn = tb = DOM.add(n, 'tbody');\r\n\r\n\t\t\t// Create iframe container\r\n\t\t\tn = DOM.add(tb, 'tr');\r\n\t\t\tn = ic = DOM.add(DOM.add(n, 'td'), 'div', {'class' : 'mceIframeContainer'});\r\n\r\n\t\t\t// Create toolbar container\r\n\t\t\tn = DOM.add(DOM.add(tb, 'tr', {'class' : 'last'}), 'td', {'class' : 'mceToolbar mceLast', align : 'center'});\r\n\r\n\t\t\t// Create toolbar\r\n\t\t\ttb = t.toolbar = cf.createToolbar(\"tools1\");\r\n\t\t\ttb.add(cf.createButton('bold', {title : 'simple.bold_desc', cmd : 'Bold'}));\r\n\t\t\ttb.add(cf.createButton('italic', {title : 'simple.italic_desc', cmd : 'Italic'}));\r\n\t\t\ttb.add(cf.createButton('underline', {title : 'simple.underline_desc', cmd : 'Underline'}));\r\n\t\t\ttb.add(cf.createButton('strikethrough', {title : 'simple.striketrough_desc', cmd : 'Strikethrough'}));\r\n\t\t\ttb.add(cf.createSeparator());\r\n\t\t\ttb.add(cf.createButton('undo', {title : 'simple.undo_desc', cmd : 'Undo'}));\r\n\t\t\ttb.add(cf.createButton('redo', {title : 'simple.redo_desc', cmd : 'Redo'}));\r\n\t\t\ttb.add(cf.createSeparator());\r\n\t\t\ttb.add(cf.createButton('cleanup', {title : 'simple.cleanup_desc', cmd : 'mceCleanup'}));\r\n\t\t\ttb.add(cf.createSeparator());\r\n\t\t\ttb.add(cf.createButton('insertunorderedlist', {title : 'simple.bullist_desc', cmd : 'InsertUnorderedList'}));\r\n\t\t\ttb.add(cf.createButton('insertorderedlist', {title : 'simple.numlist_desc', cmd : 'InsertOrderedList'}));\r\n\t\t\ttb.renderTo(n);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tiframeContainer : ic,\r\n\t\t\t\teditorContainer : ed.id + '_container',\r\n\t\t\t\tsizeContainer : sc,\r\n\t\t\t\tdeltaHeight : -20\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tgetInfo : function() {\r\n\t\t\treturn {\r\n\t\t\t\tlongname : 'Simple theme',\r\n\t\t\t\tauthor : 'Moxiecode Systems AB',\r\n\t\t\t\tauthorurl : 'http://tinymce.moxiecode.com',\r\n\t\t\t\tversion : tinymce.majorVersion + \".\" + tinymce.minorVersion\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\ttinymce.ThemeManager.add('simple', tinymce.themes.SimpleTheme);\r\n})();","Magento_Tinymce3/tiny_mce/themes/simple/langs/en.js":"tinyMCE.addI18n('en.simple',{\"cleanup_desc\":\"Cleanup Messy Code\",\"redo_desc\":\"Redo (Ctrl+Y)\",\"undo_desc\":\"Undo (Ctrl+Z)\",\"numlist_desc\":\"Insert/Remove Numbered List\",\"bullist_desc\":\"Insert/Remove Bulleted List\",\"striketrough_desc\":\"Strikethrough\",\"underline_desc\":\"Underline (Ctrl+U)\",\"italic_desc\":\"Italic (Ctrl+I)\",\"bold_desc\":\"Bold (Ctrl+B)\"});","Magento_Tinymce3/tiny_mce/utils/editable_selects.js":"/**\r\n * editable_selects.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nvar TinyMCE_EditableSelects = {\r\n\teditSelectElm : null,\r\n\r\n\tinit : function() {\r\n\t\tvar nl = document.getElementsByTagName(\"select\"), i, d = document, o;\r\n\r\n\t\tfor (i=0; i<nl.length; i++) {\r\n\t\t\tif (nl[i].className.indexOf('mceEditableSelect') != -1) {\r\n\t\t\t\to = new Option(tinyMCEPopup.editor.translate('value'), '__mce_add_custom__');\r\n\r\n\t\t\t\to.className = 'mceAddSelectValue';\r\n\r\n\t\t\t\tnl[i].options[nl[i].options.length] = o;\r\n\t\t\t\tnl[i].onchange = TinyMCE_EditableSelects.onChangeEditableSelect;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tonChangeEditableSelect : function(e) {\r\n\t\tvar d = document, ne, se = window.event ? window.event.srcElement : e.target;\r\n\r\n\t\tif (se.options[se.selectedIndex].value == '__mce_add_custom__') {\r\n\t\t\tne = d.createElement(\"input\");\r\n\t\t\tne.id = se.id + \"_custom\";\r\n\t\t\tne.name = se.name + \"_custom\";\r\n\t\t\tne.type = \"text\";\r\n\r\n\t\t\tne.style.width = se.offsetWidth + 'px';\r\n\t\t\tse.parentNode.insertBefore(ne, se);\r\n\t\t\tse.style.display = 'none';\r\n\t\t\tne.focus();\r\n\t\t\tne.onblur = TinyMCE_EditableSelects.onBlurEditableSelectInput;\r\n\t\t\tne.onkeydown = TinyMCE_EditableSelects.onKeyDown;\r\n\t\t\tTinyMCE_EditableSelects.editSelectElm = se;\r\n\t\t}\r\n\t},\r\n\r\n\tonBlurEditableSelectInput : function() {\r\n\t\tvar se = TinyMCE_EditableSelects.editSelectElm;\r\n\r\n\t\tif (se) {\r\n\t\t\tif (se.previousSibling.value != '') {\r\n\t\t\t\taddSelectValue(document.forms[0], se.id, se.previousSibling.value, se.previousSibling.value);\r\n\t\t\t\tselectByValue(document.forms[0], se.id, se.previousSibling.value);\r\n\t\t\t} else\r\n\t\t\t\tselectByValue(document.forms[0], se.id, '');\r\n\r\n\t\t\tse.style.display = 'inline';\r\n\t\t\tse.parentNode.removeChild(se.previousSibling);\r\n\t\t\tTinyMCE_EditableSelects.editSelectElm = null;\r\n\t\t}\r\n\t},\r\n\r\n\tonKeyDown : function(e) {\r\n\t\te = e || window.event;\r\n\r\n\t\tif (e.keyCode == 13)\r\n\t\t\tTinyMCE_EditableSelects.onBlurEditableSelectInput();\r\n\t}\r\n};\r\n","Magento_Tinymce3/tiny_mce/utils/form_utils.js":"/**\r\n * form_utils.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nvar themeBaseURL = tinyMCEPopup.editor.baseURI.toAbsolute('themes/' + tinyMCEPopup.getParam(\"theme\"));\r\n\r\nfunction getColorPickerHTML(id, target_form_element) {\r\n\tvar h = \"\", dom = tinyMCEPopup.dom;\r\n\r\n\tif (label = dom.select('label[for=' + target_form_element + ']')[0]) {\r\n\t\tlabel.id = label.id || dom.uniqueId();\r\n\t}\r\n\r\n\th += '<a role=\"button\" aria-labelledby=\"' + id + '_label\" id=\"' + id + '_link\" href=\"javascript:;\" onclick=\"tinyMCEPopup.pickColor(event,\\'' + target_form_element +'\\');\" onmousedown=\"return false;\" class=\"pickcolor\">';\r\n\th += '<span id=\"' + id + '\" title=\"' + tinyMCEPopup.getLang('browse') + '\">&nbsp;<span id=\"' + id + '_label\" class=\"mceVoiceLabel mceIconOnly\" style=\"display:none;\">' + tinyMCEPopup.getLang('browse') + '</span></span></a>';\r\n\r\n\treturn h;\r\n}\r\n\r\nfunction updateColor(img_id, form_element_id) {\r\n\tdocument.getElementById(img_id).style.backgroundColor = document.forms[0].elements[form_element_id].value;\r\n}\r\n\r\nfunction setBrowserDisabled(id, state) {\r\n\tvar img = document.getElementById(id);\r\n\tvar lnk = document.getElementById(id + \"_link\");\r\n\r\n\tif (lnk) {\r\n\t\tif (state) {\r\n\t\t\tlnk.setAttribute(\"realhref\", lnk.getAttribute(\"href\"));\r\n\t\t\tlnk.removeAttribute(\"href\");\r\n\t\t\ttinyMCEPopup.dom.addClass(img, 'disabled');\r\n\t\t} else {\r\n\t\t\tif (lnk.getAttribute(\"realhref\"))\r\n\t\t\t\tlnk.setAttribute(\"href\", lnk.getAttribute(\"realhref\"));\r\n\r\n\t\t\ttinyMCEPopup.dom.removeClass(img, 'disabled');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getBrowserHTML(id, target_form_element, type, prefix) {\r\n\tvar option = prefix + \"_\" + type + \"_browser_callback\", cb, html;\r\n\r\n\tcb = tinyMCEPopup.getParam(option, tinyMCEPopup.getParam(\"file_browser_callback\"));\r\n\r\n\tif (!cb)\r\n\t\treturn \"\";\r\n\r\n\thtml = \"\";\r\n\thtml += '<a id=\"' + id + '_link\" href=\"javascript:openBrowser(\\'' + id + '\\',\\'' + target_form_element + '\\', \\'' + type + '\\',\\'' + option + '\\');\" onmousedown=\"return false;\" class=\"browse\">';\r\n\thtml += '<span id=\"' + id + '\" title=\"' + tinyMCEPopup.getLang('browse') + '\">&nbsp;</span></a>';\r\n\r\n\treturn html;\r\n}\r\n\r\nfunction openBrowser(img_id, target_form_element, type, option) {\r\n\tvar img = document.getElementById(img_id);\r\n\r\n\tif (img.className != \"mceButtonDisabled\")\r\n\t\ttinyMCEPopup.openBrowser(target_form_element, type, option);\r\n}\r\n\r\nfunction selectByValue(form_obj, field_name, value, add_custom, ignore_case) {\r\n\tif (!form_obj || !form_obj.elements[field_name])\r\n\t\treturn;\r\n\r\n\tif (!value)\r\n\t\tvalue = \"\";\r\n\r\n\tvar sel = form_obj.elements[field_name];\r\n\r\n\tvar found = false;\r\n\tfor (var i=0; i<sel.options.length; i++) {\r\n\t\tvar option = sel.options[i];\r\n\r\n\t\tif (option.value == value || (ignore_case && option.value.toLowerCase() == value.toLowerCase())) {\r\n\t\t\toption.selected = true;\r\n\t\t\tfound = true;\r\n\t\t} else\r\n\t\t\toption.selected = false;\r\n\t}\r\n\r\n\tif (!found && add_custom && value != '') {\r\n\t\tvar option = new Option(value, value);\r\n\t\toption.selected = true;\r\n\t\tsel.options[sel.options.length] = option;\r\n\t\tsel.selectedIndex = sel.options.length - 1;\r\n\t}\r\n\r\n\treturn found;\r\n}\r\n\r\nfunction getSelectValue(form_obj, field_name) {\r\n\tvar elm = form_obj.elements[field_name];\r\n\r\n\tif (elm == null || elm.options == null || elm.selectedIndex === -1)\r\n\t\treturn \"\";\r\n\r\n\treturn elm.options[elm.selectedIndex].value;\r\n}\r\n\r\nfunction addSelectValue(form_obj, field_name, name, value) {\r\n\tvar s = form_obj.elements[field_name];\r\n\tvar o = new Option(name, value);\r\n\ts.options[s.options.length] = o;\r\n}\r\n\r\nfunction addClassesToList(list_id, specific_option) {\r\n\t// Setup class droplist\r\n\tvar styleSelectElm = document.getElementById(list_id);\r\n\tvar styles = tinyMCEPopup.getParam('theme_advanced_styles', false);\r\n\tstyles = tinyMCEPopup.getParam(specific_option, styles);\r\n\r\n\tif (styles) {\r\n\t\tvar stylesAr = styles.split(';');\r\n\r\n\t\tfor (var i=0; i<stylesAr.length; i++) {\r\n\t\t\tif (stylesAr != \"\") {\r\n\t\t\t\tvar key, value;\r\n\r\n\t\t\t\tkey = stylesAr[i].split('=')[0];\r\n\t\t\t\tvalue = stylesAr[i].split('=')[1];\r\n\r\n\t\t\t\tstyleSelectElm.options[styleSelectElm.length] = new Option(key, value);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\ttinymce.each(tinyMCEPopup.editor.dom.getClasses(), function(o) {\r\n\t\t\tstyleSelectElm.options[styleSelectElm.length] = new Option(o.title || o['class'], o['class']);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction isVisible(element_id) {\r\n\tvar elm = document.getElementById(element_id);\r\n\r\n\treturn elm && elm.style.display != \"none\";\r\n}\r\n\r\nfunction convertRGBToHex(col) {\r\n\tvar re = new RegExp(\"rgb\\\\s*\\\\(\\\\s*([0-9]+).*,\\\\s*([0-9]+).*,\\\\s*([0-9]+).*\\\\)\", \"gi\");\r\n\r\n\tvar rgb = col.replace(re, \"$1,$2,$3\").split(',');\r\n\tif (rgb.length == 3) {\r\n\t\tr = parseInt(rgb[0]).toString(16);\r\n\t\tg = parseInt(rgb[1]).toString(16);\r\n\t\tb = parseInt(rgb[2]).toString(16);\r\n\r\n\t\tr = r.length == 1 ? '0' + r : r;\r\n\t\tg = g.length == 1 ? '0' + g : g;\r\n\t\tb = b.length == 1 ? '0' + b : b;\r\n\r\n\t\treturn \"#\" + r + g + b;\r\n\t}\r\n\r\n\treturn col;\r\n}\r\n\r\nfunction convertHexToRGB(col) {\r\n\tif (col.indexOf('#') != -1) {\r\n\t\tcol = col.replace(new RegExp('[^0-9A-F]', 'gi'), '');\r\n\r\n\t\tr = parseInt(col.substring(0, 2), 16);\r\n\t\tg = parseInt(col.substring(2, 4), 16);\r\n\t\tb = parseInt(col.substring(4, 6), 16);\r\n\r\n\t\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n\t}\r\n\r\n\treturn col;\r\n}\r\n\r\nfunction trimSize(size) {\r\n\treturn size.replace(/([0-9\\.]+)(px|%|in|cm|mm|em|ex|pt|pc)/i, '$1$2');\r\n}\r\n\r\nfunction getCSSSize(size) {\r\n\tsize = trimSize(size);\r\n\r\n\tif (size == \"\")\r\n\t\treturn \"\";\r\n\r\n\t// Add px\r\n\tif (/^[0-9]+$/.test(size))\r\n\t\tsize += 'px';\r\n\t// Sanity check, IE doesn't like broken values\r\n\telse if (!(/^[0-9\\.]+(px|%|in|cm|mm|em|ex|pt|pc)$/i.test(size)))\r\n\t\treturn \"\";\r\n\r\n\treturn size;\r\n}\r\n\r\nfunction getStyle(elm, attrib, style) {\r\n\tvar val = tinyMCEPopup.dom.getAttrib(elm, attrib);\r\n\r\n\tif (val != '')\r\n\t\treturn '' + val;\r\n\r\n\tif (typeof(style) == 'undefined')\r\n\t\tstyle = attrib;\r\n\r\n\treturn tinyMCEPopup.dom.getStyle(elm, style);\r\n}\r\n","Magento_Tinymce3/tiny_mce/utils/mctabs.js":"/**\r\n * mctabs.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\nfunction MCTabs() {\r\n\tthis.settings = [];\r\n\tthis.onChange = tinyMCEPopup.editor.windowManager.createInstance('tinymce.util.Dispatcher');\r\n};\r\n\r\nMCTabs.prototype.init = function(settings) {\r\n\tthis.settings = settings;\r\n};\r\n\r\nMCTabs.prototype.getParam = function(name, default_value) {\r\n\tvar value = null;\r\n\r\n\tvalue = (typeof(this.settings[name]) == \"undefined\") ? default_value : this.settings[name];\r\n\r\n\t// Fix bool values\r\n\tif (value == \"true\" || value == \"false\")\r\n\t\treturn (value == \"true\");\r\n\r\n\treturn value;\r\n};\r\n\r\nMCTabs.prototype.showTab =function(tab){\r\n\ttab.className = 'current';\r\n\ttab.setAttribute(\"aria-selected\", true);\r\n\ttab.setAttribute(\"aria-expanded\", true);\r\n\ttab.tabIndex = 0;\r\n};\r\n\r\nMCTabs.prototype.hideTab =function(tab){\r\n\tvar t=this;\r\n\r\n\ttab.className = '';\r\n\ttab.setAttribute(\"aria-selected\", false);\r\n\ttab.setAttribute(\"aria-expanded\", false);\r\n\ttab.tabIndex = -1;\r\n};\r\n\r\nMCTabs.prototype.showPanel = function(panel) {\r\n\tpanel.className = 'current'; \r\n\tpanel.setAttribute(\"aria-hidden\", false);\r\n};\r\n\r\nMCTabs.prototype.hidePanel = function(panel) {\r\n\tpanel.className = 'panel';\r\n\tpanel.setAttribute(\"aria-hidden\", true);\r\n}; \r\n\r\nMCTabs.prototype.getPanelForTab = function(tabElm) {\r\n\treturn tinyMCEPopup.dom.getAttrib(tabElm, \"aria-controls\");\r\n};\r\n\r\nMCTabs.prototype.displayTab = function(tab_id, panel_id, avoid_focus) {\r\n\tvar panelElm, panelContainerElm, tabElm, tabContainerElm, selectionClass, nodes, i, t = this;\r\n\r\n\ttabElm = document.getElementById(tab_id);\r\n\r\n\tif (panel_id === undefined) {\r\n\t\tpanel_id = t.getPanelForTab(tabElm);\r\n\t}\r\n\r\n\tpanelElm= document.getElementById(panel_id);\r\n\tpanelContainerElm = panelElm ? panelElm.parentNode : null;\r\n\ttabContainerElm = tabElm ? tabElm.parentNode : null;\r\n\tselectionClass = t.getParam('selection_class', 'current');\r\n\r\n\tif (tabElm && tabContainerElm) {\r\n\t\tnodes = tabContainerElm.childNodes;\r\n\r\n\t\t// Hide all other tabs\r\n\t\tfor (i = 0; i < nodes.length; i++) {\r\n\t\t\tif (nodes[i].nodeName == \"LI\") {\r\n\t\t\t\tt.hideTab(nodes[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Show selected tab\r\n\t\tt.showTab(tabElm);\r\n\t}\r\n\r\n\tif (panelElm && panelContainerElm) {\r\n\t\tnodes = panelContainerElm.childNodes;\r\n\r\n\t\t// Hide all other panels\r\n\t\tfor (i = 0; i < nodes.length; i++) {\r\n\t\t\tif (nodes[i].nodeName == \"DIV\")\r\n\t\t\t\tt.hidePanel(nodes[i]);\r\n\t\t}\r\n\r\n\t\tif (!avoid_focus) { \r\n\t\t\ttabElm.focus();\r\n\t\t}\r\n\r\n\t\t// Show selected panel\r\n\t\tt.showPanel(panelElm);\r\n\t}\r\n};\r\n\r\nMCTabs.prototype.getAnchor = function() {\r\n\tvar pos, url = document.location.href;\r\n\r\n\tif ((pos = url.lastIndexOf('#')) != -1)\r\n\t\treturn url.substring(pos + 1);\r\n\r\n\treturn \"\";\r\n};\r\n\r\n\r\n//Global instance\r\nvar mcTabs = new MCTabs();\r\n\r\ntinyMCEPopup.onInit.add(function() {\r\n\tvar tinymce = tinyMCEPopup.getWin().tinymce, dom = tinyMCEPopup.dom, each = tinymce.each;\r\n\r\n\teach(dom.select('div.tabs'), function(tabContainerElm) {\r\n\t\tvar keyNav;\r\n\r\n\t\tdom.setAttrib(tabContainerElm, \"role\", \"tablist\"); \r\n\r\n\t\tvar items = tinyMCEPopup.dom.select('li', tabContainerElm);\r\n\t\tvar action = function(id) {\r\n\t\t\tmcTabs.displayTab(id, mcTabs.getPanelForTab(id));\r\n\t\t\tmcTabs.onChange.dispatch(id);\r\n\t\t};\r\n\r\n\t\teach(items, function(item) {\r\n\t\t\tdom.setAttrib(item, 'role', 'tab');\r\n\t\t\tdom.bind(item, 'click', function(evt) {\r\n\t\t\t\taction(item.id);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tdom.bind(dom.getRoot(), 'keydown', function(evt) {\r\n\t\t\tif (evt.keyCode === 9 && evt.ctrlKey && !evt.altKey) { // Tab\r\n\t\t\t\tkeyNav.moveFocus(evt.shiftKey ? -1 : 1);\r\n\t\t\t\ttinymce.dom.Event.cancel(evt);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teach(dom.select('a', tabContainerElm), function(a) {\r\n\t\t\tdom.setAttrib(a, 'tabindex', '-1');\r\n\t\t});\r\n\r\n\t\tkeyNav = tinyMCEPopup.editor.windowManager.createInstance('tinymce.ui.KeyboardNavigation', {\r\n\t\t\troot: tabContainerElm,\r\n\t\t\titems: items,\r\n\t\t\tonAction: action,\r\n\t\t\tactOnFocus: true,\r\n\t\t\tenableLeftRight: true,\r\n\t\t\tenableUpDown: true\r\n\t\t}, tinyMCEPopup.dom);\r\n\t});\r\n});","Magento_Tinymce3/tiny_mce/utils/validate.js":"/**\r\n * validate.js\r\n *\r\n * Copyright 2009, Moxiecode Systems AB\r\n * Released under LGPL License.\r\n *\r\n * License: http://tinymce.moxiecode.com/license\r\n * Contributing: http://tinymce.moxiecode.com/contributing\r\n */\r\n\r\n/**\r\n\t// String validation:\r\n\r\n\tif (!Validator.isEmail('myemail'))\r\n\t\talert('Invalid email.');\r\n\r\n\t// Form validation:\r\n\r\n\tvar f = document.forms['myform'];\r\n\r\n\tif (!Validator.isEmail(f.myemail))\r\n\t\talert('Invalid email.');\r\n*/\r\n\r\nvar Validator = {\r\n\tisEmail : function(s) {\r\n\t\treturn this.test(s, '^[-!#$%&\\'*+\\\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&\\'*+\\\\/0-9=?A-Z^_`a-z{|}~]+\\.[-!#$%&\\'*+\\\\./0-9=?A-Z^_`a-z{|}~]+$');\r\n\t},\r\n\r\n\tisAbsUrl : function(s) {\r\n\t\treturn this.test(s, '^(news|telnet|nttp|file|http|ftp|https)://[-A-Za-z0-9\\\\.]+\\\\/?.*$');\r\n\t},\r\n\r\n\tisSize : function(s) {\r\n\t\treturn this.test(s, '^[0-9.]+(%|in|cm|mm|em|ex|pt|pc|px)?$');\r\n\t},\r\n\r\n\tisId : function(s) {\r\n\t\treturn this.test(s, '^[A-Za-z_]([A-Za-z0-9_])*$');\r\n\t},\r\n\r\n\tisEmpty : function(s) {\r\n\t\tvar nl, i;\r\n\r\n\t\tif (s.nodeName == 'SELECT' && s.selectedIndex < 1)\r\n\t\t\treturn true;\r\n\r\n\t\tif (s.type == 'checkbox' && !s.checked)\r\n\t\t\treturn true;\r\n\r\n\t\tif (s.type == 'radio') {\r\n\t\t\tfor (i=0, nl = s.form.elements; i<nl.length; i++) {\r\n\t\t\t\tif (nl[i].type == \"radio\" && nl[i].name == s.name && nl[i].checked)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn new RegExp('^\\\\s*$').test(s.nodeType == 1 ? s.value : s);\r\n\t},\r\n\r\n\tisNumber : function(s, d) {\r\n\t\treturn !isNaN(s.nodeType == 1 ? s.value : s) && (!d || !this.test(s, '^-?[0-9]*\\\\.[0-9]*$'));\r\n\t},\r\n\r\n\ttest : function(s, p) {\r\n\t\ts = s.nodeType == 1 ? s.value : s;\r\n\r\n\t\treturn s == '' || new RegExp(p).test(s);\r\n\t}\r\n};\r\n\r\nvar AutoValidator = {\r\n\tsettings : {\r\n\t\tid_cls : 'id',\r\n\t\tint_cls : 'int',\r\n\t\turl_cls : 'url',\r\n\t\tnumber_cls : 'number',\r\n\t\temail_cls : 'email',\r\n\t\tsize_cls : 'size',\r\n\t\trequired_cls : 'required',\r\n\t\tinvalid_cls : 'invalid',\r\n\t\tmin_cls : 'min',\r\n\t\tmax_cls : 'max'\r\n\t},\r\n\r\n\tinit : function(s) {\r\n\t\tvar n;\r\n\r\n\t\tfor (n in s)\r\n\t\t\tthis.settings[n] = s[n];\r\n\t},\r\n\r\n\tvalidate : function(f) {\r\n\t\tvar i, nl, s = this.settings, c = 0;\r\n\r\n\t\tnl = this.tags(f, 'label');\r\n\t\tfor (i=0; i<nl.length; i++) {\r\n\t\t\tthis.removeClass(nl[i], s.invalid_cls);\r\n\t\t\tnl[i].setAttribute('aria-invalid', false);\r\n\t\t}\r\n\r\n\t\tc += this.validateElms(f, 'input');\r\n\t\tc += this.validateElms(f, 'select');\r\n\t\tc += this.validateElms(f, 'textarea');\r\n\r\n\t\treturn c == 3;\r\n\t},\r\n\r\n\tinvalidate : function(n) {\r\n\t\tthis.mark(n.form, n);\r\n\t},\r\n\t\r\n\tgetErrorMessages : function(f) {\r\n\t\tvar nl, i, s = this.settings, field, msg, values, messages = [], ed = tinyMCEPopup.editor;\r\n\t\tnl = this.tags(f, \"label\");\r\n\t\tfor (i=0; i<nl.length; i++) {\r\n\t\t\tif (this.hasClass(nl[i], s.invalid_cls)) {\r\n\t\t\t\tfield = document.getElementById(nl[i].getAttribute(\"for\"));\r\n\t\t\t\tvalues = { field: nl[i].textContent };\r\n\t\t\t\tif (this.hasClass(field, s.min_cls, true)) {\r\n\t\t\t\t\tmessage = ed.getLang('invalid_data_min');\r\n\t\t\t\t\tvalues.min = this.getNum(field, s.min_cls);\r\n\t\t\t\t} else if (this.hasClass(field, s.number_cls)) {\r\n\t\t\t\t\tmessage = ed.getLang('invalid_data_number');\r\n\t\t\t\t} else if (this.hasClass(field, s.size_cls)) {\r\n\t\t\t\t\tmessage = ed.getLang('invalid_data_size');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage = ed.getLang('invalid_data');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tmessage = message.replace(/{\\#([^}]+)\\}/g, function(a, b) {\r\n\t\t\t\t\treturn values[b] || '{#' + b + '}';\r\n\t\t\t\t});\r\n\t\t\t\tmessages.push(message);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn messages;\r\n\t},\r\n\r\n\treset : function(e) {\r\n\t\tvar t = ['label', 'input', 'select', 'textarea'];\r\n\t\tvar i, j, nl, s = this.settings;\r\n\r\n\t\tif (e == null)\r\n\t\t\treturn;\r\n\r\n\t\tfor (i=0; i<t.length; i++) {\r\n\t\t\tnl = this.tags(e.form ? e.form : e, t[i]);\r\n\t\t\tfor (j=0; j<nl.length; j++) {\r\n\t\t\t\tthis.removeClass(nl[j], s.invalid_cls);\r\n\t\t\t\tnl[j].setAttribute('aria-invalid', false);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tvalidateElms : function(f, e) {\r\n\t\tvar nl, i, n, s = this.settings, st = true, va = Validator, v;\r\n\r\n\t\tnl = this.tags(f, e);\r\n\t\tfor (i=0; i<nl.length; i++) {\r\n\t\t\tn = nl[i];\r\n\r\n\t\t\tthis.removeClass(n, s.invalid_cls);\r\n\r\n\t\t\tif (this.hasClass(n, s.required_cls) && va.isEmpty(n))\r\n\t\t\t\tst = this.mark(f, n);\r\n\r\n\t\t\tif (this.hasClass(n, s.number_cls) && !va.isNumber(n))\r\n\t\t\t\tst = this.mark(f, n);\r\n\r\n\t\t\tif (this.hasClass(n, s.int_cls) && !va.isNumber(n, true))\r\n\t\t\t\tst = this.mark(f, n);\r\n\r\n\t\t\tif (this.hasClass(n, s.url_cls) && !va.isAbsUrl(n))\r\n\t\t\t\tst = this.mark(f, n);\r\n\r\n\t\t\tif (this.hasClass(n, s.email_cls) && !va.isEmail(n))\r\n\t\t\t\tst = this.mark(f, n);\r\n\r\n\t\t\tif (this.hasClass(n, s.size_cls) && !va.isSize(n))\r\n\t\t\t\tst = this.mark(f, n);\r\n\r\n\t\t\tif (this.hasClass(n, s.id_cls) && !va.isId(n))\r\n\t\t\t\tst = this.mark(f, n);\r\n\r\n\t\t\tif (this.hasClass(n, s.min_cls, true)) {\r\n\t\t\t\tv = this.getNum(n, s.min_cls);\r\n\r\n\t\t\t\tif (isNaN(v) || parseInt(n.value) < parseInt(v))\r\n\t\t\t\t\tst = this.mark(f, n);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.hasClass(n, s.max_cls, true)) {\r\n\t\t\t\tv = this.getNum(n, s.max_cls);\r\n\r\n\t\t\t\tif (isNaN(v) || parseInt(n.value) > parseInt(v))\r\n\t\t\t\t\tst = this.mark(f, n);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn st;\r\n\t},\r\n\r\n\thasClass : function(n, c, d) {\r\n\t\treturn new RegExp('\\\\b' + c + (d ? '[0-9]+' : '') + '\\\\b', 'g').test(n.className);\r\n\t},\r\n\r\n\tgetNum : function(n, c) {\r\n\t\tc = n.className.match(new RegExp('\\\\b' + c + '([0-9]+)\\\\b', 'g'))[0];\r\n\t\tc = c.replace(/[^0-9]/g, '');\r\n\r\n\t\treturn c;\r\n\t},\r\n\r\n\taddClass : function(n, c, b) {\r\n\t\tvar o = this.removeClass(n, c);\r\n\t\tn.className = b ? c + (o != '' ? (' ' + o) : '') : (o != '' ? (o + ' ') : '') + c;\r\n\t},\r\n\r\n\tremoveClass : function(n, c) {\r\n\t\tc = n.className.replace(new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\"), ' ');\r\n\t\treturn n.className = c != ' ' ? c : '';\r\n\t},\r\n\r\n\ttags : function(f, s) {\r\n\t\treturn f.getElementsByTagName(s);\r\n\t},\r\n\r\n\tmark : function(f, n) {\r\n\t\tvar s = this.settings;\r\n\r\n\t\tthis.addClass(n, s.invalid_cls);\r\n\t\tn.setAttribute('aria-invalid', 'true');\r\n\t\tthis.markLabels(f, n, s.invalid_cls);\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\tmarkLabels : function(f, n, ic) {\r\n\t\tvar nl, i;\r\n\r\n\t\tnl = this.tags(f, \"label\");\r\n\t\tfor (i=0; i<nl.length; i++) {\r\n\t\t\tif (nl[i].getAttribute(\"for\") == n.id || nl[i].htmlFor == n.id)\r\n\t\t\t\tthis.addClass(nl[i], ic);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n};\r\n","Magento_Tinymce3/wysiwyg/tiny_mce/plugins/magentovariable/editor_plugin.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @deprecated use lib/web/mage/adminhtml/wysiwyg/tiny_mce/plugins/magentovariable/editor_plugin.js instead\r\n */\r\n/* global tinyMCE, tinymce, MagentovariablePlugin */\r\n/* eslint-disable strict */\r\ntinyMCE.addI18n({\r\n    en: {\r\n        magentovariable: {\r\n            'insert_variable': 'Insert Variable'\r\n        }\r\n    }\r\n});\r\n\r\n(function () {\r\n    tinymce.create('tinymce.plugins.MagentovariablePlugin', {\r\n        /**\r\n         * @param {tinymce.Editor} ed - Editor instance that the plugin is initialized in.\r\n         * @param {String} url - Absolute URL to where the plugin is located.\r\n         */\r\n        init: function (ed, url) {\r\n            ed.addCommand('mceMagentovariable', function () {\r\n                var pluginSettings = ed.settings.magentoPluginsOptions.get('magentovariable');\r\n\r\n                MagentovariablePlugin.setEditor(ed);\r\n                MagentovariablePlugin.loadChooser(pluginSettings.url, ed.settings.elements);\r\n            });\r\n\r\n            // Register Widget plugin button\r\n            ed.addButton('magentovariable', {\r\n                title: 'magentovariable.insert_variable',\r\n                cmd: 'mceMagentovariable',\r\n                image: url + '/img/icon.gif'\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @return {Object}\r\n         */\r\n        getInfo: function () {\r\n            return {\r\n                longname: 'Magento Variable Manager Plugin for TinyMCE 3.x',\r\n                author: 'Magento Core Team',\r\n                authorurl: 'http://magentocommerce.com',\r\n                infourl: 'http://magentocommerce.com',\r\n                version: '1.0'\r\n            };\r\n        }\r\n    });\r\n\r\n    // Register plugin\r\n    tinymce.PluginManager.add('magentovariable', tinymce.plugins.MagentovariablePlugin);\r\n})();\r\n","Magento_Translation/js/i18n-config.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    require.config({\r\n        config: {\r\n            'Magento_Ui/js/lib/knockout/bindings/i18n': {\r\n                inlineTranslation: true\r\n            }\r\n        }\r\n    });\r\n})();\r\n","Magento_Ui/js/block-loader.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'Magento_Ui/js/lib/knockout/template/loader',\r\n    'mage/template'\r\n], function (ko, $, templateLoader, template) {\r\n    'use strict';\r\n\r\n    var blockLoaderTemplatePath = 'ui/block-loader',\r\n        blockContentLoadingClass = '_block-content-loading',\r\n        blockLoader,\r\n        blockLoaderClass,\r\n        loaderImageHref;\r\n\r\n    templateLoader.loadTemplate(blockLoaderTemplatePath).done(function (blockLoaderTemplate) {\r\n        blockLoader = template($.trim(blockLoaderTemplate), {\r\n            loaderImageHref: loaderImageHref\r\n        });\r\n        blockLoader = $(blockLoader);\r\n        blockLoaderClass = '.' + blockLoader.attr('class');\r\n    });\r\n\r\n    /**\r\n     * Helper function to check if blockContentLoading class should be applied.\r\n     * @param {Object} element\r\n     * @returns {Boolean}\r\n     */\r\n    function isLoadingClassRequired(element) {\r\n        var position = element.css('position');\r\n\r\n        if (position === 'absolute' || position === 'fixed') {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Add loader to block.\r\n     * @param {Object} element\r\n     */\r\n    function addBlockLoader(element) {\r\n        element.find(':focus').blur();\r\n        element.find('input:disabled, select:disabled').addClass('_disabled');\r\n        element.find('input, select').prop('disabled', true);\r\n\r\n        if (isLoadingClassRequired(element)) {\r\n            element.addClass(blockContentLoadingClass);\r\n        }\r\n        element.append(blockLoader.clone());\r\n    }\r\n\r\n    /**\r\n     * Remove loader from block.\r\n     * @param {Object} element\r\n     */\r\n    function removeBlockLoader(element) {\r\n        if (!element.has(blockLoaderClass).length) {\r\n            return;\r\n        }\r\n        element.find(blockLoaderClass).remove();\r\n        element.find('input:not(\"._disabled\"), select:not(\"._disabled\")').prop('disabled', false);\r\n        element.find('input:disabled, select:disabled').removeClass('_disabled');\r\n        element.removeClass(blockContentLoadingClass);\r\n    }\r\n\r\n    return function (loaderHref) {\r\n        loaderImageHref = loaderHref;\r\n        ko.bindingHandlers.blockLoader = {\r\n            /**\r\n             * Process loader for block\r\n             * @param {String} element\r\n             * @param {Boolean} displayBlockLoader\r\n             */\r\n            update: function (element, displayBlockLoader) {\r\n                element = $(element);\r\n\r\n                if (ko.unwrap(displayBlockLoader())) {\r\n                    addBlockLoader(element);\r\n                } else {\r\n                    removeBlockLoader(element);\r\n                }\r\n            }\r\n        };\r\n    };\r\n});\r\n","Magento_Ui/js/core/app.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    './renderer/types',\r\n    './renderer/layout',\r\n    '../lib/knockout/bootstrap'\r\n], function (types, layout) {\r\n    'use strict';\r\n\r\n    return function (data, merge) {\r\n        types.set(data.types);\r\n        layout(data.components, undefined, true, merge);\r\n    };\r\n});\r\n","Magento_Ui/js/core/renderer/layout.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'underscore',\r\n    'jquery',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    './types',\r\n    '../../lib/logger/console-logger'\r\n], function (_, $, utils, registry, types, consoleLogger) {\r\n    'use strict';\r\n\r\n    var templates = registry.create(),\r\n        layout = {},\r\n        cachedConfig = {};\r\n\r\n    /**\r\n     * Build name from parent name and node name\r\n     *\r\n     * @param {Object} parent\r\n     * @param {Object} node\r\n     * @param {String} [name]\r\n     * @returns {String}\r\n     */\r\n    function getNodeName(parent, node, name) {\r\n        var parentName = parent && parent.name;\r\n\r\n        if (typeof name !== 'string') {\r\n            name = node.name || name;\r\n        }\r\n\r\n        return utils.fullPath(parentName, name);\r\n    }\r\n\r\n    /**\r\n     * Get node type from node or parent.\r\n     *\r\n     * @param {Object} parent\r\n     * @param {Object} node\r\n     * @returns {String}\r\n     */\r\n    function getNodeType(parent, node) {\r\n        return node.type || parent && parent.childType;\r\n    }\r\n\r\n    /**\r\n     * Get data scope based on parent data scope and node data scope.\r\n     *\r\n     * @param {Object} parent\r\n     * @param {Object} node\r\n     * @returns {String}\r\n     */\r\n    function getDataScope(parent, node) {\r\n        var dataScope = node.dataScope,\r\n            parentScope = parent && parent.dataScope;\r\n\r\n        return !utils.isEmpty(parentScope) ?\r\n            !utils.isEmpty(dataScope) ?\r\n                parentScope + '.' + dataScope :\r\n                parentScope :\r\n            dataScope || '';\r\n    }\r\n\r\n    /**\r\n     * Load node dependencies on other instances.\r\n     *\r\n     * @param {Object} node\r\n     * @returns {jQueryPromise}\r\n     */\r\n    function loadDeps(node) {\r\n        var loaded = $.Deferred(),\r\n            loggerUtils = consoleLogger.utils;\r\n\r\n        if (node.deps) {\r\n            consoleLogger.utils.asyncLog(\r\n                loaded,\r\n                {\r\n                    data: {\r\n                        component: node.name,\r\n                        deps: node.deps\r\n                    },\r\n                    messages: loggerUtils.createMessages(\r\n                        'depsStartRequesting',\r\n                        'depsFinishRequesting',\r\n                        'depsLoadingFail'\r\n                    )\r\n                }\r\n            );\r\n        }\r\n\r\n        registry.get(node.deps, function (deps) {\r\n            node.provider = node.extendProvider ? deps && deps.name : node.provider;\r\n            loaded.resolve(node);\r\n        });\r\n\r\n        return loaded.promise();\r\n    }\r\n\r\n    /**\r\n     * Load node component file via requirejs.\r\n     *\r\n     * @param {Object} node\r\n     * @returns {jQueryPromise}\r\n     */\r\n    function loadSource(node) {\r\n        var loaded = $.Deferred(),\r\n            source = node.component;\r\n\r\n        consoleLogger.info('componentStartLoading', {\r\n            component: node.component\r\n        });\r\n\r\n        require([source], function (constr) {\r\n            consoleLogger.info('componentFinishLoading', {\r\n                component: node.component\r\n            });\r\n            loaded.resolve(node, constr);\r\n        }, function () {\r\n            consoleLogger.error('componentLoadingFail', {\r\n                component: node.component\r\n            });\r\n        });\r\n\r\n        return loaded.promise();\r\n    }\r\n\r\n    /**\r\n     * Create a new component instance and set it to the registry.\r\n     *\r\n     * @param {Object} node\r\n     * @param {Function} Constr\r\n     */\r\n    function initComponent(node, Constr) {\r\n        var component = new Constr(_.omit(node, 'children'));\r\n\r\n        consoleLogger.info('componentStartInitialization', {\r\n            component: node.component,\r\n            componentName: node.name\r\n        });\r\n\r\n        registry.set(node.name, component);\r\n    }\r\n\r\n    /**\r\n     * Application entry point.\r\n     *\r\n     * @param {Object} nodes\r\n     * @param {Object} parent\r\n     * @param {Boolean} cached\r\n     * @param {Boolean} merge\r\n     * @returns {Boolean|undefined}\r\n     */\r\n    function run(nodes, parent, cached, merge) {\r\n        if (_.isBoolean(merge) && merge) {\r\n            layout.merge(nodes);\r\n\r\n            return false;\r\n        }\r\n\r\n        if (cached) {\r\n            cachedConfig[_.keys(nodes)[0]] = JSON.parse(JSON.stringify(nodes));\r\n        }\r\n\r\n        _.each(nodes || [], layout.iterator.bind(layout, parent));\r\n    }\r\n\r\n    _.extend(layout, {\r\n        /**\r\n         * Determines if node ready to be added or process it.\r\n         *\r\n         * @param {Object} parent\r\n         * @param {Object|String} node\r\n         */\r\n        iterator: function (parent, node) {\r\n            var action = _.isString(node) ?\r\n                this.addChild :\r\n                this.process;\r\n\r\n            action.apply(this, arguments);\r\n        },\r\n\r\n        /**\r\n         * Prepare component.\r\n         *\r\n         * @param {Object} parent\r\n         * @param {Object} node\r\n         * @param {String} name\r\n         * @returns {Object}\r\n         */\r\n        process: function (parent, node, name) {\r\n            if (!parent && node.parent) {\r\n                return this.waitParent(node, name);\r\n            }\r\n\r\n            if (node.nodeTemplate) {\r\n                return this.waitTemplate.apply(this, arguments);\r\n            }\r\n\r\n            node = this.build.apply(this, arguments);\r\n\r\n            if (!registry.has(node.name)) {\r\n                this.addChild(parent, node)\r\n                    .manipulate(node)\r\n                    .initComponent(node);\r\n            }\r\n\r\n            if (node) {\r\n                run(node.children, node);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Detailed processing of component config.\r\n         *\r\n         * @param {Object} parent\r\n         * @param {Object} node\r\n         * @param {String} name\r\n         * @returns {Boolean|Object}\r\n         */\r\n        build: function (parent, node, name) {\r\n            var defaults    = parent && parent.childDefaults || {},\r\n                children    = this.filterDisabledChildren(node.children),\r\n                type        = getNodeType(parent, node),\r\n                dataScope   = getDataScope(parent, node),\r\n                component,\r\n                extendDeps  = true,\r\n                nodeName;\r\n\r\n            node.children = false;\r\n            node.extendProvider = true;\r\n\r\n            if (node.config && node.config.provider || node.provider) {\r\n                node.extendProvider = false;\r\n            }\r\n\r\n            if (node.config && node.config.deps || node.deps) {\r\n                extendDeps = false;\r\n            }\r\n\r\n            node = utils.extend({\r\n            }, types.get(type), defaults, node);\r\n\r\n            nodeName = getNodeName(parent, node, name);\r\n\r\n            if (registry.has(nodeName)) {\r\n                component = registry.get(nodeName);\r\n                component.children = children;\r\n\r\n                return component;\r\n            }\r\n\r\n            if (extendDeps && parent && parent.deps && type) {\r\n                node.deps = parent.deps;\r\n            }\r\n\r\n            _.extend(node, node.config || {}, {\r\n                index: node.name || name,\r\n                name: nodeName,\r\n                dataScope: dataScope,\r\n                parentName: utils.getPart(nodeName, -2),\r\n                parentScope: utils.getPart(dataScope, -2)\r\n            });\r\n\r\n            node.children = children;\r\n            node.componentType = node.type;\r\n\r\n            delete node.type;\r\n            delete node.config;\r\n\r\n            if (children) {\r\n                node.initChildCount = _.size(children);\r\n            }\r\n\r\n            if (node.isTemplate) {\r\n                node.isTemplate = false;\r\n\r\n                templates.set(node.name, node);\r\n                registry.get(node.parentName, function (parentComp) {\r\n                    parentComp.childTemplate = node;\r\n                });\r\n\r\n                return false;\r\n            }\r\n\r\n            if (node.componentDisabled === true) {\r\n                return false;\r\n            }\r\n\r\n            return node;\r\n        },\r\n\r\n        /**\r\n         * Filter out all disabled components.\r\n         *\r\n         * @param {Object} children\r\n         * @returns {*}\r\n         */\r\n        filterDisabledChildren: function (children) {\r\n            var cIds;\r\n\r\n            //cleanup children config.componentDisabled = true\r\n            if (children && typeof children === 'object') {\r\n                cIds = Object.keys(children);\r\n\r\n                if (cIds) {\r\n                    _.each(cIds, function (cId) {\r\n                        if (typeof children[cId] === 'object' &&\r\n                            children[cId].hasOwnProperty('config') &&\r\n                            typeof children[cId].config === 'object' &&\r\n                            children[cId].config.hasOwnProperty('componentDisabled') &&\r\n                            children[cId].config.componentDisabled === true) {\r\n                            delete children[cId];\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            return children;\r\n        },\r\n\r\n        /**\r\n         * Init component.\r\n         *\r\n         * @param {Object} node\r\n         * @returns {Object}\r\n         */\r\n        initComponent: function (node) {\r\n            if (!node.component) {\r\n                return this;\r\n            }\r\n\r\n            loadDeps(node)\r\n                .then(loadSource)\r\n                .done(initComponent);\r\n\r\n            return this;\r\n        }\r\n    });\r\n\r\n    _.extend(layout, {\r\n        /**\r\n         * Loading component marked as isTemplate.\r\n         *\r\n         * @param {Object} parent\r\n         * @param {Object} node\r\n         * @returns {Object}\r\n         */\r\n        waitTemplate: function (parent, node) {\r\n            var args = _.toArray(arguments);\r\n\r\n            templates.get(node.nodeTemplate, function () {\r\n                this.applyTemplate.apply(this, args);\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Waiting for parent component and process provided component.\r\n         *\r\n         * @param {Object} node\r\n         * @param {String} name\r\n         * @returns {Object}\r\n         */\r\n        waitParent: function (node, name) {\r\n            var process = this.process.bind(this);\r\n\r\n            registry.get(node.parent, function (parent) {\r\n                process(parent, node, name);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Processing component marked as isTemplate.\r\n         *\r\n         * @param {Object} parent\r\n         * @param {Object} node\r\n         * @param {String} name\r\n         */\r\n        applyTemplate: function (parent, node, name) {\r\n            var template = templates.get(node.nodeTemplate);\r\n\r\n            node = utils.extend({}, template, node);\r\n\r\n            delete node.nodeTemplate;\r\n\r\n            this.process(parent, node, name);\r\n        }\r\n    });\r\n\r\n    _.extend(layout, {\r\n        /**\r\n         * Determines inserting strategy.\r\n         *\r\n         * @param {Object} node\r\n         * @returns {Object}\r\n         */\r\n        manipulate: function (node) {\r\n            var name = node.name;\r\n\r\n            if (node.appendTo) {\r\n                this.insert(name, node.appendTo, -1);\r\n            }\r\n\r\n            if (node.prependTo) {\r\n                this.insert(name, node.prependTo, 0);\r\n            }\r\n\r\n            if (node.insertTo) {\r\n                this.insertTo(name, node.insertTo);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Insert component to provide target and position.\r\n         *\r\n         * @param {Object|String} item\r\n         * @param {Object} target\r\n         * @param {Number} position\r\n         * @returns {Object}\r\n         */\r\n        insert: function (item, target, position) {\r\n            registry.get(target, function (container) {\r\n                container.insertChild(item, position);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Insert component into multiple targets.\r\n         *\r\n         * @param {Object} item\r\n         * @param {Array} targets\r\n         * @returns {Object}\r\n         */\r\n        insertTo: function (item, targets) {\r\n            _.each(targets, function (info, target) {\r\n                this.insert(item, target, info.position);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Add provided child to parent.\r\n         *\r\n         * @param {Object} parent\r\n         * @param {Object|String} child\r\n         * @returns {Object}\r\n         */\r\n        addChild: function (parent, child) {\r\n            var name;\r\n\r\n            if (parent && parent.component) {\r\n                name = child.name || child;\r\n\r\n                this.insert(name, parent.name, child.sortOrder);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Merge components configuration with cached configuration.\r\n         *\r\n         * @param {Array} components\r\n         */\r\n        merge: function (components) {\r\n            var cachedKey = _.keys(components)[0],\r\n                compared = utils.compare(cachedConfig[cachedKey], components),\r\n                remove = this.filterComponents(this.getByProperty(compared.changes, 'type', 'remove'), true),\r\n                update = this.getByProperty(compared.changes, 'type', 'update'),\r\n                dataSources = this.getDataSources(components),\r\n                names, index, name, component;\r\n\r\n            _.each(dataSources, function (val, key) {\r\n                name = key.replace(/\\.children|\\.config/g, '');\r\n                component = registry.get(name);\r\n\r\n                component.cacheData();\r\n                component.updateConfig(\r\n                    true,\r\n                    this.getFullConfig(key, components),\r\n                    this.getFullConfig(key, cachedConfig[cachedKey])\r\n                );\r\n            }, this);\r\n\r\n            _.each(remove, function (val) {\r\n                component = registry.get(val.path);\r\n\r\n                if (component) {\r\n                    component.cleanData().destroy();\r\n                }\r\n            });\r\n\r\n            update = _.compact(_.filter(update, function (val) {\r\n                return !_.isEqual(val.oldValue, val.value);\r\n            }));\r\n\r\n            _.each(update, function (val) {\r\n                names = val.path.split('.');\r\n                index = Math.max(_.lastIndexOf(names, 'config'), _.lastIndexOf(names, 'children') + 2);\r\n                name = _.without(names.splice(0, index), 'children', 'config').join('.');\r\n                component = registry.get(name);\r\n\r\n                if (val.name === 'sortOrder' && component) {\r\n                    registry.get(component.parentName).insertChild(component, val.value);\r\n                } else if (component) {\r\n                    component.updateConfig(\r\n                        val.oldValue,\r\n                        val.value,\r\n                        val.path\r\n                    );\r\n                }\r\n            }, this);\r\n\r\n            run(components, undefined, true);\r\n        },\r\n\r\n        /**\r\n         * Recursive dataSource assignment.\r\n         *\r\n         * @param {Object} config\r\n         * @param {String} parentPath\r\n         * @returns {Object}\r\n         */\r\n        getDataSources: function (config, parentPath) {\r\n            var dataSources = {},\r\n                key, obj;\r\n\r\n            /* eslint-disable no-loop-func, max-depth */\r\n            for (key in config) {\r\n                if (config.hasOwnProperty(key)) {\r\n                    if (\r\n                        key === 'type' &&\r\n                        config[key] === 'dataSource' &&\r\n                        config.hasOwnProperty('config')\r\n                    ) {\r\n                        dataSources[parentPath + '.config'] = config.config;\r\n                    } else if (_.isObject(config[key])) {\r\n                        obj = this.getDataSources(config[key], utils.fullPath(parentPath, key));\r\n\r\n                        _.each(obj, function (value, path) {\r\n                            dataSources[path] = value;\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            /* eslint-enable no-loop-func, max-depth */\r\n\r\n            return dataSources;\r\n        },\r\n\r\n        /**\r\n         * Configuration getter.\r\n         *\r\n         * @param {String} path\r\n         * @param {Object} config\r\n         * @returns {Boolean|Object}\r\n         */\r\n        getFullConfig: function (path, config) {\r\n            var index;\r\n\r\n            path = path.split('.');\r\n            index = _.lastIndexOf(path, 'config');\r\n\r\n            if (!~index) {\r\n                return false;\r\n            }\r\n            path = path.splice(0, index);\r\n\r\n            _.each(path, function (val) {\r\n                config = config[val];\r\n            });\r\n\r\n            return config.config;\r\n        },\r\n\r\n        /**\r\n         * Filter data by property and value.\r\n         *\r\n         * @param {Object} data\r\n         * @param {String} prop\r\n         * @param {*} propValue\r\n         */\r\n        getByProperty: function (data, prop, propValue) {\r\n            return _.filter(data, function (value) {\r\n                return value[prop] === propValue;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Filter components.\r\n         *\r\n         * @param {Array} data\r\n         * @param {Boolean} splitPath\r\n         * @param {Number} index\r\n         * @param {String} separator\r\n         * @param {String} keyName\r\n         * @returns {Array}\r\n         */\r\n        filterComponents: function (data, splitPath, index, separator, keyName) {\r\n            var result = [],\r\n                names, length;\r\n\r\n            index = -2;\r\n            separator = '.' || separator;\r\n            keyName = 'children' || keyName;\r\n\r\n            _.each(data, function (val) {\r\n                names = val.path.split(separator);\r\n                length  = names.length;\r\n\r\n                if (names[length + index] === keyName) {\r\n                    val.path = splitPath ? _.without(names, keyName).join(separator) : val.path;\r\n                    result.push(val);\r\n                }\r\n            });\r\n\r\n            return result;\r\n        }\r\n    });\r\n\r\n    return run;\r\n});\r\n","Magento_Ui/js/core/renderer/types.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'underscore',\r\n    'mageUtils'\r\n], function (_, utils) {\r\n    'use strict';\r\n\r\n    var store = {};\r\n\r\n    /**\r\n     * Flatten a nested data.\r\n     *\r\n     * @param {Object} data\r\n     * @returns {Object}\r\n     */\r\n    function flatten(data) {\r\n        var extender = data.extends || [],\r\n            result = {};\r\n\r\n        extender = utils.stringToArray(extender);\r\n\r\n        extender.push(data);\r\n\r\n        extender.forEach(function (item) {\r\n            if (_.isString(item)) {\r\n                item = store[item] || {};\r\n            }\r\n\r\n            utils.extend(result, item);\r\n        });\r\n\r\n        delete result.extends;\r\n\r\n        return result;\r\n    }\r\n\r\n    return {\r\n        /**\r\n         * Set types to store object.\r\n         *\r\n         * @param {Object} types\r\n         */\r\n        set: function (types) {\r\n            types = types || {};\r\n\r\n            utils.extend(store, types);\r\n\r\n            _.each(types, function (data, type) {\r\n                store[type] = flatten(data);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Get type from store object.\r\n         *\r\n         * @param {String} type\r\n         * @returns {*|{}}\r\n         */\r\n        get: function (type) {\r\n            return store[type] || {};\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/dynamic-rows/action-delete.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/form/element/abstract'\r\n], function (Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            links: {\r\n                value: false\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Delete record handler.\r\n         *\r\n         * @param {Number} index\r\n         * @param {Number} id\r\n         */\r\n        deleteRecord: function (index, id) {\r\n            this.bubble('deleteRecord', index, id);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/dynamic-rows/dnd.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    'uiElement',\r\n    'Magento_Ui/js/lib/view/utils/async'\r\n], function (ko, $, _, Element) {\r\n    'use strict';\r\n\r\n    var transformProp;\r\n\r\n    /**\r\n     * Get element context\r\n     */\r\n    function getContext(elem) {\r\n        return ko.contextFor(elem);\r\n    }\r\n\r\n    /**\r\n     * Defines supported css 'transform' property.\r\n     *\r\n     * @returns {String|Undefined}\r\n     */\r\n    transformProp = (function () {\r\n        var style = document.createElement('div').style,\r\n            base = 'Transform',\r\n            vendors = ['webkit', 'moz', 'ms', 'o'],\r\n            vi = vendors.length,\r\n            property;\r\n\r\n        if (typeof style.transform !== 'undefined') {\r\n            return 'transform';\r\n        }\r\n\r\n        while (vi--) {\r\n            property = vendors[vi] + base;\r\n\r\n            if (typeof style[property] !== 'undefined') {\r\n                return property;\r\n            }\r\n        }\r\n    })();\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            separatorsClass: {\r\n                top: '_dragover-top',\r\n                bottom: '_dragover-bottom'\r\n            },\r\n            step: 'auto',\r\n            tableClass: 'table.admin__dynamic-rows',\r\n            recordsCache: [],\r\n            draggableElement: {},\r\n            draggableElementClass: '_dragged',\r\n            elemPositions: [],\r\n            listens: {\r\n                '${ $.recordsProvider }:elems': 'setCacheRecords'\r\n            },\r\n            modules: {\r\n                parentComponent: '${ $.recordsProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initialize component\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'mousemoveHandler',\r\n                'mouseupHandler'\r\n            );\r\n\r\n            this._super()\r\n                .body = $('body');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent, initializes 'options' and 'initialOptions'\r\n         *     properties, calls 'setOptions' passing options to it\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe([\r\n                    'recordsCache'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init listens to start drag\r\n         *\r\n         * @param {Object} elem - DOM element\r\n         * @param {Object} data - element data\r\n         */\r\n        initListeners: function (elem, data) {\r\n            $(elem).on('mousedown touchstart', this.mousedownHandler.bind(this, data, elem));\r\n        },\r\n\r\n        /**\r\n         * Mouse down handler\r\n         *\r\n         * @param {Object} data - element data\r\n         * @param {Object} elem - element\r\n         * @param {Object} event - key down event\r\n         */\r\n        mousedownHandler: function (data, elem, event) {\r\n            var recordNode = this.getRecordNode(elem),\r\n                originRecord = $(elem).parents('tr').eq(0),\r\n                drEl = this.draggableElement,\r\n                $table = $(elem).parents('table').eq(0),\r\n                $tableWrapper = $table.parent();\r\n\r\n            this.disableScroll();\r\n            $(recordNode).addClass(this.draggableElementClass);\r\n            $(originRecord).addClass(this.draggableElementClass);\r\n            this.step = this.step === 'auto' ? originRecord.height() / 2 : this.step;\r\n            drEl.originRow = originRecord;\r\n            drEl.instance = recordNode = this.processingStyles(recordNode, elem);\r\n            drEl.instanceCtx = this.getRecord(originRecord[0]);\r\n            drEl.eventMousedownY = this.getPageY(event);\r\n            drEl.minYpos =\r\n                $table.offset().top - originRecord.offset().top + $table.children('thead').outerHeight();\r\n            drEl.maxYpos = drEl.minYpos + $table.children('tbody').outerHeight() - originRecord.outerHeight();\r\n            $tableWrapper.append(recordNode);\r\n            this.body.bind('mousemove touchmove', this.mousemoveHandler);\r\n            this.body.bind('mouseup touchend', this.mouseupHandler);\r\n        },\r\n\r\n        /**\r\n         * Mouse move handler\r\n         *\r\n         * @param {Object} event - mouse move event\r\n         */\r\n        mousemoveHandler: function (event) {\r\n            var depEl = this.draggableElement,\r\n                pageY = this.getPageY(event),\r\n                positionY = pageY - depEl.eventMousedownY,\r\n                processingPositionY = positionY + 'px',\r\n                processingMaxYpos = depEl.maxYpos + 'px',\r\n                processingMinYpos = depEl.minYpos + 'px',\r\n                depElement = this.getDepElement(depEl.instance, positionY, depEl.originRow);\r\n\r\n            if (depElement) {\r\n                depEl.depElement ? depEl.depElement.elem.removeClass(depEl.depElement.className) : false;\r\n                depEl.depElement = depElement;\r\n                depEl.depElement.insert !== 'none' ? depEl.depElement.elem.addClass(depElement.className) : false;\r\n            } else if (depEl.depElement && depEl.depElement.insert !== 'none') {\r\n                depEl.depElement.elem.removeClass(depEl.depElement.className);\r\n                depEl.depElement.insert = 'none';\r\n            }\r\n\r\n            if (positionY > depEl.minYpos && positionY < depEl.maxYpos) {\r\n                $(depEl.instance)[0].style[transformProp] = 'translateY(' + processingPositionY + ')';\r\n            } else if (positionY < depEl.minYpos) {\r\n                $(depEl.instance)[0].style[transformProp] = 'translateY(' + processingMinYpos + ')';\r\n            } else if (positionY >= depEl.maxYpos) {\r\n                $(depEl.instance)[0].style[transformProp] = 'translateY(' + processingMaxYpos + ')';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Mouse up handler\r\n         */\r\n        mouseupHandler: function (event) {\r\n            var depElementCtx,\r\n                drEl = this.draggableElement,\r\n                pageY = this.getPageY(event),\r\n                positionY = pageY - drEl.eventMousedownY;\r\n\r\n            this.enableScroll();\r\n            drEl.depElement = this.getDepElement(drEl.instance, positionY, this.draggableElement.originRow);\r\n\r\n            drEl.instance.remove();\r\n\r\n            if (drEl.depElement) {\r\n                depElementCtx = this.getRecord(drEl.depElement.elem[0]);\r\n                drEl.depElement.elem.removeClass(drEl.depElement.className);\r\n\r\n                if (drEl.depElement.insert !== 'none') {\r\n                    this.setPosition(drEl.depElement.elem, depElementCtx, drEl);\r\n                }\r\n            }\r\n\r\n            drEl.originRow.removeClass(this.draggableElementClass);\r\n\r\n            this.body.unbind('mousemove touchmove', this.mousemoveHandler);\r\n            this.body.unbind('mouseup touchend', this.mouseupHandler);\r\n\r\n            this.draggableElement = {};\r\n        },\r\n\r\n        /**\r\n         * Set position to element\r\n         *\r\n         * @param {Object} depElem - dep element\r\n         * @param {Object} depElementCtx - dep element context\r\n         * @param {Object} dragData - data draggable element\r\n         */\r\n        setPosition: function (depElem, depElementCtx, dragData) {\r\n            var depElemPosition = ~~depElementCtx.position;\r\n\r\n            if (dragData.depElement.insert === 'after') {\r\n                dragData.instanceCtx.position = depElemPosition + 1;\r\n            } else if (dragData.depElement.insert === 'before') {\r\n                dragData.instanceCtx.position = depElemPosition;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get dependency element\r\n         *\r\n         * @param {Object} curInstance - current element instance\r\n         * @param {Number} position\r\n         * @param {Object} row\r\n         */\r\n        getDepElement: function (curInstance, position, row) {\r\n            var tableSelector = this.tableClass + ' tr',\r\n                $table = $(row).parents('table').eq(0),\r\n                $curInstance = $(curInstance),\r\n                recordsCollection = $table.find('table').length ?\r\n                    $table.find('tbody > tr').filter(function (index, elem) {\r\n                        return !$(elem).parents(tableSelector).length;\r\n                    }) :\r\n                    $table.find('tbody > tr'),\r\n                curInstancePositionTop = $curInstance.position().top,\r\n                curInstancePositionBottom = curInstancePositionTop + $curInstance.height();\r\n\r\n            if (position < 0) {\r\n                return this._getDepElement(recordsCollection, 'before', curInstancePositionTop);\r\n            } else if (position > 0) {\r\n                return this._getDepElement(recordsCollection, 'after', curInstancePositionBottom);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get dependency element private\r\n         *\r\n         * @param {Array} collection - record collection\r\n         * @param {String} position - position to add\r\n         * @param {Number} dragPosition - position drag element\r\n         */\r\n        _getDepElement: function (collection, position, dragPosition) {\r\n            var rec,\r\n                rangeEnd,\r\n                rangeStart,\r\n                result,\r\n                className,\r\n                i = 0,\r\n                length = collection.length;\r\n\r\n            for (i; i < length; i++) {\r\n                rec = collection.eq(i);\r\n\r\n                if (position === 'before') {\r\n                    rangeStart = collection.eq(i).position().top - this.step;\r\n                    rangeEnd = rangeStart + this.step * 2;\r\n                    className = this.separatorsClass.top;\r\n                } else if (position === 'after') {\r\n                    rangeEnd = rec.position().top + rec.height() + this.step;\r\n                    rangeStart = rangeEnd - this.step * 2;\r\n                    className = this.separatorsClass.bottom;\r\n                }\r\n\r\n                if (dragPosition > rangeStart && dragPosition < rangeEnd) {\r\n                    result = {\r\n                        elem: rec,\r\n                        insert: rec[0] === this.draggableElement.originRow[0] ? 'none' : position,\r\n                        className: className\r\n                    };\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Set default position of draggable element\r\n         *\r\n         * @param {Object} elem - current element instance\r\n         * @param {Object} data - current element data\r\n         */\r\n        _setDefaultPosition: function (elem, data) {\r\n            var originRecord = $(elem).parents('tr').eq(0),\r\n                position = originRecord.position();\r\n\r\n            ++position.top;\r\n            $(data).css(position);\r\n        },\r\n\r\n        /**\r\n         * Set records to cache\r\n         *\r\n         * @param {Object} records - record instance\r\n         */\r\n        setCacheRecords: function (records) {\r\n            this.recordsCache(records);\r\n        },\r\n\r\n        /**\r\n         * Set styles to draggable element\r\n         *\r\n         * @param {Object} data - data\r\n         * @param {Object} elem - elem instance\r\n         * @returns {Object} instance data.\r\n         */\r\n        processingStyles: function (data, elem) {\r\n            var table = $(elem).parents('table').eq(0),\r\n                columns = table.find('th'),\r\n                recordColumns = $(data).find('td');\r\n\r\n            this._setDefaultPosition(elem, $(data));\r\n            this._setColumnsWidth(columns, recordColumns);\r\n            this._setTableWidth(table, $(data));\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Set table width.\r\n         *\r\n         * @param {Object} originalTable - original record instance\r\n         * @param {Object} recordTable - draggable record instance\r\n         */\r\n        _setTableWidth: function (originalTable, recordTable) {\r\n            recordTable.outerWidth(originalTable.outerWidth());\r\n        },\r\n\r\n        /**\r\n         * Set columns width.\r\n         *\r\n         * @param {Object} originColumns - original record instance\r\n         * @param {Object} recordColumns - draggable record instance\r\n         */\r\n        _setColumnsWidth: function (originColumns, recordColumns) {\r\n            var i = 0,\r\n                length = originColumns.length;\r\n\r\n            for (i; i < length; i++) {\r\n                recordColumns.eq(i).outerWidth(originColumns.eq(i).outerWidth());\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get copy original record\r\n         *\r\n         * @param {Object} record - original record instance\r\n         * @returns {Object} draggable record instance\r\n         */\r\n        getRecordNode: function (record) {\r\n            var $record = $(record),\r\n                table = $record.parents('table')[0].cloneNode(true),\r\n                $table = $(table);\r\n\r\n            $table.find('tr').remove();\r\n            $table.append($record.parents('tr')[0].cloneNode(true));\r\n\r\n            return table;\r\n        },\r\n\r\n        /**\r\n         * Get record context by element\r\n         *\r\n         * @param {Object} elem - original element\r\n         * @returns {Object} draggable record context\r\n         */\r\n        getRecord: function (elem) {\r\n            var ctx = getContext(elem),\r\n                index = _.isFunction(ctx.$index) ? ctx.$index() : ctx.$index;\r\n\r\n            return this.recordsCache()[index];\r\n        },\r\n\r\n        /**\r\n         * Get correct page Y\r\n         *\r\n         * @param {Object} event - current event\r\n         * @returns {integer}\r\n         */\r\n        getPageY: function (event) {\r\n            var pageY;\r\n\r\n            if (event.type.indexOf('touch') >= 0) {\r\n                if (event.originalEvent.touches[0]) {\r\n                    pageY = event.originalEvent.touches[0].pageY;\r\n                } else {\r\n                    pageY = event.originalEvent.changedTouches[0].pageY;\r\n                }\r\n            } else {\r\n                pageY = event.pageY;\r\n            }\r\n\r\n            return pageY;\r\n        },\r\n\r\n        /**\r\n         * Disable page scrolling\r\n         */\r\n        disableScroll: function () {\r\n            document.body.addEventListener('touchmove', this.preventDefault, {\r\n                passive: false\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Enable page scrolling\r\n         */\r\n        enableScroll: function () {\r\n            document.body.removeEventListener('touchmove', this.preventDefault, {\r\n                passive: false\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Prevent default function\r\n         *\r\n         * @param {Object} event - event object\r\n         */\r\n        preventDefault: function (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n    });\r\n});\r\n","Magento_Ui/js/dynamic-rows/dynamic-rows-grid.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './dynamic-rows'\r\n], function (_, dynamicRows) {\r\n    'use strict';\r\n\r\n    return dynamicRows.extend({\r\n        defaults: {\r\n            dataProvider: '',\r\n            insertData: [],\r\n            map: null,\r\n            cacheGridData: [],\r\n            deleteProperty: false,\r\n            positionProvider: 'position',\r\n            dataLength: 0,\r\n            identificationProperty: 'id',\r\n            identificationDRProperty: 'id',\r\n            listens: {\r\n                'insertData': 'processingInsertData',\r\n                'recordData': 'initElements setToInsertData'\r\n            },\r\n            mappingSettings: {\r\n                enabled: true,\r\n                distinct: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe([\r\n                    'insertData'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set data from recordData to insertData\r\n         */\r\n        setToInsertData: function () {\r\n            var insertData = [],\r\n                obj;\r\n\r\n            if (this.recordData().length && !this.update) {\r\n                _.each(this.recordData(), function (recordData) {\r\n                    obj = {};\r\n                    obj[this.map[this.identificationProperty]] = recordData[this.identificationProperty];\r\n                    insertData.push(obj);\r\n                }, this);\r\n\r\n                if (insertData.length) {\r\n                    this.source.set(this.dataProvider, insertData);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initialize children\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initChildren: function () {\r\n            this.getChildItems().forEach(function (data, index) {\r\n                this.processingAddChild(data, this.startIndex + index, data[this.identificationDRProperty]);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initialize elements from grid\r\n         *\r\n         * @param {Array} data\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initElements: function (data) {\r\n            var newData = this.getNewData(data);\r\n\r\n            this.parsePagesData(data);\r\n\r\n            if (newData.length) {\r\n                if (this.insertData().length) {\r\n                    this.processingAddChild(newData[0], data.length - 1, newData[0][this.identificationProperty]);\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Delete record instance\r\n         * update data provider dataScope\r\n         *\r\n         * @param {String|Number} index - record index\r\n         * @param {String|Number} recordId\r\n         */\r\n        deleteRecord: function (index, recordId) {\r\n            this.updateInsertData(recordId);\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Updates insertData when record is deleted\r\n         *\r\n         * @param {String|Number} recordId\r\n         */\r\n        updateInsertData: function (recordId) {\r\n            var data = this.getElementData(this.insertData(), recordId),\r\n            prop = this.map[this.identificationDRProperty];\r\n\r\n            this.insertData(_.reject(this.source.get(this.dataProvider), function (recordData) {\r\n                return recordData[prop].toString() === data[prop].toString();\r\n            }, this));\r\n        },\r\n\r\n        /**\r\n         * Find data object by index\r\n         *\r\n         * @param {Array} array - data collection\r\n         * @param {Number} index - element index\r\n         * @param {String} property - to find by property\r\n         *\r\n         * @returns {Object} data object\r\n         */\r\n        getElementData: function (array, index, property) {\r\n            var obj = {},\r\n                result;\r\n\r\n            property ? obj[property] = index : obj[this.map[this.identificationDRProperty]] = index;\r\n            result = _.findWhere(array, obj);\r\n\r\n            if (!result) {\r\n                property ?\r\n                    obj[property] = index.toString() :\r\n                    obj[this.map[this.identificationDRProperty]] = index.toString();\r\n            }\r\n\r\n            result = _.findWhere(array, obj);\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Processing pages before addChild\r\n         *\r\n         * @param {Object} ctx - element context\r\n         * @param {Number|String} index - element index\r\n         * @param {Number|String} prop - additional property to element\r\n         */\r\n        processingAddChild: function (ctx, index, prop) {\r\n            if (this._elems.length > this.pageSize) {\r\n                return false;\r\n            }\r\n\r\n            this.showSpinner(true);\r\n            this.addChild(ctx, index, prop);\r\n        },\r\n\r\n        /**\r\n         * Contains old data with new\r\n         *\r\n         * @param {Array} data\r\n         *\r\n         * @returns {Array} changed data\r\n         */\r\n        getNewData: function (data) {\r\n            var changes = [],\r\n                tmpObj = {};\r\n\r\n            if (data.length !== this.relatedData.length) {\r\n                _.each(data, function (obj) {\r\n                    tmpObj[this.identificationDRProperty] = obj[this.identificationDRProperty];\r\n\r\n                    if (!_.findWhere(this.relatedData, tmpObj)) {\r\n                        changes.push(obj);\r\n                    }\r\n                }, this);\r\n            }\r\n\r\n            return changes;\r\n        },\r\n\r\n        /**\r\n         * Processing insert data\r\n         *\r\n         * @param {Object} data\r\n         */\r\n        processingInsertData: function (data) {\r\n            var changes,\r\n                obj = {};\r\n\r\n            changes = this._checkGridData(data);\r\n            this.cacheGridData = data;\r\n\r\n            if (changes.length) {\r\n                obj[this.identificationDRProperty] = changes[0][this.map[this.identificationProperty]];\r\n\r\n                if (_.findWhere(this.recordData(), obj)) {\r\n                    return false;\r\n                }\r\n\r\n                changes.forEach(function (changedObject) {\r\n                    this.mappingValue(changedObject);\r\n                }, this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Mapping value from grid\r\n         *\r\n         * @param {Array} data\r\n         */\r\n        mappingValue: function (data) {\r\n            var obj = {},\r\n                tmpObj = {};\r\n\r\n            if (this.mappingSettings.enabled) {\r\n                _.each(this.map, function (prop, index) {\r\n                    obj[index] = !_.isUndefined(data[prop]) ? data[prop] : '';\r\n                }, this);\r\n            } else {\r\n                obj = data;\r\n            }\r\n\r\n            if (this.mappingSettings.distinct) {\r\n                tmpObj[this.identificationDRProperty] = obj[this.identificationDRProperty];\r\n\r\n                if (_.findWhere(this.recordData(), tmpObj)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            if (!obj.hasOwnProperty(this.positionProvider)) {\r\n                this.setMaxPosition();\r\n                obj[this.positionProvider] = this.maxPosition;\r\n            }\r\n\r\n            this.source.set(this.dataScope + '.' + this.index + '.' + this.recordData().length, obj);\r\n        },\r\n\r\n        /**\r\n         * Check changed records\r\n         *\r\n         * @param {Array} data - array with records data\r\n         * @returns {Array} Changed records\r\n         */\r\n        _checkGridData: function (data) {\r\n            var cacheLength = this.cacheGridData.length,\r\n                curData = data.length,\r\n                max = cacheLength > curData ? this.cacheGridData : data,\r\n                changes = [],\r\n                obj = {};\r\n\r\n            max.forEach(function (record, index) {\r\n                obj[this.map[this.identificationDRProperty]] = record[this.map[this.identificationDRProperty]];\r\n\r\n                if (!_.where(this.cacheGridData, obj).length) {\r\n                    changes.push(data[index]);\r\n                }\r\n            }, this);\r\n\r\n            return changes;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/dynamic-rows/dynamic-rows.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'mageUtils',\r\n    'underscore',\r\n    'uiLayout',\r\n    'uiCollection',\r\n    'uiRegistry',\r\n    'mage/translate'\r\n], function (ko, utils, _, layout, uiCollection, registry, $t) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Checks value type and cast to boolean if needed\r\n     *\r\n     * @param {*} value\r\n     *\r\n     * @returns {Boolean|*} casted or origin value\r\n     */\r\n    function castValue(value) {\r\n        if (_.isUndefined(value) || value === '' || _.isNull(value)) {\r\n            return false;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Compares arrays.\r\n     *\r\n     * @param {Array} base - array as method bases its decision on first argument.\r\n     * @param {Array} current - second array\r\n     *\r\n     * @returns {Boolean} result - is current array equal to base array\r\n     */\r\n    function compareArrays(base, current) {\r\n        var index = 0,\r\n            length = base.length;\r\n\r\n        if (base.length !== current.length) {\r\n            return false;\r\n        }\r\n\r\n        /*eslint-disable max-depth, eqeqeq, no-use-before-define */\r\n        for (index; index < length; index++) {\r\n            if (_.isArray(base[index]) && _.isArray(current[index])) {\r\n                if (!compareArrays(base[index], current[index])) {\r\n                    return false;\r\n                }\r\n            } else if (typeof base[index] === 'object' && typeof current[index] === 'object') {\r\n                if (!compareObjects(base[index], current[index])) {\r\n                    return false;\r\n                }\r\n            } else if (castValue(base[index]) != castValue(current[index])) {\r\n                return false;\r\n            }\r\n        }/*eslint-enable max-depth, eqeqeq, no-use-before-define */\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Compares objects. Compares only properties from origin object,\r\n     * if current object has more properties - they are not considered\r\n     *\r\n     * @param {Object} base - first object\r\n     * @param {Object} current - second object\r\n     *\r\n     * @returns {Boolean} result - is current object equal to base object\r\n     */\r\n    function compareObjects(base, current) {\r\n        var prop;\r\n\r\n        /*eslint-disable max-depth, eqeqeq*/\r\n        for (prop in base) {\r\n            if (_.isArray(base[prop]) && _.isArray(current[prop])) {\r\n                if (!compareArrays(base[prop], current[prop])) {\r\n                    return false;\r\n                }\r\n            } else if (typeof base[prop] === 'object' && typeof current[prop] === 'object') {\r\n                if (!compareObjects(base[prop], current[prop])) {\r\n                    return false;\r\n                }\r\n            } else if (castValue(base[prop]) != castValue(current[prop])) {\r\n                return false;\r\n            }\r\n        }/*eslint-enable max-depth, eqeqeq */\r\n\r\n        return true;\r\n    }\r\n\r\n    return uiCollection.extend({\r\n        defaults: {\r\n            defaultRecord: false,\r\n            columnsHeader: true,\r\n            columnsHeaderAfterRender: false,\r\n            columnsHeaderClasses: '',\r\n            labels: [],\r\n            recordTemplate: 'record',\r\n            collapsibleHeader: false,\r\n            additionalClasses: {},\r\n            visible: true,\r\n            disabled: false,\r\n            fit: false,\r\n            addButton: true,\r\n            addButtonLabel: $t('Add'),\r\n            recordData: [],\r\n            maxPosition: 0,\r\n            deleteProperty: 'delete',\r\n            identificationProperty: 'record_id',\r\n            deleteValue: true,\r\n            showSpinner: true,\r\n            isDifferedFromDefault: false,\r\n            defaultState: [],\r\n            defaultPagesState: {},\r\n            pagesChanged: {},\r\n            hasInitialPagesState: {},\r\n            changed: false,\r\n            fallbackResetTpl: 'ui/form/element/helper/fallback-reset-link',\r\n            dndConfig: {\r\n                name: '${ $.name }_dnd',\r\n                component: 'Magento_Ui/js/dynamic-rows/dnd',\r\n                template: 'ui/dynamic-rows/cells/dnd',\r\n                recordsProvider: '${ $.name }',\r\n                enabled: true\r\n            },\r\n            templates: {\r\n                record: {\r\n                    parent: '${ $.$data.collection.name }',\r\n                    name: '${ $.$data.index }',\r\n                    dataScope: '${ $.$data.collection.index }.${ $.name }',\r\n                    nodeTemplate: '${ $.parent }.${ $.$data.collection.recordTemplate }'\r\n                }\r\n            },\r\n            links: {\r\n                recordData: '${ $.provider }:${ $.dataScope }.${ $.index }'\r\n            },\r\n            listens: {\r\n                visible: 'setVisible',\r\n                disabled: 'setDisabled',\r\n                childTemplate: 'initHeader',\r\n                recordTemplate: 'onUpdateRecordTemplate',\r\n                recordData: 'setDifferedFromDefault parsePagesData setRecordDataToCache',\r\n                currentPage: 'changePage',\r\n                elems: 'checkSpinner',\r\n                changed: 'updateTrigger'\r\n            },\r\n            modules: {\r\n                dnd: '${ $.dndConfig.name }'\r\n            },\r\n            pages: 1,\r\n            pageSize: 20,\r\n            relatedData: [],\r\n            currentPage: 1,\r\n            recordDataCache: [],\r\n            startIndex: 0\r\n        },\r\n\r\n        /**\r\n         * Sets record data to cache\r\n         */\r\n        setRecordDataToCache: function (data) {\r\n            this.recordDataCache = data;\r\n        },\r\n\r\n        /**\r\n         * Extends instance with default config, calls initialize of parent\r\n         * class, calls initChildren method, set observe variable.\r\n         * Use parent \"track\" method - wrapper observe array\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this,\r\n                'processingDeleteRecord',\r\n                'onChildrenUpdate',\r\n                'checkDefaultState',\r\n                'renderColumnsHeader',\r\n                'deleteHandler',\r\n                'setDefaultState'\r\n            );\r\n\r\n            this._super()\r\n                .initChildren()\r\n                .initDnd()\r\n                .initDefaultRecord()\r\n                .setInitialProperty()\r\n                .setColumnsHeaderListener()\r\n                .checkSpinner();\r\n\r\n            this.on('recordData', this.checkDefaultState);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        bubble: function (event) {\r\n            if (event === 'deleteRecord' || event === 'update') {\r\n                return false;\r\n            }\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Inits DND module\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initDnd: function () {\r\n            if (this.dndConfig.enabled) {\r\n                layout([this.dndConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        destroy: function () {\r\n            if (this.dnd()) {\r\n                this.dnd().destroy();\r\n            }\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('childTemplate')\r\n                .observe([\r\n                    'pages',\r\n                    'currentPage',\r\n                    'recordData',\r\n                    'columnsHeader',\r\n                    'visible',\r\n                    'disabled',\r\n                    'labels',\r\n                    'showSpinner',\r\n                    'isDifferedFromDefault',\r\n                    'changed'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initElement: function (elem) {\r\n            this._super();\r\n            elem.on({\r\n                'deleteRecord': this.deleteHandler,\r\n                'update': this.onChildrenUpdate,\r\n                'addChild': this.setDefaultState\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Handler for deleteRecord event\r\n         *\r\n         * @param {Number|String} index - element index\r\n         * @param {Number|String} id\r\n         */\r\n        deleteHandler: function (index, id) {\r\n            var defaultState;\r\n\r\n            this.setDefaultState();\r\n            defaultState = this.defaultPagesState[this.currentPage()];\r\n            this.processingDeleteRecord(index, id);\r\n            this.pagesChanged[this.currentPage()] =\r\n                !compareArrays(defaultState, this.arrayFilter(this.getChildItems()));\r\n            this.changed(_.some(this.pagesChanged));\r\n        },\r\n\r\n        /**\r\n         * Set initial property to records data\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        setInitialProperty: function () {\r\n            if (_.isArray(this.recordData())) {\r\n                this.recordData.each(function (data, index) {\r\n                    this.source.set(this.dataScope + '.' + this.index + '.' + index + '.initialize', true);\r\n                }, this);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Handler for update event\r\n         *\r\n         * @param {Boolean} state\r\n         */\r\n        onChildrenUpdate: function (state) {\r\n            var changed,\r\n                dataScope,\r\n                changedElemDataScope;\r\n\r\n            if (state && !this.hasInitialPagesState[this.currentPage()]) {\r\n                this.setDefaultState();\r\n                changed = this.getChangedElems(this.elems());\r\n                dataScope = this.elems()[0].dataScope.split('.');\r\n                dataScope.splice(dataScope.length - 1, 1);\r\n                changed.forEach(function (elem) {\r\n                    changedElemDataScope = elem.dataScope.split('.');\r\n                    changedElemDataScope.splice(0, dataScope.length);\r\n                    changedElemDataScope[0] =\r\n                        (parseInt(changedElemDataScope[0], 10) - this.pageSize * (this.currentPage() - 1)).toString();\r\n                    this.setValueByPath(\r\n                        this.defaultPagesState[this.currentPage()],\r\n                        changedElemDataScope, elem.initialValue\r\n                    );\r\n                }, this);\r\n            }\r\n\r\n            if (this.defaultPagesState[this.currentPage()]) {\r\n                this.setChangedForCurrentPage();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set default dynamic-rows state or state before changing data\r\n         *\r\n         * @param {Array} data - defaultState data\r\n         */\r\n        setDefaultState: function (data) {\r\n            var componentData,\r\n                childItems;\r\n\r\n            if (!this.hasInitialPagesState[this.currentPage()]) {\r\n                childItems = this.getChildItems();\r\n                componentData = childItems.length ?\r\n                    utils.copy(childItems) :\r\n                    utils.copy(this.getChildItems(this.recordDataCache));\r\n                componentData.forEach(function (dataObj) {\r\n                    if (dataObj.hasOwnProperty('initialize')) {\r\n                        delete dataObj.initialize;\r\n                    }\r\n                });\r\n\r\n                this.hasInitialPagesState[this.currentPage()] = true;\r\n                this.defaultPagesState[this.currentPage()] = data ? data : this.arrayFilter(componentData);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets value to object by string path\r\n         *\r\n         * @param {Object} obj\r\n         * @param {Array|String} path\r\n         * @param {*} value\r\n         */\r\n        setValueByPath: function (obj, path, value) {\r\n            var prop;\r\n\r\n            if (_.isString(path)) {\r\n                path = path.split('.');\r\n            }\r\n\r\n            if (path.length - 1) {\r\n                prop = obj[path[0]];\r\n                path.splice(0, 1);\r\n                this.setValueByPath(prop, path, value);\r\n            } else if (path.length && obj) {\r\n                obj[path[0]] = value;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns elements which changed self state\r\n         *\r\n         * @param {Array} array - data array\r\n         * @param {Array} changed - array with changed elements\r\n         * @returns {Array} changed - array with changed elements\r\n         */\r\n        getChangedElems: function (array, changed) {\r\n            changed = changed || [];\r\n\r\n            array.forEach(function (elem) {\r\n                if (_.isFunction(elem.elems)) {\r\n                    this.getChangedElems(elem.elems(), changed);\r\n                } else if (_.isFunction(elem.hasChanged) && elem.hasChanged()) {\r\n                    changed.push(elem);\r\n                }\r\n            }, this);\r\n\r\n            return changed;\r\n        },\r\n\r\n        /**\r\n         * Checks columnsHeaderAfterRender property,\r\n         * and set listener on elems if needed\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        setColumnsHeaderListener: function () {\r\n            if (this.columnsHeaderAfterRender) {\r\n                this.on('recordData', this.renderColumnsHeader);\r\n\r\n                if (_.isArray(this.recordData()) && this.recordData().length) {\r\n                    this.renderColumnsHeader();\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks whether component's state is default or not\r\n         */\r\n        checkDefaultState: function () {\r\n            var isRecordDataArray = _.isArray(this.recordData()),\r\n                initialize,\r\n                hasNotDefaultRecords = isRecordDataArray ? !!this.recordData().filter(function (data) {\r\n                    return !data.initialize;\r\n                }).length : false;\r\n\r\n            if (!this.hasInitialPagesState[this.currentPage()] && isRecordDataArray && hasNotDefaultRecords) {\r\n                this.hasInitialPagesState[this.currentPage()] = true;\r\n                this.defaultPagesState[this.currentPage()] = utils.copy(this.getChildItems().filter(function (data) {\r\n                    initialize = data.initialize;\r\n                    delete data.initialize;\r\n\r\n                    return initialize;\r\n                }));\r\n\r\n                this.setChangedForCurrentPage();\r\n            } else if (this.hasInitialPagesState[this.currentPage()]) {\r\n                this.setChangedForCurrentPage();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Filters out deleted items from array\r\n         *\r\n         * @param {Array} data\r\n         *\r\n         * @returns {Array} filtered array\r\n         */\r\n        arrayFilter: function (data) {\r\n            var prop;\r\n\r\n            /*eslint-disable no-loop-func*/\r\n            data.forEach(function (elem) {\r\n                for (prop in elem) {\r\n                    if (_.isArray(elem[prop])) {\r\n                        elem[prop] = _.filter(elem[prop], function (elemProp) {\r\n                            return elemProp[this.deleteProperty] !== this.deleteValue;\r\n                        }, this);\r\n\r\n                        elem[prop].forEach(function (elemProp) {\r\n                            if (_.isArray(elemProp)) {\r\n                                elem[prop] = this.arrayFilter(elemProp);\r\n                            }\r\n                        }, this);\r\n                    }\r\n                }\r\n            }, this);\r\n\r\n            /*eslint-enable no-loop-func*/\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Triggers update event\r\n         *\r\n         * @param {Boolean} val\r\n         */\r\n        updateTrigger: function (val) {\r\n            this.trigger('update', val);\r\n        },\r\n\r\n        /**\r\n         * Returns component state\r\n         */\r\n        hasChanged: function () {\r\n            return this.changed();\r\n        },\r\n\r\n        /**\r\n         * Render column header\r\n         */\r\n        renderColumnsHeader: function () {\r\n            this.recordData().length ? this.columnsHeader(true) : this.columnsHeader(false);\r\n        },\r\n\r\n        /**\r\n         * Init default record\r\n         *\r\n         * @returns Chainable.\r\n         */\r\n        initDefaultRecord: function () {\r\n            if (this.defaultRecord && !this.recordData().length) {\r\n                this.addChild();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Create header template\r\n         *\r\n         * @param {Object} prop - instance obj\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        createHeaderTemplate: function (prop) {\r\n            var visible = prop.visible !== false,\r\n                disabled = _.isUndefined(prop.disabled) ? this.disabled() : prop.disabled;\r\n\r\n            return {\r\n                visible: ko.observable(visible),\r\n                disabled: ko.observable(disabled)\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Init header elements\r\n         */\r\n        initHeader: function () {\r\n            var labels = [],\r\n                data;\r\n\r\n            if (!this.labels().length) {\r\n                _.each(this.childTemplate.children, function (cell) {\r\n                    data = this.createHeaderTemplate(cell.config);\r\n                    cell.config.labelVisible = false;\r\n                    _.extend(data, {\r\n                        label: cell.config.label,\r\n                        name: cell.name,\r\n                        required: !!cell.config.validation,\r\n                        columnsHeaderClasses: cell.config.columnsHeaderClasses,\r\n                        sortOrder: cell.config.sortOrder\r\n                    });\r\n                    labels.push(data);\r\n                }, this);\r\n                this.labels(_.sortBy(labels, 'sortOrder'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set max element position\r\n         *\r\n         * @param {Number} position - element position\r\n         * @param {Object} elem - instance\r\n         */\r\n        setMaxPosition: function (position, elem) {\r\n            if (position || position === 0) {\r\n                this.checkMaxPosition(position);\r\n                this.sort(position, elem);\r\n            } else {\r\n                this.maxPosition += 1;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sort element by position\r\n         *\r\n         * @param {Number} position - element position\r\n         * @param {Object} elem - instance\r\n         */\r\n        sort: function (position, elem) {\r\n            var that = this,\r\n                sorted,\r\n                updatedCollection;\r\n\r\n            if (this.elems().filter(function (el) {\r\n                    return el.position || el.position === 0;\r\n                }).length !== this.getChildItems().length) {\r\n\r\n                return false;\r\n            }\r\n\r\n            if (!elem.containers.length) {\r\n                registry.get(elem.name, function () {\r\n                    that.sort(position, elem);\r\n                });\r\n\r\n                return false;\r\n            }\r\n\r\n            sorted = this.elems().sort(function (propOne, propTwo) {\r\n                return ~~propOne.position - ~~propTwo.position;\r\n            });\r\n\r\n            updatedCollection = this.updatePosition(sorted, position, elem.name);\r\n            this.elems(updatedCollection);\r\n        },\r\n\r\n        /**\r\n         * Checking loader visibility\r\n         *\r\n         * @param {Array} elems\r\n         */\r\n        checkSpinner: function (elems) {\r\n            this.showSpinner(!(!this.recordData().length || elems && elems.length === this.getChildItems().length));\r\n        },\r\n\r\n        /**\r\n         * Filtering data and calculates the quantity of pages\r\n         *\r\n         * @param {Array} data\r\n         */\r\n        parsePagesData: function (data) {\r\n            var pages;\r\n\r\n            this.relatedData = this.deleteProperty ?\r\n                _.filter(data, function (elem) {\r\n                    return elem && elem[this.deleteProperty] !== this.deleteValue;\r\n                }, this) : data;\r\n\r\n            pages = Math.ceil(this.relatedData.length / this.pageSize) || 1;\r\n            this.pages(pages);\r\n        },\r\n\r\n        /**\r\n         * Reinit record data in order to remove deleted values\r\n         *\r\n         * @return void\r\n         */\r\n        reinitRecordData: function () {\r\n            this.recordData(\r\n                _.filter(this.recordData(), function (elem) {\r\n                    return elem && elem[this.deleteProperty] !== this.deleteValue;\r\n                }, this)\r\n            );\r\n        },\r\n\r\n        /**\r\n         * Get items to rendering on current page\r\n         *\r\n         * @returns {Array} data\r\n         */\r\n        getChildItems: function (data, page) {\r\n            var dataRecord = data || this.relatedData,\r\n                startIndex;\r\n\r\n            this.startIndex = (~~this.currentPage() - 1) * this.pageSize;\r\n\r\n            startIndex = page || this.startIndex;\r\n\r\n            return dataRecord.slice(startIndex, this.startIndex + this.pageSize);\r\n        },\r\n\r\n        /**\r\n         * Get record count with filtered delete property.\r\n         *\r\n         * @returns {Number} count\r\n         */\r\n        getRecordCount: function () {\r\n            return _.filter(this.recordData(), function (record) {\r\n                return record && record[this.deleteProperty] !== this.deleteValue;\r\n            }, this).length;\r\n        },\r\n\r\n        /**\r\n         * Get number of columns\r\n         *\r\n         * @returns {Number} columns\r\n         */\r\n        getColumnsCount: function () {\r\n            return this.labels().length + (this.dndConfig.enabled ? 1 : 0);\r\n        },\r\n\r\n        /**\r\n         * Processing pages before addChild\r\n         *\r\n         * @param {Object} ctx - element context\r\n         * @param {Number|String} index - element index\r\n         * @param {Number|String} prop - additional property to element\r\n         */\r\n        processingAddChild: function (ctx, index, prop) {\r\n            this.bubble('addChild', false);\r\n\r\n            if (this.relatedData.length && this.relatedData.length % this.pageSize === 0) {\r\n                this.pages(this.pages() + 1);\r\n                this.nextPage();\r\n            } else if (~~this.currentPage() !== this.pages()) {\r\n                this.currentPage(this.pages());\r\n            }\r\n\r\n            this.addChild(ctx, index, prop);\r\n        },\r\n\r\n        /**\r\n         * Processing pages before deleteRecord\r\n         *\r\n         * @param {Number|String} index - element index\r\n         * @param {Number|String} recordId\r\n         */\r\n        processingDeleteRecord: function (index, recordId) {\r\n            this.deleteRecord(index, recordId);\r\n        },\r\n\r\n        /**\r\n         * Change page\r\n         *\r\n         * @param {Number} page - current page\r\n         */\r\n        changePage: function (page) {\r\n            this.clear();\r\n\r\n            if (page === 1 && !this.recordData().length) {\r\n                return false;\r\n            }\r\n\r\n            if (~~page > this.pages()) {\r\n                this.currentPage(this.pages());\r\n\r\n                return false;\r\n            } else if (~~page < 1) {\r\n                this.currentPage(1);\r\n\r\n                return false;\r\n            }\r\n\r\n            this.initChildren();\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Check page\r\n         *\r\n         * @returns {Boolean} is page first or not\r\n         */\r\n        isFirst: function () {\r\n            return this.currentPage() === 1;\r\n        },\r\n\r\n        /**\r\n         * Check page\r\n         *\r\n         * @returns {Boolean} is page last or not\r\n         */\r\n        isLast: function () {\r\n            return this.currentPage() === this.pages();\r\n        },\r\n\r\n        /**\r\n         * Change page to next\r\n         */\r\n        nextPage: function () {\r\n            this.currentPage(this.currentPage() + 1);\r\n        },\r\n\r\n        /**\r\n         * Change page to previous\r\n         */\r\n        previousPage: function () {\r\n            this.currentPage(this.currentPage() - 1);\r\n        },\r\n\r\n        /**\r\n         * Check dependency and set position to elements\r\n         *\r\n         * @param {Array} collection - elems\r\n         * @param {Number} position - current position\r\n         * @param {String} elemName - element name\r\n         *\r\n         * @returns {Array} collection\r\n         */\r\n        updatePosition: function (collection, position, elemName) {\r\n            var curPos,\r\n                parsePosition = ~~position,\r\n                result = _.filter(collection, function (record) {\r\n                    return ~~record.position === parsePosition;\r\n                });\r\n\r\n            if (result[1]) {\r\n                curPos = parsePosition + 1;\r\n                result[0].name === elemName ? result[1].position = curPos : result[0].position = curPos;\r\n                this.updatePosition(collection, curPos);\r\n            }\r\n\r\n            return collection;\r\n        },\r\n\r\n        /**\r\n         * Check max elements position and set if max\r\n         *\r\n         * @param {Number} position - current position\r\n         */\r\n        checkMaxPosition: function (position) {\r\n            var max = 0,\r\n                pos;\r\n\r\n            this.elems.each(function (record) {\r\n                pos = ~~record.position;\r\n                pos > max ? max = pos : false;\r\n            });\r\n\r\n            max < position ? max = position : false;\r\n            this.maxPosition = max;\r\n        },\r\n\r\n        /**\r\n         * Remove and set new max position\r\n         */\r\n        removeMaxPosition: function () {\r\n            this.maxPosition = 0;\r\n            this.elems.each(function (record) {\r\n                this.maxPosition < record.position ? this.maxPosition = ~~record.position : false;\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Update record template and rerender elems\r\n         *\r\n         * @param {String} recordName - record name\r\n         */\r\n        onUpdateRecordTemplate: function (recordName) {\r\n            if (recordName) {\r\n                this.recordTemplate = recordName;\r\n                this.reload();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Delete record\r\n         *\r\n         * @param {Number} index - row index\r\n         *\r\n         */\r\n        deleteRecord: function (index, recordId) {\r\n            var recordInstance,\r\n                lastRecord,\r\n                recordsData,\r\n                lastRecordIndex;\r\n\r\n            if (this.deleteProperty) {\r\n                recordsData = this.recordData();\r\n                recordInstance = _.find(this.elems(), function (elem) {\r\n                    return elem.index === index;\r\n                });\r\n                recordInstance.destroy();\r\n                this.elems([]);\r\n                this._updateCollection();\r\n                this.removeMaxPosition();\r\n                recordsData[recordInstance.index][this.deleteProperty] = this.deleteValue;\r\n                this.recordData(recordsData);\r\n                this.reinitRecordData();\r\n                this.reload();\r\n            } else {\r\n                this.update = true;\r\n\r\n                if (~~this.currentPage() === this.pages()) {\r\n                    lastRecordIndex = this.startIndex + this.getChildItems().length - 1;\r\n                    lastRecord =\r\n                        _.findWhere(this.elems(), {\r\n                            index: lastRecordIndex\r\n                        }) ||\r\n                        _.findWhere(this.elems(), {\r\n                            index: lastRecordIndex.toString()\r\n                        });\r\n\r\n                    lastRecord.destroy();\r\n                }\r\n\r\n                this.removeMaxPosition();\r\n                recordsData = this._getDataByProp(recordId);\r\n                this._updateData(recordsData);\r\n                this.update = false;\r\n            }\r\n\r\n            this._reducePages();\r\n            this._sort();\r\n        },\r\n\r\n        /**\r\n         * Reduce the number of pages\r\n         *\r\n         * @private\r\n         * @return void\r\n         */\r\n        _reducePages: function () {\r\n            if (this.pages() < ~~this.currentPage()) {\r\n                this.currentPage(this.pages());\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get data object by some property\r\n         *\r\n         * @param {Number} id - element id\r\n         * @param {String} prop - property\r\n         */\r\n        _getDataByProp: function (id, prop) {\r\n            prop = prop || this.identificationProperty;\r\n\r\n            return _.reject(this.getChildItems(), function (recordData) {\r\n                return recordData[prop].toString() === id.toString();\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Sort elems by position property\r\n         */\r\n        _sort: function () {\r\n            this.elems(this.elems().sort(function (propOne, propTwo) {\r\n                return ~~propOne.position - ~~propTwo.position;\r\n            }));\r\n        },\r\n\r\n        /**\r\n         * Set new data to dataSource,\r\n         * delete element\r\n         *\r\n         * @param {Array} data - record data\r\n         */\r\n        _updateData: function (data) {\r\n            var elems = _.clone(this.elems()),\r\n                path,\r\n                dataArr;\r\n\r\n            dataArr = this.recordData.splice(this.startIndex, this.recordData().length - this.startIndex);\r\n            dataArr.splice(0, this.pageSize);\r\n            elems = _.sortBy(this.elems(), function (elem) {\r\n                return ~~elem.index;\r\n            });\r\n\r\n            data.concat(dataArr).forEach(function (rec, idx) {\r\n                if (elems[idx]) {\r\n                    elems[idx].recordId = rec[this.identificationProperty];\r\n                }\r\n\r\n                if (!rec.position) {\r\n                    rec.position = this.maxPosition;\r\n                    this.setMaxPosition();\r\n                }\r\n\r\n                path = this.dataScope + '.' + this.index + '.' + (this.startIndex + idx);\r\n                this.source.set(path, rec);\r\n            }, this);\r\n\r\n            this.elems(elems);\r\n        },\r\n\r\n        /**\r\n         * Rerender dynamic-rows elems\r\n         */\r\n        reload: function () {\r\n            this.clear();\r\n            this.initChildren(false, true);\r\n        },\r\n\r\n        /**\r\n         * Destroy all dynamic-rows elems\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.destroyChildren();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Reset data to initial value.\r\n         * Call method reset on child elements.\r\n         */\r\n        reset: function () {\r\n            var elems = this.elems();\r\n\r\n            _.each(elems, function (elem) {\r\n                if (_.isFunction(elem.reset)) {\r\n                    elem.reset();\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Set classes\r\n         *\r\n         * @param {Object} data\r\n         *\r\n         * @returns {Object} Classes\r\n         */\r\n        setClasses: function (data) {\r\n            var additional;\r\n\r\n            if (_.isString(data.additionalClasses)) {\r\n                additional = data.additionalClasses.split(' ');\r\n                data.additionalClasses = {};\r\n\r\n                additional.forEach(function (name) {\r\n                    data.additionalClasses[name] = true;\r\n                });\r\n            }\r\n\r\n            if (!data.additionalClasses) {\r\n                data.additionalClasses = {};\r\n            }\r\n\r\n            _.extend(data.additionalClasses, {\r\n                '_fit': data.fit,\r\n                '_required': data.required,\r\n                '_error': data.error,\r\n                '_empty': !this.elems().length,\r\n                '_no-header': this.columnsHeaderAfterRender || this.collapsibleHeader\r\n            });\r\n\r\n            return data.additionalClasses;\r\n        },\r\n\r\n        /**\r\n         * Initialize children\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initChildren: function () {\r\n            this.showSpinner(true);\r\n            this.getChildItems().forEach(function (data, index) {\r\n                this.addChild(data, this.startIndex + index);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set visibility to dynamic-rows child\r\n         *\r\n         * @param {Boolean} state\r\n         */\r\n        setVisible: function (state) {\r\n            this.elems.each(function (record) {\r\n                record.setVisible(state);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Set disabled property to dynamic-rows child\r\n         *\r\n         * @param {Boolean} state\r\n         */\r\n        setDisabled: function (state) {\r\n            this.elems.each(function (record) {\r\n                record.setDisabled(state);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Set visibility to column\r\n         *\r\n         * @param {Number} index - column index\r\n         * @param {Boolean} state\r\n         */\r\n        setVisibilityColumn: function (index, state) {\r\n            this.elems.each(function (record) {\r\n                record.setVisibilityColumn(index, state);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Set disabled property to column\r\n         *\r\n         * @param {Number} index - column index\r\n         * @param {Boolean} state\r\n         */\r\n        setDisabledColumn: function (index, state) {\r\n            this.elems.each(function (record) {\r\n                record.setDisabledColumn(index, state);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Add child components\r\n         *\r\n         * @param {Object} data - component data\r\n         * @param {Number} index - record(row) index\r\n         * @param {Number|String} prop - custom identify property\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        addChild: function (data, index, prop) {\r\n            var template = this.templates.record,\r\n                child;\r\n\r\n            index = index || _.isNumber(index) ? index : this.recordData().length;\r\n            prop = prop || _.isNumber(prop) ? prop : index;\r\n\r\n            _.extend(this.templates.record, {\r\n                recordId: prop\r\n            });\r\n\r\n            child = utils.template(template, {\r\n                collection: this,\r\n                index: index\r\n            });\r\n\r\n            layout([child]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Restore value to default\r\n         */\r\n        restoreToDefault: function () {\r\n            this.recordData(utils.copy(this.default));\r\n            this.reload();\r\n        },\r\n\r\n        /**\r\n         * Update whether value differs from default value\r\n         */\r\n        setDifferedFromDefault: function () {\r\n            var recordData = utils.copy(this.recordData());\r\n\r\n            Array.isArray(recordData) && recordData.forEach(function (item) {\r\n                delete item['record_id'];\r\n            });\r\n\r\n            this.isDifferedFromDefault(!_.isEqual(recordData, this.default));\r\n        },\r\n\r\n        /**\r\n         * Set the changed property if the current page is different\r\n         * than the default state\r\n         *\r\n         * @return void\r\n         */\r\n        setChangedForCurrentPage: function () {\r\n            this.pagesChanged[this.currentPage()] =\r\n                !compareArrays(this.defaultPagesState[this.currentPage()], this.arrayFilter(this.getChildItems()));\r\n            this.changed(_.some(this.pagesChanged));\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/dynamic-rows/record.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiCollection',\r\n    'uiRegistry'\r\n], function (_, uiCollection, registry) {\r\n    'use strict';\r\n\r\n    return uiCollection.extend({\r\n        defaults: {\r\n            visible: true,\r\n            disabled: true,\r\n            headerLabel: '',\r\n            label: '',\r\n            positionProvider: 'position',\r\n            imports: {\r\n                data: '${ $.provider }:${ $.dataScope }'\r\n            },\r\n            listens: {\r\n                position: 'initPosition',\r\n                elems: 'setColumnVisibleListener'\r\n            },\r\n            links: {\r\n                position: '${ $.name }.${ $.positionProvider }:value'\r\n            },\r\n            exports: {\r\n                recordId: '${ $.provider }:${ $.dataScope }.record_id'\r\n            },\r\n            modules: {\r\n                parentComponent: '${ $.parentName }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Extends instance with default config, calls initialize of parent\r\n         * class, calls initChildren method, set observe variable.\r\n         * Use parent \"track\" method - wrapper observe array\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initialize: function () {\r\n            var self = this;\r\n\r\n            this._super();\r\n\r\n            registry.async(this.name + '.' + this.positionProvider)(function (component) {\r\n\r\n                /**\r\n                 * Overwrite hasChanged method\r\n                 *\r\n                 * @returns {Boolean}\r\n                 */\r\n                component.hasChanged = function () {\r\n\r\n                    /* eslint-disable eqeqeq */\r\n                    return this.value().toString() != this.initialValue.toString();\r\n\r\n                    /* eslint-enable eqeqeq */\r\n                };\r\n\r\n                if (!component.initialValue) {\r\n                    component.initialValue = self.parentComponent().maxPosition;\r\n                    component.bubble('update', component.hasChanged());\r\n                }\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init config\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.label = this.label || this.headerLabel;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('position')\r\n                .observe([\r\n                    'visible',\r\n                    'disabled',\r\n                    'data',\r\n                    'label'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init element position\r\n         *\r\n         * @param {Number} position - element position\r\n         */\r\n        initPosition: function (position) {\r\n            var pos = parseInt(position, 10);\r\n\r\n            this.parentComponent().setMaxPosition(pos, this);\r\n\r\n            if (!pos && pos !== 0) {\r\n                this.position = this.parentComponent().maxPosition;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set column visibility listener\r\n         */\r\n        setColumnVisibleListener: function () {\r\n            var elem = _.find(this.elems(), function (curElem) {\r\n                return !curElem.hasOwnProperty('visibleListener');\r\n            });\r\n\r\n            if (!elem) {\r\n                return;\r\n            }\r\n\r\n            this.childVisibleListener(elem);\r\n\r\n            if (!elem.visibleListener) {\r\n                elem.on('visible', this.childVisibleListener.bind(this, elem));\r\n            }\r\n\r\n            elem.visibleListener = true;\r\n        },\r\n\r\n        /**\r\n         * Child visibility listener\r\n         *\r\n         * @param {Object} data\r\n         */\r\n        childVisibleListener: function (data) {\r\n            this.setVisibilityColumn(data.index, data.visible());\r\n        },\r\n\r\n        /**\r\n         * Reset data to initial value.\r\n         * Call method reset on child elements.\r\n         */\r\n        reset: function () {\r\n            var elems = this.elems(),\r\n                nameIsEqual,\r\n                dataScopeIsEqual;\r\n\r\n            _.each(elems, function (elem) {\r\n                nameIsEqual = this.name + '.' + this.positionProvider === elem.name;\r\n                dataScopeIsEqual = this.dataScope === elem.dataScope;\r\n\r\n                if (!(nameIsEqual || dataScopeIsEqual) && _.isFunction(elem.reset)) {\r\n                    elem.reset();\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clear data\r\n         *\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        clear: function () {\r\n            var elems = this.elems(),\r\n                nameIsEqual,\r\n                dataScopeIsEqual;\r\n\r\n            _.each(elems, function (elem) {\r\n                nameIsEqual = this.name + '.' + this.positionProvider === elem.name;\r\n                dataScopeIsEqual = this.dataScope === elem.dataScope;\r\n\r\n                if (!(nameIsEqual || dataScopeIsEqual) && _.isFunction(elem.reset)) {\r\n                    elem.clear();\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Get label for collapsible header\r\n         *\r\n         * @param {String} label\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getLabel: function (label) {\r\n            if (_.isString(label)) {\r\n                this.label(label);\r\n            } else if (label && this.label()) {\r\n                return this.label();\r\n            } else {\r\n                this.label(this.headerLabel);\r\n            }\r\n\r\n            return this.label();\r\n        },\r\n\r\n        /**\r\n         * Set visibility to record child\r\n         *\r\n         * @param {Boolean} state\r\n         */\r\n        setVisible: function (state) {\r\n            this.elems.each(function (cell) {\r\n                cell.visible(state);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Set visibility to child by index\r\n         *\r\n         * @param {Number} index\r\n         * @param {Boolean} state\r\n         */\r\n        setVisibilityColumn: function (index, state) {\r\n            var elems = this.elems(),\r\n                curElem = parseInt(index, 10),\r\n                label;\r\n\r\n            if (!this.parentComponent()) {\r\n                return false;\r\n            }\r\n\r\n            if (_.isNaN(curElem)) {\r\n                _.findWhere(elems, {\r\n                    index: index\r\n                }).visible(state);\r\n                label = _.findWhere(this.parentComponent().labels(), {\r\n                    name: index\r\n                });\r\n                label.visible() !== state ? label.visible(state) : false;\r\n            } else {\r\n                elems[curElem].visible(state);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set disabled to child\r\n         *\r\n         * @param {Boolean} state\r\n         */\r\n        setDisabled: function (state) {\r\n            this.elems.each(function (cell) {\r\n                cell.disabled(state);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Set disabled to child by index\r\n         *\r\n         * @param {Number} index\r\n         * @param {Boolean} state\r\n         */\r\n        setDisabledColumn: function (index, state) {\r\n            index = ~~index;\r\n            this.elems()[index].disabled(state);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/adapter.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'Magento_Ui/js/form/adapter/buttons'\r\n], function ($, _, buttons) {\r\n    'use strict';\r\n\r\n    var selectorPrefix = '',\r\n        eventPrefix;\r\n\r\n    /**\r\n     * Initialize listener.\r\n     *\r\n     * @param {Function} callback\r\n     * @param {String} action\r\n     */\r\n    function initListener(callback, action) {\r\n        var selector    = selectorPrefix ? selectorPrefix + ' ' + buttons[action] : buttons[action],\r\n            elem        = $(selector)[0];\r\n\r\n        if (!elem) {\r\n            return;\r\n        }\r\n\r\n        if (elem.onclick) {\r\n            elem.onclick = null;\r\n        }\r\n\r\n        $(elem).on('click' + eventPrefix, callback);\r\n    }\r\n\r\n    /**\r\n     * Destroy listener.\r\n     *\r\n     * @param {String} action\r\n     */\r\n    function destroyListener(action) {\r\n        var selector    = selectorPrefix ? selectorPrefix + ' ' + buttons[action] : buttons[action],\r\n            elem        = $(selector)[0];\r\n\r\n        if (!elem) {\r\n            return;\r\n        }\r\n\r\n        if (elem.onclick) {\r\n            elem.onclick = null;\r\n        }\r\n\r\n        $(elem).off('click' + eventPrefix);\r\n    }\r\n\r\n    return {\r\n\r\n        /**\r\n         * Attaches events handlers.\r\n         *\r\n         * @param {Object} handlers\r\n         * @param {String} selectorPref\r\n         * @param {String} eventPref\r\n         */\r\n        on: function (handlers, selectorPref, eventPref) {\r\n            selectorPrefix = selectorPrefix || selectorPref;\r\n            eventPrefix = eventPref;\r\n            _.each(handlers, initListener);\r\n            selectorPrefix = '';\r\n        },\r\n\r\n        /**\r\n         * Removes events handlers.\r\n         *\r\n         * @param {Object} handlers\r\n         * @param {String} eventPref\r\n         */\r\n        off: function (handlers, eventPref) {\r\n            eventPrefix = eventPref;\r\n            _.each(handlers, destroyListener);\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/form/button-adapter.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiClass',\r\n    'jquery',\r\n    'underscore',\r\n    'uiRegistry'\r\n], function (Class, $, _, registry) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n\r\n        /**\r\n         * Initialize actions and adapter.\r\n         *\r\n         * @param {Object} config\r\n         * @param {Element} elem\r\n         * @returns {Object}\r\n         */\r\n        initialize: function (config, elem) {\r\n            return this._super()\r\n                .initActions()\r\n                .initAdapter(elem);\r\n        },\r\n\r\n        /**\r\n         * Creates callback from declared actions.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        initActions: function () {\r\n            var callbacks = [];\r\n\r\n            _.each(this.actions, function (action) {\r\n                callbacks.push({\r\n                    action: registry.async(action.targetName),\r\n                    args: _.union([action.actionName], action.params)\r\n                });\r\n            });\r\n\r\n            /**\r\n             * Callback function.\r\n             */\r\n            this.callback = function () {\r\n                _.each(callbacks, function (callback) {\r\n                    callback.action.apply(callback.action, callback.args);\r\n                });\r\n            };\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Attach callback handler on button.\r\n         *\r\n         * @param {Element} elem\r\n         */\r\n        initAdapter: function (elem) {\r\n            $(elem).on('click', this.callback);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/client.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiClass'\r\n], function ($, _, utils, Class) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Before save validate request.\r\n     *\r\n     * @param {Object} data\r\n     * @param {String} url\r\n     * @param {String} selectorPrefix\r\n     * @param {String} messagesClass\r\n     * @returns {*}\r\n     */\r\n    function beforeSave(data, url, selectorPrefix, messagesClass) {\r\n        var save = $.Deferred();\r\n\r\n        data = utils.serialize(utils.filterFormData(data));\r\n        data['form_key'] = window.FORM_KEY;\r\n\r\n        if (!url || url === 'undefined') {\r\n            return save.resolve();\r\n        }\r\n\r\n        $('body').trigger('processStart');\r\n\r\n        $.ajax({\r\n            url: url,\r\n            data: data,\r\n\r\n            /**\r\n             * Success callback.\r\n             * @param {Object} resp\r\n             * @returns {Boolean}\r\n             */\r\n            success: function (resp) {\r\n                if (!resp.error) {\r\n                    save.resolve();\r\n\r\n                    return true;\r\n                }\r\n\r\n                $('body').notification('clear');\r\n                $.each(resp.messages || [resp.message] || [], function (key, message) {\r\n                    $('body').notification('add', {\r\n                        error: resp.error,\r\n                        message: message,\r\n\r\n                        /**\r\n                         * Insert method.\r\n                         *\r\n                         * @param {String} msg\r\n                         */\r\n                        insertMethod: function (msg) {\r\n                            var $wrapper = $('<div/>').addClass(messagesClass).html(msg);\r\n\r\n                            $('.page-main-actions', selectorPrefix).after($wrapper);\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Complete callback.\r\n             */\r\n            complete: function () {\r\n                $('body').trigger('processStop');\r\n            }\r\n        });\r\n\r\n        return save.promise();\r\n    }\r\n\r\n    return Class.extend({\r\n\r\n        /**\r\n         * Assembles data and submits it using 'utils.submit' method\r\n         */\r\n        save: function (data, options) {\r\n            var url = this.urls.beforeSave,\r\n                save = this._save.bind(this, data, options);\r\n\r\n            beforeSave(data, url, this.selectorPrefix, this.messagesClass).then(save);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Save data.\r\n         *\r\n         * @param {Object} data\r\n         * @param {Object} options\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _save: function (data, options) {\r\n            var url = this.urls.save;\r\n\r\n            $('body').trigger('processStart');\r\n            options = options || {};\r\n\r\n            if (!options.redirect) {\r\n                url += 'back/edit';\r\n            }\r\n\r\n            if (options.ajaxSave) {\r\n                utils.ajaxSubmit({\r\n                    url: url,\r\n                    data: data\r\n                }, options);\r\n\r\n                $('body').trigger('processStop');\r\n\r\n                return this;\r\n            }\r\n\r\n            utils.submit({\r\n                url: url,\r\n                data: data\r\n            }, options.attributes);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/form.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'Magento_Ui/js/lib/spinner',\r\n    'rjsResolver',\r\n    './adapter',\r\n    'uiCollection',\r\n    'mageUtils',\r\n    'jquery',\r\n    'Magento_Ui/js/core/app',\r\n    'mage/validation'\r\n], function (_, loader, resolver, adapter, Collection, utils, $, app) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Format params\r\n     *\r\n     * @param {Object} params\r\n     * @returns {Array}\r\n     */\r\n    function prepareParams(params) {\r\n        var result = '?';\r\n\r\n        _.each(params, function (value, key) {\r\n            result += key + '=' + value + '&';\r\n        });\r\n\r\n        return result.slice(0, -1);\r\n    }\r\n\r\n    /**\r\n     * Collect form data.\r\n     *\r\n     * @param {Array} items\r\n     * @returns {Object}\r\n     */\r\n    function collectData(items) {\r\n        var result = {},\r\n            name;\r\n\r\n        items = Array.prototype.slice.call(items);\r\n\r\n        items.forEach(function (item) {\r\n            switch (item.type) {\r\n                case 'checkbox':\r\n                    result[item.name] = +!!item.checked;\r\n                    break;\r\n\r\n                case 'radio':\r\n                    if (item.checked) {\r\n                        result[item.name] = item.value;\r\n                    }\r\n                    break;\r\n\r\n                case 'select-multiple':\r\n                    name = item.name.substring(0, item.name.length - 2); //remove [] from the name ending\r\n                    result[name] = _.pluck(item.selectedOptions, 'value');\r\n                    break;\r\n\r\n                default:\r\n                    result[item.name] = item.value;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Makes ajax request\r\n     *\r\n     * @param {Object} params\r\n     * @param {Object} data\r\n     * @param {String} url\r\n     * @returns {*}\r\n     */\r\n    function makeRequest(params, data, url) {\r\n        var save = $.Deferred();\r\n\r\n        data = utils.serialize(data);\r\n        data['form_key'] = window.FORM_KEY;\r\n\r\n        if (!url) {\r\n            save.resolve();\r\n        }\r\n\r\n        $('body').trigger('processStart');\r\n\r\n        $.ajax({\r\n            url: url + prepareParams(params),\r\n            data: data,\r\n            dataType: 'json',\r\n\r\n            /**\r\n             * Success callback.\r\n             * @param {Object} resp\r\n             * @returns {Boolean}\r\n             */\r\n            success: function (resp) {\r\n                if (resp.ajaxExpired) {\r\n                    window.location.href = resp.ajaxRedirect;\r\n                }\r\n\r\n                if (!resp.error) {\r\n                    save.resolve(resp);\r\n\r\n                    return true;\r\n                }\r\n\r\n                $('body').notification('clear');\r\n                $.each(resp.messages, function (key, message) {\r\n                    $('body').notification('add', {\r\n                        error: resp.error,\r\n                        message: message,\r\n\r\n                        /**\r\n                         * Inserts message on page\r\n                         * @param {String} msg\r\n                         */\r\n                        insertMethod: function (msg) {\r\n                            $('.page-main-actions').after(msg);\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n\r\n            /**\r\n             * Complete callback.\r\n             */\r\n            complete: function () {\r\n                $('body').trigger('processStop');\r\n            }\r\n        });\r\n\r\n        return save.promise();\r\n    }\r\n\r\n    /**\r\n     * Check if fields is valid.\r\n     *\r\n     * @param {Array}items\r\n     * @returns {Boolean}\r\n     */\r\n    function isValidFields(items) {\r\n        var result = true;\r\n\r\n        _.each(items, function (item) {\r\n            if (!$.validator.validateSingleElement(item)) {\r\n                result = false;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            additionalFields: [],\r\n            additionalInvalid: false,\r\n            selectorPrefix: '.page-content',\r\n            messagesClass: 'messages',\r\n            errorClass: '.admin__field._error',\r\n            eventPrefix: '.${ $.index }',\r\n            ajaxSave: false,\r\n            ajaxSaveType: 'default',\r\n            imports: {\r\n                reloadUrl: '${ $.provider}:reloadUrl'\r\n            },\r\n            listens: {\r\n                selectorPrefix: 'destroyAdapter initAdapter',\r\n                '${ $.name }.${ $.reloadItem }': 'params.set reload'\r\n            },\r\n            exports: {\r\n                selectorPrefix: '${ $.provider }:client.selectorPrefix',\r\n                messagesClass: '${ $.provider }:client.messagesClass'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super()\r\n                .initAdapter();\r\n\r\n            resolver(this.hideLoader, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            return this._super()\r\n                .observe([\r\n                    'responseData',\r\n                    'responseStatus'\r\n                ]);\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.selector = '[data-form-part=' + this.namespace + ']';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initialize adapter handlers.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        initAdapter: function () {\r\n            adapter.on({\r\n                'reset': this.reset.bind(this),\r\n                'save': this.save.bind(this, true, {}),\r\n                'saveAndContinue': this.save.bind(this, false, {})\r\n            }, this.selectorPrefix, this.eventPrefix);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroy adapter handlers.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        destroyAdapter: function () {\r\n            adapter.off([\r\n                'reset',\r\n                'save',\r\n                'saveAndContinue'\r\n            ], this.eventPrefix);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hide loader.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        hideLoader: function () {\r\n            loader.get(this.name).hide();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validate and save form.\r\n         *\r\n         * @param {String} redirect\r\n         * @param {Object} data\r\n         */\r\n        save: function (redirect, data) {\r\n            this.validate();\r\n\r\n            if (!this.additionalInvalid && !this.source.get('params.invalid')) {\r\n                this.setAdditionalData(data)\r\n                    .submit(redirect);\r\n            } else {\r\n                this.focusInvalid();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Tries to set focus on first invalid form field.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        focusInvalid: function () {\r\n            var invalidField = _.find(this.delegate('checkInvalid'));\r\n\r\n            if (!_.isUndefined(invalidField) && _.isFunction(invalidField.focused)) {\r\n                invalidField.focused(true);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set additional data to source before form submit and after validation.\r\n         *\r\n         * @param {Object} data\r\n         * @returns {Object}\r\n         */\r\n        setAdditionalData: function (data) {\r\n            _.each(data, function (value, name) {\r\n                this.source.set('data.' + name, value);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Submits form\r\n         *\r\n         * @param {String} redirect\r\n         */\r\n        submit: function (redirect) {\r\n            var additional = collectData(this.additionalFields),\r\n                source = this.source;\r\n\r\n            _.each(additional, function (value, name) {\r\n                source.set('data.' + name, value);\r\n            });\r\n\r\n            source.save({\r\n                redirect: redirect,\r\n                ajaxSave: this.ajaxSave,\r\n                ajaxSaveType: this.ajaxSaveType,\r\n                response: {\r\n                    data: this.responseData,\r\n                    status: this.responseStatus\r\n                },\r\n                attributes: {\r\n                    id: this.namespace\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Validates each element and returns true, if all elements are valid.\r\n         */\r\n        validate: function () {\r\n            this.additionalFields = document.querySelectorAll(this.selector);\r\n            this.source.set('params.invalid', false);\r\n            this.source.trigger('data.validate');\r\n            this.set('additionalInvalid', !isValidFields(this.additionalFields));\r\n        },\r\n\r\n        /**\r\n         * Trigger reset form data.\r\n         */\r\n        reset: function () {\r\n            this.source.trigger('data.reset');\r\n        },\r\n\r\n        /**\r\n         * Trigger overload form data.\r\n         */\r\n        overload: function () {\r\n            this.source.trigger('data.overload');\r\n        },\r\n\r\n        /**\r\n         * Updates data from server.\r\n         */\r\n        reload: function () {\r\n            makeRequest(this.params, this.data, this.reloadUrl).then(function (data) {\r\n                app(data, true);\r\n            });\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/provider.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiElement',\r\n    './client',\r\n    'mageUtils'\r\n], function (_, Element, Client, utils) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            clientConfig: {\r\n                urls: {\r\n                    save: '${ $.submit_url }',\r\n                    beforeSave: '${ $.validate_url }'\r\n                }\r\n            },\r\n            ignoreTmpls: {\r\n                data: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes provider component.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initClient();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes client component.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        initClient: function () {\r\n            this.client = new Client(this.clientConfig);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Saves currently available data.\r\n         *\r\n         * @param {Object} [options] - Addtitional request options.\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        save: function (options) {\r\n            var data = this.get('data');\r\n\r\n            this.client.save(data, options);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Update data that stored in provider.\r\n         *\r\n         * @param {Boolean} isProvider\r\n         * @param {Object} newData\r\n         * @param {Object} oldData\r\n         *\r\n         * @returns {Provider}\r\n         */\r\n        updateConfig: function (isProvider, newData, oldData) {\r\n            if (isProvider === true) {\r\n                this.setData(oldData, newData, this);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *  Set data to provider based on current data.\r\n         *\r\n         * @param {Object} oldData\r\n         * @param {Object} newData\r\n         * @param {Provider} current\r\n         * @param {String} parentPath\r\n         */\r\n        setData: function (oldData, newData, current, parentPath) {\r\n            _.each(newData, function (val, key) {\r\n                if (_.isObject(val) || _.isArray(val)) {\r\n                    this.setData(oldData[key], val, current[key], utils.fullPath(parentPath, key));\r\n                } else if (val != oldData[key] && oldData[key] == current[key]) {//eslint-disable-line eqeqeq\r\n                    this.set(utils.fullPath(parentPath, key), val);\r\n                }\r\n            }, this);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/switcher.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'uiClass'\r\n], function (_, registry, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            rules: []\r\n        },\r\n\r\n        /**\r\n         * Initializes instance of a DataSwitcher.\r\n         *\r\n         * @returns {DataSwitcher} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initRules();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns {DataSwitcher} Chainable.\r\n         */\r\n        initRules: function () {\r\n            this.rules.forEach(this.initRule, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {Object} rule - Rule definition.\r\n         * @returns {DataSwitcher} Chainable.\r\n         */\r\n        initRule: function (rule) {\r\n            var handler = this.onValueChange.bind(this, rule);\r\n\r\n            if (!rule.target) {\r\n                rule.target = this.target;\r\n            }\r\n\r\n            if (!rule.property) {\r\n                rule.property = this.property;\r\n            }\r\n\r\n            registry.get(rule.target, function (target) {\r\n                this.applyRule(rule, target.get(rule.property));\r\n                target.on(rule.property, handler);\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {Object} rule - Rule definition.\r\n         * @returns {DataSwitcher} Chainable.\r\n         */\r\n        addRule: function (rule) {\r\n            this.rules.push(rule);\r\n            this.initRule(rule);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {Object} rule - Rule object.\r\n         * @param {*} value - Current value associated with a rule.\r\n         */\r\n        applyRule: function (rule, value) {\r\n            var actions = rule.actions;\r\n\r\n            //TODO Refactor this logic in scope of MAGETWO-48585\r\n            /* eslint-disable eqeqeq */\r\n            if (rule.value != value) {\r\n                return;\r\n            } else if (rule.strict) {\r\n                return;\r\n            }\r\n\r\n            /* eslint-enable eqeqeq */\r\n            actions.forEach(this.applyAction, this);\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {Object} action - Action object.\r\n         */\r\n        applyAction: function (action) {\r\n            registry.get(action.target, function (target) {\r\n                var callback = target[action.callback];\r\n\r\n                callback.apply(target, action.params || []);\r\n            });\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {Object} rule - Rules object.\r\n         * @param {*} value - Current value associated with a rule.\r\n         */\r\n        onValueChange: function (rule, value) {\r\n            this.applyRule(rule, value);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/adapter/buttons.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine(function () {\r\n    'use strict';\r\n\r\n    return {\r\n        'reset': '#reset',\r\n        'save': '#save',\r\n        'saveAndContinue': '#save_and_continue'\r\n    };\r\n});\r\n","Magento_Ui/js/form/components/area.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './tab'\r\n], function (_, Tab) {\r\n    'use strict';\r\n\r\n    return Tab.extend({\r\n        defaults: {\r\n            uniqueNs:   'params.activeArea',\r\n            template:   'ui/area',\r\n            changed:    false,\r\n            loading:    false\r\n        },\r\n\r\n        /**\r\n         * Extends instance with defaults. Invokes parent initialize method.\r\n         * Calls initListeners and pushParams methods.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'onChildrenUpdate', 'onContentLoading');\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Calls initObservable of parent class.\r\n         * Defines observable properties of instance.\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('changed loading');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls parent's initElement method.\r\n         * Assigns callbacks on various events of incoming element.\r\n         * @param  {Object} elem\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initElement: function (elem) {\r\n            this._super();\r\n\r\n            elem.on({\r\n                'update':   this.onChildrenUpdate,\r\n                'loading':  this.onContentLoading\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Is being invoked on children update.\r\n         * Sets changed property to one incoming.\r\n         * Invokes setActive method if settings\r\n         * contain makeVisible property set to true.\r\n         *\r\n         * @param  {Boolean} hasChanged\r\n         */\r\n        onChildrenUpdate: function (hasChanged) {\r\n            if (!hasChanged) {\r\n                hasChanged = _.some(this.delegate('hasChanged'));\r\n            }\r\n\r\n            this.changed(hasChanged);\r\n        },\r\n\r\n        /**\r\n         * Callback that sets loading property to true.\r\n         */\r\n        onContentLoading: function (isLoading) {\r\n            this.loading(isLoading);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/button.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiElement',\r\n    'uiRegistry',\r\n    'uiLayout',\r\n    'mageUtils',\r\n    'underscore'\r\n], function (Element, registry, layout, utils, _) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            buttonClasses: {},\r\n            additionalClasses: {},\r\n            displayArea: 'outsideGroup',\r\n            displayAsLink: false,\r\n            elementTmpl: 'ui/form/element/button',\r\n            template: 'ui/form/components/button/simple',\r\n            visible: true,\r\n            disabled: false,\r\n            title: ''\r\n        },\r\n\r\n        /**\r\n         * Initializes component.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initialize: function () {\r\n            return this._super()\r\n                ._setClasses()\r\n                ._setButtonClasses();\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            return this._super()\r\n                .observe([\r\n                    'visible',\r\n                    'disabled',\r\n                    'title'\r\n                ]);\r\n        },\r\n\r\n        /**\r\n         * Performs configured actions\r\n         */\r\n        action: function () {\r\n            this.actions.forEach(this.applyAction, this);\r\n        },\r\n\r\n        /**\r\n         * Apply action on target component,\r\n         * but previously create this component from template if it is not existed\r\n         *\r\n         * @param {Object} action - action configuration\r\n         */\r\n        applyAction: function (action) {\r\n            var targetName = action.targetName,\r\n                params = utils.copy(action.params) || [],\r\n                actionName = action.actionName,\r\n                target;\r\n\r\n            if (!registry.has(targetName)) {\r\n                this.getFromTemplate(targetName);\r\n            }\r\n            target = registry.async(targetName);\r\n\r\n            if (target && typeof target === 'function' && actionName) {\r\n                params.unshift(actionName);\r\n                target.apply(target, params);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Create target component from template\r\n         *\r\n         * @param {Object} targetName - name of component,\r\n         * that supposed to be a template and need to be initialized\r\n         */\r\n        getFromTemplate: function (targetName) {\r\n            var parentName = targetName.split('.'),\r\n                index = parentName.pop(),\r\n                child;\r\n\r\n            parentName = parentName.join('.');\r\n            child = utils.template({\r\n                parent: parentName,\r\n                name: index,\r\n                nodeTemplate: targetName\r\n            });\r\n            layout([child]);\r\n        },\r\n\r\n        /**\r\n         * Extends 'additionalClasses' object.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        _setClasses: function () {\r\n            if (typeof this.additionalClasses === 'string') {\r\n                if (this.additionalClasses === '') {\r\n                    this.additionalClasses = {};\r\n\r\n                    return this;\r\n                }\r\n\r\n                this.additionalClasses = this.additionalClasses\r\n                    .trim()\r\n                    .split(' ')\r\n                    .reduce(function (classes, name) {\r\n                        classes[name] = true;\r\n\r\n                        return classes;\r\n                    }, {}\r\n                );\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends 'buttonClasses' object.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        _setButtonClasses: function () {\r\n            var additional = this.buttonClasses;\r\n\r\n            if (_.isString(additional)) {\r\n                this.buttonClasses = {};\r\n\r\n                if (additional.trim().length) {\r\n                    additional = additional.trim().split(' ');\r\n\r\n                    additional.forEach(function (name) {\r\n                        if (name.length) {\r\n                            this.buttonClasses[name] = true;\r\n                        }\r\n                    }, this);\r\n                }\r\n            }\r\n\r\n            _.extend(this.buttonClasses, {\r\n                'action-basic': !this.displayAsLink,\r\n                'action-additional': this.displayAsLink\r\n            });\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/collection.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    'uiComponent',\r\n    'uiLayout',\r\n    'Magento_Ui/js/modal/confirm'\r\n], function (_, utils, registry, Component, layout, confirm) {\r\n    'use strict';\r\n\r\n    var childTemplate = {\r\n        parent: '${ $.$data.name }',\r\n        name: '${ $.$data.childIndex }',\r\n        dataScope: '${ $.name }',\r\n        nodeTemplate: '${ $.$data.name }.${ $.$data.itemTemplate }'\r\n    };\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            lastIndex: 0,\r\n            template: 'ui/form/components/collection'\r\n        },\r\n\r\n        /**\r\n         * Extends instance with default config, calls initialize of parent\r\n         * class, calls initChildren method.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initChildren();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Activates the incoming child and triggers the update event.\r\n         *\r\n         * @param {Object} elem - Incoming child.\r\n         */\r\n        initElement: function (elem) {\r\n            this._super();\r\n\r\n            elem.activate();\r\n\r\n            this.bubble('update');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Loops over corresponding data in data storage,\r\n         * creates child for each and pushes it's identifier to initialItems array.\r\n         *\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        initChildren: function () {\r\n            var children = this.source.get(this.dataScope),\r\n                initial = this.initialItems = [];\r\n\r\n            _.each(children, function (item, index) {\r\n                initial.push(index);\r\n                this.addChild(index);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates new item of collection, based on incoming 'index'.\r\n         * If not passed creates one with 'new_' prefix.\r\n         *\r\n         * @param {String|Object} [index] - Index of a child.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        addChild: function (index) {\r\n            this.childIndex = !_.isString(index) ?\r\n                'new_' + this.lastIndex++ :\r\n                index;\r\n\r\n            layout([utils.template(childTemplate, this)]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns true if current set of items differ from initial one,\r\n         * or if some child has been changed.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasChanged: function () {\r\n            var initial = this.initialItems,\r\n                current = this.elems.pluck('index'),\r\n                changed = !utils.equalArrays(initial, current);\r\n\r\n            return changed || this.elems.some(function (elem) {\r\n                return _.some(elem.delegate('hasChanged'));\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Initiates validation of its' children components.\r\n         *\r\n         * @returns {Array} An array of validation results.\r\n         */\r\n        validate: function () {\r\n            var elems;\r\n\r\n            this.allValid = true;\r\n\r\n            elems = this.elems.sortBy(function (elem) {\r\n                return !elem.active();\r\n            });\r\n\r\n            elems = elems.map(this._validate, this);\r\n\r\n            return _.flatten(elems);\r\n        },\r\n\r\n        /**\r\n         * Iterator function for components validation.\r\n         * Activates first invalid child component.\r\n         *\r\n         * @param {Object} elem - Element to run validation on.\r\n         * @returns {Array} An array of validation results.\r\n         */\r\n        _validate: function (elem) {\r\n            var result = elem.delegate('validate'),\r\n                invalid;\r\n\r\n            invalid = _.some(result, function (item) {\r\n                return !item.valid;\r\n            });\r\n\r\n            if (this.allValid && invalid) {\r\n                this.allValid = false;\r\n\r\n                elem.activate();\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Creates function that removes element\r\n         * from collection using '_removeChild' method.\r\n         * @param  {Object} elem - Element that should be removed.\r\n         * @deprecated Not used anymore\r\n         */\r\n        removeAddress: function (elem) {\r\n            var self = this;\r\n\r\n            confirm({\r\n                content: this.removeMessage,\r\n                actions: {\r\n                    /** @inheritdoc */\r\n                    confirm: function () {\r\n                        self._removeAddress(elem);\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Removes element from both collection and data storage,\r\n         * activates first element if removed one was active,\r\n         * triggers 'update' event.\r\n         *\r\n         * @param {Object} elem - Element to remove.\r\n         */\r\n        _removeAddress: function (elem) {\r\n            var isActive = elem.active(),\r\n                first;\r\n\r\n            elem.destroy();\r\n\r\n            first = this.elems.first();\r\n\r\n            if (first && isActive) {\r\n                first.activate();\r\n            }\r\n\r\n            this.bubble('update');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/fieldset.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/lib/collapsible',\r\n    'underscore'\r\n], function (Collapsible, _) {\r\n    'use strict';\r\n\r\n    return Collapsible.extend({\r\n        defaults: {\r\n            template: 'ui/form/fieldset',\r\n            collapsible: false,\r\n            changed: false,\r\n            loading: false,\r\n            error: false,\r\n            opened: false,\r\n            level: 0,\r\n            visible: true,\r\n            initializeFieldsetDataByDefault: false, /* Data in some fieldsets should be initialized before open */\r\n            disabled: false,\r\n            listens: {\r\n                'opened': 'onVisibilityChange'\r\n            },\r\n            additionalClasses: {}\r\n        },\r\n\r\n        /**\r\n         * Extends instance with defaults. Invokes parent initialize method.\r\n         * Calls initListeners and pushParams methods.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'onChildrenUpdate', 'onChildrenError', 'onContentLoading');\r\n\r\n            return this._super()\r\n                ._setClasses();\r\n        },\r\n\r\n        /**\r\n         * Initializes components' configuration.\r\n         *\r\n         * @returns {Fieldset} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n            this._wasOpened = this.opened || !this.collapsible;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls initObservable of parent class.\r\n         * Defines observable properties of instance.\r\n         *\r\n         * @returns {Object} Reference to instance\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('changed loading error visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls parent's initElement method.\r\n         * Assigns callbacks on various events of incoming element.\r\n         *\r\n         * @param  {Object} elem\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initElement: function (elem) {\r\n            elem.initContainer(this);\r\n\r\n            elem.on({\r\n                'update': this.onChildrenUpdate,\r\n                'loading': this.onContentLoading,\r\n                'error': this.onChildrenError\r\n            });\r\n\r\n            if (this.disabled) {\r\n                try {\r\n                    elem.disabled(true);\r\n                }\r\n                catch (e) {\r\n\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Is being invoked on children update.\r\n         * Sets changed property to one incoming.\r\n         *\r\n         * @param  {Boolean} hasChanged\r\n         */\r\n        onChildrenUpdate: function (hasChanged) {\r\n            if (!hasChanged) {\r\n                hasChanged = _.some(this.delegate('hasChanged'));\r\n            }\r\n\r\n            this.bubble('update', hasChanged);\r\n            this.changed(hasChanged);\r\n        },\r\n\r\n        /**\r\n         * Extends 'additionalClasses' object.\r\n         *\r\n         * @returns {Group} Chainable.\r\n         */\r\n        _setClasses: function () {\r\n            var additional = this.additionalClasses,\r\n                classes;\r\n\r\n            if (_.isString(additional)) {\r\n                additional = this.additionalClasses.split(' ');\r\n                classes = this.additionalClasses = {};\r\n\r\n                additional.forEach(function (name) {\r\n                    classes[name] = true;\r\n                }, this);\r\n            }\r\n\r\n            _.extend(this.additionalClasses, {\r\n                'admin__collapsible-block-wrapper': this.collapsible,\r\n                _show: this.opened,\r\n                _hide: !this.opened,\r\n                _disabled: this.disabled\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Handler of the \"opened\" property changes.\r\n         *\r\n         * @param {Boolean} isOpened\r\n         */\r\n        onVisibilityChange: function (isOpened) {\r\n            if (!this._wasOpened) {\r\n                this._wasOpened = isOpened;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Is being invoked on children validation error.\r\n         * Sets error property to one incoming.\r\n         *\r\n         * @param {String} message - error message.\r\n         */\r\n        onChildrenError: function (message) {\r\n            var hasErrors = false;\r\n\r\n            if (!message) {\r\n                hasErrors = this._isChildrenHasErrors(hasErrors, this);\r\n            }\r\n\r\n            this.error(hasErrors || message);\r\n\r\n            if (hasErrors || message) {\r\n                this.open();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns errors of children if exist\r\n         *\r\n         * @param {Boolean} hasErrors\r\n         * @param {*} container\r\n         * @return {Boolean}\r\n         * @private\r\n         */\r\n        _isChildrenHasErrors: function (hasErrors, container) {\r\n            var self = this;\r\n\r\n            if (hasErrors === false && container.hasOwnProperty('elems')) {\r\n                hasErrors = container.elems.some('error');\r\n\r\n                if (hasErrors === false && container.hasOwnProperty('_elems')) {\r\n                    container._elems.forEach(function (child) {\r\n\r\n                        if (hasErrors === false) {\r\n                            hasErrors = self._isChildrenHasErrors(hasErrors, child);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            return hasErrors;\r\n        },\r\n\r\n        /**\r\n         * Callback that sets loading property to true.\r\n         */\r\n        onContentLoading: function (isLoading) {\r\n            this.loading(isLoading);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/group.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiCollection'\r\n], function (_, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            visible: true,\r\n            label: '',\r\n            showLabel: true,\r\n            required: false,\r\n            template: 'ui/group/group',\r\n            fieldTemplate: 'ui/form/field',\r\n            breakLine: true,\r\n            validateWholeGroup: false,\r\n            additionalClasses: {}\r\n        },\r\n\r\n        /**\r\n         * Extends this with defaults and config.\r\n         * Then calls initObservable, iniListenes and extractData methods.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                ._setClasses();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls initObservable of parent class.\r\n         * Defines observable properties of instance.\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('visible')\r\n                .observe({\r\n                    required: !!+this.required\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends 'additionalClasses' object.\r\n         *\r\n         * @returns {Group} Chainable.\r\n         */\r\n        _setClasses: function () {\r\n            var additional = this.additionalClasses,\r\n                classes;\r\n\r\n            if (_.isString(additional)) {\r\n                additional = this.additionalClasses.split(' ');\r\n                classes = this.additionalClasses = {};\r\n\r\n                additional.forEach(function (name) {\r\n                    classes[name] = true;\r\n                }, this);\r\n            }\r\n\r\n            _.extend(this.additionalClasses, {\r\n                'admin__control-grouped': !this.breakLine,\r\n                'admin__control-fields': this.breakLine,\r\n                required:   this.required,\r\n                _error:     this.error,\r\n                _disabled:  this.disabled\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines if group has only one element.\r\n         * @return {Boolean}\r\n         */\r\n        isSingle: function () {\r\n            return this.elems.getLength() === 1;\r\n        },\r\n\r\n        /**\r\n         * Defines if group has multiple elements.\r\n         * @return {Boolean}\r\n         */\r\n        isMultiple: function () {\r\n            return this.elems.getLength() > 1;\r\n        },\r\n\r\n        /**\r\n         * Returns an array of child components previews.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getPreview: function () {\r\n            return this.elems.map('getPreview');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/html.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'uiComponent'\r\n], function ($, _, Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            content:        '',\r\n            showSpinner:    false,\r\n            loading:        false,\r\n            visible:        true,\r\n            template:       'ui/content/content',\r\n            additionalClasses: {},\r\n            ignoreTmpls: {\r\n                content: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Extends instance with default config, calls 'initialize' method of\r\n         *     parent, calls 'initAjaxConfig'\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'onContainerToggle', 'onDataLoaded');\r\n\r\n            this._super()\r\n                ._setClasses()\r\n                .initAjaxConfig();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' method of parent, initializes observable\r\n         * properties of instance\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('content loading visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends 'additionalClasses' object.\r\n         *\r\n         * @returns {Group} Chainable.\r\n         */\r\n        _setClasses: function () {\r\n            var additional = this.additionalClasses,\r\n                classes;\r\n\r\n            if (_.isString(additional)) {\r\n                additional = this.additionalClasses.split(' ');\r\n                classes = this.additionalClasses = {};\r\n\r\n                additional.forEach(function (name) {\r\n                    classes[name] = true;\r\n                }, this);\r\n            }\r\n\r\n            _.extend(this.additionalClasses, {\r\n                'admin__scope-old': !!additional\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initContainer: function (parent) {\r\n            this._super();\r\n\r\n            parent.on('active', this.onContainerToggle);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes default ajax config on instance\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initAjaxConfig: function () {\r\n            this.ajaxConfig = {\r\n                url: this.url,\r\n                data: {\r\n                    FORM_KEY: window.FORM_KEY\r\n                },\r\n                success:    this.onDataLoaded\r\n            };\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls 'loadData' if both 'active' variable and 'shouldLoad'\r\n         * property are truthy\r\n         *\r\n         * @param  {Boolean} active\r\n         */\r\n        onContainerToggle: function (active) {\r\n            if (active && this.shouldLoad()) {\r\n                this.loadData();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Defines if instance has 'content' property defined.\r\n         *\r\n         * @return {Boolean} [description]\r\n         */\r\n        hasData: function () {\r\n            return !!this.content();\r\n        },\r\n\r\n        /**\r\n         * Defines if instance should load external data\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        shouldLoad: function () {\r\n            return this.url && !this.hasData() && !this.loading();\r\n        },\r\n\r\n        /**\r\n         * Sets loading property to true, makes ajax call\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        loadData: function () {\r\n            this.loading(true);\r\n\r\n            $.ajax(this.ajaxConfig);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Ajax's request success handler. Calls 'updateContent' passing 'data'\r\n         * to it, then sets 'loading' property to false.\r\n         *\r\n         * @param  {String} data\r\n         */\r\n        onDataLoaded: function (data) {\r\n            this.updateContent(data)\r\n                .loading(false);\r\n        },\r\n\r\n        /**\r\n         * Sets incoming data 'content' property's value\r\n         *\r\n         * @param  {String} content\r\n         * @return {Object} - reference to instance\r\n         */\r\n        updateContent: function (content) {\r\n            this.content(content);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/insert-form.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './insert',\r\n    'mageUtils',\r\n    'jquery'\r\n], function (Insert, utils, $) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Get page actions element.\r\n     *\r\n     * @param {String} elem\r\n     * @param {String} actionsClass\r\n     * @returns {String}\r\n     */\r\n    function getPageActions(elem, actionsClass) {\r\n        var el = document.createElement('div');\r\n\r\n        el.innerHTML = elem;\r\n\r\n        return el.getElementsByClassName(actionsClass)[0];\r\n    }\r\n\r\n    /**\r\n     * Return element without page actions toolbar\r\n     *\r\n     * @param {String} elem\r\n     * @param {String} actionsClass\r\n     * @returns {String}\r\n     */\r\n    function removePageActions(elem, actionsClass) {\r\n        var el = document.createElement('div'),\r\n            actions;\r\n\r\n        el.innerHTML = elem;\r\n        actions = el.getElementsByClassName(actionsClass)[0];\r\n\r\n        if (actions) {\r\n            el.removeChild(actions);\r\n        }\r\n\r\n        return el.innerHTML;\r\n    }\r\n\r\n    return Insert.extend({\r\n        defaults: {\r\n            externalFormName: '${ $.ns }.${ $.ns }',\r\n            pageActionsClass: 'page-actions',\r\n            actionsContainerClass: 'page-main-actions',\r\n            exports: {\r\n                prefix: '${ $.externalFormName }:selectorPrefix'\r\n            },\r\n            imports: {\r\n                toolbarSection: '${ $.toolbarContainer }:toolbarSection',\r\n                prefix: '${ $.toolbarContainer }:rootSelector',\r\n                messagesClass: '${ $.externalFormName }:messagesClass'\r\n            },\r\n            settings: {\r\n                ajax: {\r\n                    ajaxSave: true,\r\n                    exports: {\r\n                        ajaxSave: '${ $.externalFormName }:ajaxSave'\r\n                    },\r\n                    imports: {\r\n                        responseStatus: '${ $.externalFormName }:responseStatus',\r\n                        responseData: '${ $.externalFormName }:responseData'\r\n                    }\r\n                }\r\n            },\r\n            modules: {\r\n                externalForm: '${ $.externalFormName }'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            return this._super()\r\n                .observe('responseStatus');\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function (config) {\r\n            var defaults = this.constructor.defaults;\r\n\r\n            utils.extend(defaults, defaults.settings[config.formSubmitType] || {});\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /** @inheritdoc*/\r\n        destroyInserted: function () {\r\n            if (this.isRendered && this.externalForm()) {\r\n                this.externalForm().delegate('destroy');\r\n                this.removeActions();\r\n                this.responseStatus(undefined);\r\n                this.responseData = {};\r\n            }\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        onRender: function (data) {\r\n            var actions = getPageActions(data, this.pageActionsClass);\r\n\r\n            if (!data.length) {\r\n                return this;\r\n            }\r\n            data = removePageActions(data, this.pageActionsClass);\r\n            this.renderActions(actions);\r\n            this._super(data);\r\n        },\r\n\r\n        /**\r\n         * Insert actions in toolbar.\r\n         *\r\n         * @param {String} actions\r\n         */\r\n        renderActions: function (actions) {\r\n            var $container = $('<div/>');\r\n\r\n            $container\r\n                .addClass(this.actionsContainerClass)\r\n                .append(actions);\r\n\r\n            this.formHeader = $container;\r\n\r\n            $(this.toolbarSection).append(this.formHeader);\r\n        },\r\n\r\n        /**\r\n         * Remove actions toolbar.\r\n         */\r\n        removeActions: function () {\r\n            $(this.formHeader).siblings('.' + this.messagesClass).remove();\r\n            $(this.formHeader).remove();\r\n            this.formHeader = $();\r\n        },\r\n\r\n        /**\r\n         * Reset external form data.\r\n         */\r\n        resetForm: function () {\r\n            if (this.externalSource()) {\r\n                this.externalSource().trigger('data.reset');\r\n                this.responseStatus(undefined);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/insert-listing.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    './insert',\r\n    'mageUtils',\r\n    'underscore'\r\n], function ($, Insert, utils, _) {\r\n    'use strict';\r\n\r\n    return Insert.extend({\r\n        defaults: {\r\n            externalListingName: '${ $.ns }.${ $.ns }',\r\n            behaviourType: 'simple',\r\n            externalFilterMode: false,\r\n            requestConfig: {\r\n                method: 'POST'\r\n            },\r\n            externalCondition: 'nin',\r\n            settings: {\r\n                edit: {\r\n                    imports: {\r\n                        'onChangeRecord': '${ $.editorProvider }:changed'\r\n                    }\r\n                },\r\n                filter: {\r\n                    exports: {\r\n                        'requestConfig': '${ $.externalProvider }:requestConfig'\r\n                    }\r\n                }\r\n            },\r\n            imports: {\r\n                onSelectedChange: '${ $.selectionsProvider }:selected',\r\n                'update_url': '${ $.externalProvider }:update_url',\r\n                'indexField': '${ $.selectionsProvider }:indexField'\r\n            },\r\n            exports: {\r\n                externalFiltersModifier: '${ $.externalProvider }:params.filters_modifier'\r\n            },\r\n            listens: {\r\n                externalValue: 'updateExternalFiltersModifier updateSelections',\r\n                indexField: 'initialUpdateListing'\r\n            },\r\n            modules: {\r\n                selections: '${ $.selectionsProvider }',\r\n                externalListing: '${ $.externalListingName }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Invokes initialize method of parent class,\r\n         * contains initialization logic\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n            _.bindAll(this, 'updateValue', 'updateExternalValueByEditableData');\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function (config) {\r\n            var defaults = this.constructor.defaults;\r\n\r\n            if (config.behaviourType === 'edit') {\r\n                defaults.editableData = {};\r\n                _.map(defaults.settings.edit.imports, function (value, key) {\r\n                    this.imports[key] = value;\r\n                }, defaults);\r\n            }\r\n\r\n            if (config.externalFilterMode === true) {\r\n                _.map(defaults.settings.filter.exports, function (value, key) {\r\n                    this.exports[key] = value;\r\n                }, defaults);\r\n            }\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            return this._super()\r\n                .observe([\r\n                    'externalValue'\r\n                ]);\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        destroyInserted: function () {\r\n            if (this.isRendered && this.externalListing()) {\r\n                this.externalListing().source.storage().clearRequests();\r\n                this.externalListing().delegate('destroy');\r\n            }\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Store data from edited record\r\n         *\r\n         * @param {Object} record\r\n         */\r\n        onChangeRecord: function (record) {\r\n            this.updateEditableData(record);\r\n\r\n            if (!this.dataLinks.imports) {\r\n                return;\r\n            }\r\n\r\n            this.updateExternalValueByEditableData();\r\n        },\r\n\r\n        /**\r\n         * Updates externalValue every time row is selected,\r\n         * if it is configured by 'dataLinks.imports'\r\n         * Also suppress dataLinks so import/export of selections will not activate each other in circle\r\n         *\r\n         */\r\n        onSelectedChange: function () {\r\n            if (!this.dataLinks.imports ||\r\n                this.suppressDataLinks ||\r\n                _.isBoolean(this.initialExportDone) && !this.initialExportDone\r\n            ) {\r\n                this.suppressDataLinks = false;\r\n\r\n                return;\r\n            }\r\n\r\n            this.suppressDataLinks = true;\r\n            this.updateExternalValue();\r\n        },\r\n\r\n        /**\r\n         * Stores data from editor in editableData\r\n         * @param {Object} record\r\n         *\r\n         */\r\n        updateEditableData: function (record) {\r\n            var id = _.keys(record[0])[0];\r\n\r\n            this.editableData[id] = record[0][id];\r\n        },\r\n\r\n        /**\r\n         * Updates externalValue by data from editor (already stored in editableData)\r\n         *\r\n         */\r\n        updateExternalValueByEditableData: function () {\r\n            var updatedExtValue;\r\n\r\n            if (!this.behaviourType === 'edit' || _.isEmpty(this.editableData) || _.isEmpty(this.externalValue())) {\r\n                return;\r\n            }\r\n\r\n            updatedExtValue = this.externalValue();\r\n            updatedExtValue.map(function (item) {\r\n                _.extend(item, this.editableData[item[this.indexField]]);\r\n            }, this);\r\n            this.setExternalValue(updatedExtValue);\r\n        },\r\n\r\n        /**\r\n         * Updates externalValue, from selectionsProvider data (if it is enough)\r\n         * or ajax request to server\r\n         *\r\n         * @returns {Object} result - deferred that will be resolved when value is updated\r\n         */\r\n        updateExternalValue: function () {\r\n            var result = $.Deferred(),\r\n                provider = this.selections(),\r\n                selections,\r\n                totalSelected,\r\n                itemsType,\r\n                rows;\r\n\r\n            if (!provider) {\r\n                return result;\r\n            }\r\n\r\n            selections = provider && provider.getSelections();\r\n            totalSelected = provider.totalSelected();\r\n            itemsType = selections && selections.excludeMode ? 'excluded' : 'selected';\r\n            rows = provider && provider.rows();\r\n\r\n            if (this.canUpdateFromClientData(totalSelected, selections.selected, rows)) {\r\n                this.updateFromClientData(selections.selected, rows);\r\n                this.updateExternalValueByEditableData();\r\n                result.resolve();\r\n            } else {\r\n                this.updateFromServerData(selections, itemsType).done(function () {\r\n                    this.updateExternalValueByEditableData();\r\n                    result.resolve();\r\n                }.bind(this));\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Check if the selected rows data can be taken from selectionsProvider data\r\n         * (which only stores data of the current page rows)\r\n         *  + from already saved data\r\n         *\r\n         * @param {Boolean} totalSelected - total rows selected (include rows that were filtered out)\r\n         * @param {Array} selected - ids of selected rows\r\n         * @param {Object} rows\r\n         */\r\n        canUpdateFromClientData: function (totalSelected, selected, rows) {\r\n            var alreadySavedSelectionsIds = _.pluck(this.externalValue(), this.indexField),\r\n                rowsOnCurrentPageIds = _.pluck(rows, this.indexField);\r\n\r\n            return totalSelected === selected.length &&\r\n                _.intersection(_.union(alreadySavedSelectionsIds, rowsOnCurrentPageIds), selected).length ===\r\n                selected.length;\r\n        },\r\n\r\n        /**\r\n         * Updates externalValue, from selectionsProvider data\r\n         * (which only stores data of the current page rows)\r\n         *  + from already saved data\r\n         *  so we can avoid request to server\r\n         *\r\n         * @param {Array} selected - ids of selected rows\r\n         * @param {Object} rows\r\n         */\r\n        updateFromClientData: function (selected, rows) {\r\n            var value,\r\n                rowIds,\r\n                valueIds;\r\n\r\n            if (!selected || !selected.length) {\r\n                this.setExternalValue([]);\r\n\r\n                return;\r\n            }\r\n\r\n            value = this.externalValue();\r\n            rowIds = _.pluck(rows, this.indexField);\r\n            valueIds = _.pluck(value, this.indexField);\r\n\r\n            value = _.map(selected, function (item) {\r\n                if (_.contains(rowIds, item)) {\r\n                    return _.find(rows, function (row) {\r\n                        return row[this.indexField] === item;\r\n                    }, this);\r\n                } else if (_.contains(valueIds, item)) {\r\n                    return _.find(value, function (row) {\r\n                        return row[this.indexField] === item;\r\n                    }, this);\r\n                }\r\n            }, this);\r\n\r\n            this.setExternalValue(value);\r\n        },\r\n\r\n        /**\r\n         * Updates externalValue, from ajax request to grab selected rows data\r\n         *\r\n         * @param {Object} selections\r\n         * @param {String} itemsType\r\n         *\r\n         * @returns {Object} request - deferred that will be resolved when ajax is done\r\n         */\r\n        updateFromServerData: function (selections, itemsType) {\r\n            var filterType = selections && selections.excludeMode ? 'nin' : 'in',\r\n                selectionsData = {},\r\n                request;\r\n\r\n            _.extend(selectionsData, this.params || {}, selections.params);\r\n\r\n            if (selections[itemsType] && selections[itemsType].length) {\r\n                selectionsData.filters = {};\r\n                selectionsData['filters_modifier'] = {};\r\n                selectionsData['filters_modifier'][this.indexField] = {\r\n                    'condition_type': filterType,\r\n                    value: selections[itemsType]\r\n                };\r\n            }\r\n\r\n            selectionsData.paging = {\r\n                notLimits: 1\r\n            };\r\n\r\n            request = this.requestData(selectionsData, {\r\n                method: this.requestConfig.method\r\n            });\r\n            request\r\n                .done(function (data) {\r\n                    this.setExternalValue(data.items || data);\r\n                    this.loading(false);\r\n                }.bind(this))\r\n                .fail(this.onError);\r\n\r\n            return request;\r\n        },\r\n\r\n        /**\r\n         * Set listing rows data to the externalValue,\r\n         * or if externalData is configured with the names of particular columns,\r\n         * filter rows data to have only these columns, and then set to the externalValue\r\n         *\r\n         * @param {Object} newValue - rows data\r\n         *\r\n         */\r\n        setExternalValue: function (newValue) {\r\n            var keys = this.externalData,\r\n                value = this.externalValue(),\r\n                selectedIds = _.pluck(newValue, this.indexField);\r\n\r\n            if (_.isArray(keys) && !_.isEmpty(keys)) {\r\n                newValue = _.map(newValue, function (item) {\r\n                    return _.pick(item, keys);\r\n                }, this);\r\n            } else if (keys && _.isString(keys) && !_.isEmpty(newValue)) {\r\n                newValue = newValue[0][keys];\r\n            }\r\n\r\n            if (this.externalFilterMode) {\r\n                newValue = _.union(newValue, _.filter(value,\r\n                    function (item) {\r\n                        return !_.contains(selectedIds, item[this.indexField]);\r\n                    }, this));\r\n            }\r\n\r\n            this.set('externalValue', newValue);\r\n        },\r\n\r\n        /**\r\n         * Updates external filter (if externalFilterMode is on)\r\n         * every time, when value is updated,\r\n         * so grid is re-filtered to exclude or include selected rows only\r\n         *\r\n         * @param {Object} items\r\n         */\r\n        updateExternalFiltersModifier: function (items) {\r\n            var provider,\r\n                filter = {};\r\n\r\n            if (!this.externalFilterMode) {\r\n                return;\r\n            }\r\n\r\n            provider = this.selections();\r\n\r\n            if (!provider) {\r\n                this.needInitialListingUpdate = true;\r\n\r\n                return;\r\n            }\r\n\r\n            filter[this.indexField] = {\r\n                'condition_type': this.externalCondition,\r\n                value: _.pluck(items, this.indexField)\r\n            };\r\n            this.set('externalFiltersModifier', filter);\r\n        },\r\n\r\n        /**\r\n         * Updates grid selections\r\n         * every time, when extenalValue is updated,\r\n         * so grid is re-selected according to externalValue updated\r\n         * Also suppress dataLinks so import/export of selections will not activate each other in circle\r\n         *\r\n         * @param {Object} items\r\n         */\r\n        updateSelections: function (items) {\r\n            var provider,\r\n                ids;\r\n\r\n            if (!this.dataLinks.exports || this.suppressDataLinks) {\r\n                this.suppressDataLinks = false;\r\n                this.initialExportDone = true;\r\n\r\n                return;\r\n            }\r\n\r\n            provider = this.selections();\r\n\r\n            if (!provider) {\r\n                this.needInitialListingUpdate = true;\r\n\r\n                return;\r\n            }\r\n\r\n            this.suppressDataLinks = true;\r\n            provider.deselectAll();\r\n\r\n            if (_.isString(items)) {\r\n                provider.selected([items] || []);\r\n            } else {\r\n                ids = _.pluck(items || [], this.indexField)\r\n                    .map(function (item) {\r\n                        return item.toString();\r\n                    });\r\n\r\n                provider.selected(ids || []);\r\n            }\r\n            this.initialExportDone = true;\r\n        },\r\n\r\n        /**\r\n         * initial update of the listing\r\n         * with rows that must be checked/filtered\r\n         * by the indexes\r\n         */\r\n        initialUpdateListing: function () {\r\n            var items = this.externalValue();\r\n\r\n            if (this.needInitialListingUpdate && items) {\r\n                this.updateExternalFiltersModifier(items);\r\n                this.updateSelections(items);\r\n                this.needInitialListingUpdate = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reload source\r\n         */\r\n        reload: function () {\r\n            this.externalSource().set('params.t', new Date().getTime());\r\n        },\r\n\r\n        /**\r\n         * Updates value from external value\r\n         *\r\n         */\r\n        updateValue: function () {\r\n            this.set('value', this.externalValue());\r\n        },\r\n\r\n        /**\r\n         * Updates external value, then updates value from external value\r\n         *\r\n         */\r\n        save: function () {\r\n            this.updateExternalValue().done(\r\n                function () {\r\n                    if (!this.realTimeLink) {\r\n                        this.updateValue();\r\n                    }\r\n                }.bind(this)\r\n            );\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/insert.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiElement',\r\n    'jquery',\r\n    'mage/translate',\r\n    'mageUtils',\r\n    'underscore',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/lib/view/utils/bindings',\r\n    'Magento_Ui/js/lib/view/utils/async'\r\n], function (Element, $, $t, utils, _, alert) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            content: '',\r\n            template: 'ui/form/insert',\r\n            showSpinner: true,\r\n            loading: false,\r\n            autoRender: true,\r\n            visible: true,\r\n            contentSelector: '${$.name}',\r\n            externalData: [],\r\n            params: {\r\n                namespace: '${ $.ns }'\r\n            },\r\n            renderSettings: {\r\n                url: '${ $.render_url }',\r\n                dataType: 'html'\r\n            },\r\n            updateSettings: {\r\n                url: '${ $.update_url }',\r\n                dataType: 'json'\r\n            },\r\n            imports: {},\r\n            exports: {},\r\n            listens: {},\r\n            links: {\r\n                value: '${ $.provider }:${ $.dataScope}'\r\n            },\r\n            modules: {\r\n                externalSource: '${ $.externalProvider }'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super();\r\n            _.bindAll(this, 'onRender', 'onUpdate');\r\n\r\n            if (this.autoRender) {\r\n                this.render();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            return this._super()\r\n                .observe([\r\n                    'visible',\r\n                    'content',\r\n                    'value',\r\n                    'loading'\r\n                ]);\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function (config) {\r\n            this.initDataLink(config)._super();\r\n            this.contentSelector = this.contentSelector.replace(/\\./g, '_');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sync data with external provider.\r\n         *\r\n         * @param {Object} config\r\n         * @returns {Object}\r\n         */\r\n        initDataLink: function (config) {\r\n            var key, value;\r\n\r\n            if (config.dataLinks) {\r\n                _.each(config.externalData, function (val) {\r\n                    value = val;\r\n                    key = 'externalValue.' + val.replace('data.', '');\r\n\r\n                    if (config.dataLinks.imports) {\r\n                        this.imports[key] = '${ $.externalProvider }:' + value;\r\n                    }\r\n\r\n                    if (config.dataLinks.exports) {\r\n                        this.exports[key] = '${ $.externalProvider }:' + value;\r\n                    }\r\n                    this.links[key] = '${ $.externalProvider }:' + value;\r\n                }, this.constructor.defaults);\r\n            }\r\n\r\n            if (config.realTimeLink) {\r\n                this.constructor.defaults.links.externalValue = 'value';\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Request for render content.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        render: function (params) {\r\n            var self = this,\r\n                request;\r\n\r\n            if (this.isRendered) {\r\n                return this;\r\n            }\r\n\r\n            self.previousParams = params || {};\r\n\r\n            $.async({\r\n                component: this.name,\r\n                ctx: '.' + this.contentSelector\r\n            }, function (el) {\r\n                self.contentEl = $(el);\r\n                self.startRender = true;\r\n                params = _.extend({}, self.params, params || {});\r\n                request = self.requestData(params, self.renderSettings);\r\n                request\r\n                    .done(self.onRender)\r\n                    .fail(self.onError);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        destroy: function () {\r\n            this.destroyInserted()\r\n                ._super();\r\n        },\r\n\r\n        /**\r\n         * Destroy inserted components.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        destroyInserted: function () {\r\n            if (this.isRendered) {\r\n                this.isRendered = false;\r\n                this.content('');\r\n\r\n                if (this.externalSource()) {\r\n                    this.externalSource().destroy();\r\n                }\r\n                this.initExternalLinks();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initialize links on external components.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        initExternalLinks: function () {\r\n            var imports = this.filterExternalLinks(this.imports, this.ns),\r\n                exports = this.filterExternalLinks(this.exports, this.ns),\r\n                links = this.filterExternalLinks(this.links, this.ns);\r\n\r\n            this.setLinks(links, 'imports')\r\n                .setLinks(links, 'exports');\r\n\r\n            _.each({\r\n                exports: exports,\r\n                imports: imports\r\n            }, this.setLinks, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Filter external links.\r\n         *\r\n         * @param {Object} data\r\n         * @param {String }ns\r\n         * @returns {Object}\r\n         */\r\n        filterExternalLinks: function (data, ns) {\r\n            var links  = {};\r\n\r\n            _.each(data, function (value, key) {\r\n                if (value.split('.')[0] === ns) {\r\n                    links[key] = value;\r\n                }\r\n            });\r\n\r\n            return links;\r\n        },\r\n\r\n        /**\r\n         * Request with configurable params and settings.\r\n         *\r\n         * @param {Object} params\r\n         * @param {Object} ajaxSettings\r\n         * @returns {Object}\r\n         */\r\n        requestData: function (params, ajaxSettings) {\r\n            var query = utils.copy(params);\r\n\r\n            ajaxSettings = _.extend({\r\n                url: this['update_url'],\r\n                method: 'GET',\r\n                data: query,\r\n                dataType: 'json'\r\n            }, ajaxSettings);\r\n\r\n            this.loading(true);\r\n\r\n            return $.ajax(ajaxSettings);\r\n        },\r\n\r\n        /**\r\n         * Callback that render content.\r\n         *\r\n         * @param {*} data\r\n         */\r\n        onRender: function (data) {\r\n            var resp;\r\n\r\n            this.loading(false);\r\n\r\n            try {\r\n                resp = JSON.parse(data);\r\n\r\n                if (resp.ajaxExpired) {\r\n                    window.location.href = resp.ajaxRedirect;\r\n                }\r\n            } catch (e) {\r\n                this.set('content', data);\r\n                this.isRendered = true;\r\n                this.startRender = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Error callback.\r\n         *\r\n         * @param {Object} xhr\r\n         */\r\n        onError: function (xhr) {\r\n            if (xhr.statusText === 'abort') {\r\n                return;\r\n            }\r\n\r\n            alert({\r\n                content: $t('Something went wrong.')\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Getter for external data.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getExternalData: function () {\r\n            var data = {};\r\n\r\n            _.each(this.externalData, function (path) {\r\n                utils.nested(data, path.replace('data.', ''), this.externalSource().get(path));\r\n            }, this);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Request for update data.\r\n         *\r\n         * @returns {*|Object}\r\n         */\r\n        updateData: function (params) {\r\n            var request;\r\n\r\n            params = _.extend(params || {}, this.params);\r\n\r\n            if (!this.startRender && !this.isRendered) {\r\n                return this.render(params);\r\n            }\r\n\r\n            request = this.requestData(params, this.updateSettings);\r\n            request\r\n                .done(this.onUpdate)\r\n                .fail(this.onError);\r\n\r\n            return request;\r\n        },\r\n\r\n        /**\r\n         * Set data to external provider, clear changes.\r\n         *\r\n         * @param {*} data\r\n         */\r\n        onUpdate: function (data) {\r\n            this.externalSource().set('data', data);\r\n            this.externalSource().trigger('data.overload');\r\n            this.loading(false);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/tab.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiCollection'\r\n], function (Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            uniqueProp:     'active',\r\n            active:         false,\r\n            wasActivated:   false\r\n        },\r\n\r\n        /**\r\n         * Extends instance with defaults. Invokes parent initialize method.\r\n         * Calls initListeners and pushParams methods.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .setUnique();\r\n        },\r\n\r\n        /**\r\n         * Calls initObservable of parent class.\r\n         * Defines observable properties of instance.\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('active wasActivated');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets active property to true, then invokes pushParams method.\r\n         */\r\n        activate: function () {\r\n            this.active(true);\r\n            this.wasActivated(true);\r\n\r\n            this.setUnique();\r\n\r\n            return true;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/tab_group.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'Magento_Ui/js/lib/collapsible'\r\n], function (_, Collapsible) {\r\n    'use strict';\r\n\r\n    return Collapsible.extend({\r\n        defaults: {\r\n            listens: {\r\n                '${ $.provider }:data.validate': 'onValidate'\r\n            },\r\n            collapsible: false,\r\n            opened: true\r\n        },\r\n\r\n        /**\r\n         * Invokes initElement method of parent class, calls 'initActivation' method\r\n         * passing element to it.\r\n         * @param {Object} elem\r\n         * @returns {Object} - reference to instance\r\n         */\r\n        initElement: function (elem) {\r\n            this._super()\r\n                .initActivation(elem);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Activates element if one is first or if one has 'active' propert\r\n         * set to true.\r\n         *\r\n         * @param  {Object} elem\r\n         * @returns {Object} - reference to instance\r\n         */\r\n        initActivation: function (elem) {\r\n            var elems   = this.elems(),\r\n                isFirst = !elems.indexOf(elem);\r\n\r\n            if (isFirst || elem.active()) {\r\n                elem.activate();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Delegates 'validate' method on element, then reads 'invalid' property\r\n         * of params storage, and if defined, activates element, sets\r\n         * 'allValid' property of instance to false and sets invalid's\r\n         * 'focused' property to true.\r\n         *\r\n         * @param {Object} elem\r\n         */\r\n        validate: function (elem) {\r\n            var result  = elem.delegate('validate'),\r\n                invalid;\r\n\r\n            invalid = _.find(result, function (item) {\r\n                return typeof item !== 'undefined' && !item.valid;\r\n            });\r\n\r\n            if (invalid) {\r\n                elem.activate();\r\n                invalid.target.focused(true);\r\n            }\r\n\r\n            return invalid;\r\n        },\r\n\r\n        /**\r\n         * Sets 'allValid' property of instance to true, then calls 'validate' method\r\n         * of instance for each element.\r\n         */\r\n        onValidate: function () {\r\n            this.elems.sortBy(function (elem) {\r\n                return !elem.active();\r\n            }).some(this.validate, this);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/components/collection/item.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    '../tab'\r\n], function (_, utils, Tab) {\r\n    'use strict';\r\n\r\n    var previewConfig = {\r\n        separator: ' ',\r\n        prefix: ''\r\n    };\r\n\r\n    /**\r\n     * Parses incoming data and returns result merged with default preview config\r\n     *\r\n     * @param  {Object|String} data\r\n     * @return {Object}\r\n     */\r\n    function parsePreview(data) {\r\n        if (typeof data == 'string') {\r\n            data = {\r\n                items: data\r\n            };\r\n        }\r\n\r\n        data.items = utils.stringToArray(data.items);\r\n\r\n        return _.defaults(data, previewConfig);\r\n    }\r\n\r\n    return Tab.extend({\r\n        defaults: {\r\n            label: '',\r\n            uniqueNs: 'activeCollectionItem',\r\n            previewTpl: 'ui/form/components/collection/preview'\r\n        },\r\n\r\n        /**\r\n         * Extends instance with default config, calls initializes of parent class\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'buildPreview', 'hasPreview');\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Calls initProperties of parent class, initializes properties\r\n         * of instance.\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.displayed = [];\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls initObservable of parent class, initializes observable\r\n         * properties of instance.\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe({\r\n                    noPreview: true,\r\n                    indexed: {}\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Is being called when child element has been initialized,\r\n         *     calls initElement of parent class, binds to element's update event,\r\n         *     calls insertToArea and insertToIndexed methods passing element to it\r\n         *\r\n         * @param  {Object} elem\r\n         */\r\n        initElement: function (elem) {\r\n            this._super()\r\n                .insertToIndexed(elem);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds element to observable indexed object of instance\r\n         *\r\n         * @param  {Object} elem\r\n         * @return {Object} - reference to instance\r\n         */\r\n        insertToIndexed: function (elem) {\r\n            var indexed = this.indexed();\r\n\r\n            indexed[elem.index] = elem;\r\n\r\n            this.indexed(indexed);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys current instance along with all of its' children.\r\n         * Overrides base method to clear data when this method is called.\r\n         */\r\n        destroy: function () {\r\n            this._super();\r\n            this._clearData();\r\n        },\r\n\r\n        /**\r\n         * Clears all data associated with component.\r\n         * @private\r\n         *\r\n         * @returns {Item} Chainable.\r\n         */\r\n        _clearData: function () {\r\n            this.source.remove(this.dataScope);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Formats incoming previews array via parsePreview function.\r\n         *\r\n         * @param  {Array} previews\r\n         * @return {Array} - formatted previews\r\n         */\r\n        formatPreviews: function (previews) {\r\n            return previews.map(parsePreview);\r\n        },\r\n\r\n        /**\r\n         * Creates string view of previews\r\n         *\r\n         * @param  {Object} data\r\n         * @return {Strict} - formatted preview string\r\n         */\r\n        buildPreview: function (data) {\r\n            var preview = this.getPreview(data.items),\r\n                prefix = data.prefix;\r\n\r\n            return prefix + preview.join(data.separator);\r\n        },\r\n\r\n        /**\r\n         * Defines if instance has preview for incoming data\r\n         *\r\n         * @param  {Object}  data\r\n         * @return {Boolean}\r\n         */\r\n        hasPreview: function (data) {\r\n            return !!this.getPreview(data.items).length;\r\n        },\r\n\r\n        /**\r\n         * Creates an array of previews for elements specified in incoming\r\n         * items array, calls updatePreview afterwards.\r\n         *\r\n         * @param  {Array} items - An array of element's indexes.\r\n         * @returns {Array} An array of previews.\r\n         */\r\n        getPreview: function (items) {\r\n            var elems = this.indexed(),\r\n                displayed = this.displayed,\r\n                preview;\r\n\r\n            items = items.map(function (index) {\r\n                var elem = elems[index];\r\n\r\n                preview = elem && elem.visible() ? elem.getPreview() : '';\r\n\r\n                preview = Array.isArray(preview) ?\r\n                    _.compact(preview).join(', ') :\r\n                    preview;\r\n\r\n                utils.toggle(displayed, index, !!preview);\r\n\r\n                return preview;\r\n            });\r\n\r\n            this.noPreview(!displayed.length);\r\n\r\n            return _.compact(items);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/abstract.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiElement',\r\n    'Magento_Ui/js/lib/validation/validator'\r\n], function (_, utils, layout, Element, validator) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            visible: true,\r\n            preview: '',\r\n            focused: false,\r\n            required: false,\r\n            disabled: false,\r\n            valueChangedByUser: false,\r\n            elementTmpl: 'ui/form/element/input',\r\n            tooltipTpl: 'ui/form/element/helper/tooltip',\r\n            fallbackResetTpl: 'ui/form/element/helper/fallback-reset',\r\n            'input_type': 'input',\r\n            placeholder: false,\r\n            description: '',\r\n            labelVisible: true,\r\n            label: '',\r\n            error: '',\r\n            warn: '',\r\n            notice: '',\r\n            customScope: '',\r\n            default: '',\r\n            isDifferedFromDefault: false,\r\n            showFallbackReset: false,\r\n            additionalClasses: {},\r\n            isUseDefault: '',\r\n            serviceDisabled: false,\r\n            valueUpdate: false, // ko binding valueUpdate\r\n\r\n            switcherConfig: {\r\n                component: 'Magento_Ui/js/form/switcher',\r\n                name: '${ $.name }_switcher',\r\n                target: '${ $.name }',\r\n                property: 'value'\r\n            },\r\n            listens: {\r\n                visible: 'setPreview',\r\n                value: 'setDifferedFromDefault',\r\n                '${ $.provider }:data.reset': 'reset',\r\n                '${ $.provider }:data.overload': 'overload',\r\n                '${ $.provider }:${ $.customScope ? $.customScope + \".\" : \"\"}data.validate': 'validate',\r\n                'isUseDefault': 'toggleUseDefault'\r\n            },\r\n            ignoreTmpls: {\r\n                value: true\r\n            },\r\n\r\n            links: {\r\n                value: '${ $.provider }:${ $.dataScope }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Invokes initialize method of parent class,\r\n         * contains initialization logic\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'reset');\r\n\r\n            this._super()\r\n                .setInitialValue()\r\n                ._setClasses()\r\n                .initSwitcher();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if component has error.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        checkInvalid: function () {\r\n            return this.error() && this.error().length ? this : null;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            var rules = this.validation = this.validation || {};\r\n\r\n            this._super();\r\n\r\n            this.observe('error disabled focused preview visible value warn notice isDifferedFromDefault')\r\n                .observe('isUseDefault serviceDisabled')\r\n                .observe({\r\n                    'required': !!rules['required-entry']\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes regular properties of instance.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            var uid = utils.uniqueid(),\r\n                name,\r\n                valueUpdate,\r\n                scope;\r\n\r\n            this._super();\r\n\r\n            scope = this.dataScope.split('.');\r\n            name = scope.length > 1 ? scope.slice(1) : scope;\r\n\r\n            valueUpdate = this.showFallbackReset ? 'afterkeydown' : this.valueUpdate;\r\n\r\n            _.extend(this, {\r\n                uid: uid,\r\n                noticeId: 'notice-' + uid,\r\n                errorId: 'error-' + uid,\r\n                inputName: utils.serializeName(name.join('.')),\r\n                valueUpdate: valueUpdate\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes switcher element instance.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initSwitcher: function () {\r\n            if (this.switcherConfig.enabled) {\r\n                layout([this.switcherConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets initial value of the element and subscribes to it's changes.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        setInitialValue: function () {\r\n            this.initialValue = this.getInitialValue();\r\n\r\n            if (this.value.peek() !== this.initialValue) {\r\n                this.value(this.initialValue);\r\n            }\r\n\r\n            this.on('value', this.onUpdate.bind(this));\r\n            this.isUseDefault(this.disabled());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends 'additionalClasses' object.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        _setClasses: function () {\r\n            var additional = this.additionalClasses;\r\n\r\n            if (_.isString(additional)) {\r\n                this.additionalClasses = {};\r\n\r\n                if (additional.trim().length) {\r\n                    additional = additional.trim().split(' ');\r\n\r\n                    additional.forEach(function (name) {\r\n                        if (name.length) {\r\n                            this.additionalClasses[name] = true;\r\n                        }\r\n                    }, this);\r\n                }\r\n            }\r\n\r\n            _.extend(this.additionalClasses, {\r\n                _required: this.required,\r\n                _error: this.error,\r\n                _warn: this.warn,\r\n                _disabled: this.disabled\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Gets initial value of element\r\n         *\r\n         * @returns {*} Elements' value.\r\n         */\r\n        getInitialValue: function () {\r\n            var values = [this.value(), this.default],\r\n                value;\r\n\r\n            values.some(function (v) {\r\n                if (v !== null && v !== undefined) {\r\n                    value = v;\r\n\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            });\r\n\r\n            return this.normalizeData(value);\r\n        },\r\n\r\n        /**\r\n         * Sets 'value' as 'hidden' property's value, triggers 'toggle' event,\r\n         * sets instance's hidden identifier in params storage based on\r\n         * 'value'.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        setVisible: function (isVisible) {\r\n            this.visible(isVisible);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Show element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        show: function () {\r\n            this.visible(true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hide element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        hide: function () {\r\n            this.visible(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Disable element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        disable: function () {\r\n            this.disabled(true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Enable element.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        enable: function () {\r\n            this.disabled(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {(String|Object)} rule\r\n         * @param {(Object|Boolean)} [options]\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        setValidation: function (rule, options) {\r\n            var rules = utils.copy(this.validation),\r\n                changed;\r\n\r\n            if (_.isObject(rule)) {\r\n                _.extend(this.validation, rule);\r\n            } else {\r\n                this.validation[rule] = options;\r\n            }\r\n\r\n            changed = utils.compare(rules, this.validation).equal;\r\n\r\n            if (changed) {\r\n                this.required(!!rules['required-entry']);\r\n                this.validate();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns unwrapped preview observable.\r\n         *\r\n         * @returns {String} Value of the preview observable.\r\n         */\r\n        getPreview: function () {\r\n            return this.value();\r\n        },\r\n\r\n        /**\r\n         * Checks if element has addons\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasAddons: function () {\r\n            return this.addbefore || this.addafter;\r\n        },\r\n\r\n        /**\r\n         * Checks if element has service setting\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasService: function () {\r\n            return this.service && this.service.template;\r\n        },\r\n\r\n        /**\r\n         * Defines if value has changed.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasChanged: function () {\r\n            var notEqual = this.value() !== this.initialValue;\r\n\r\n            return !this.visible() ? false : notEqual;\r\n        },\r\n\r\n        /**\r\n         * Checks if 'value' is not empty.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return !utils.isEmpty(this.value());\r\n        },\r\n\r\n        /**\r\n         * Sets value observable to initialValue property.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        reset: function () {\r\n            this.value(this.initialValue);\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets current state as initial.\r\n         */\r\n        overload: function () {\r\n            this.setInitialValue();\r\n            this.bubble('update', this.hasChanged());\r\n        },\r\n\r\n        /**\r\n         * Clears 'value' property.\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.value('');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Converts values like 'null' or 'undefined' to an empty string.\r\n         *\r\n         * @param {*} value - Value to be processed.\r\n         * @returns {*}\r\n         */\r\n        normalizeData: function (value) {\r\n            return utils.isEmpty(value) ? '' : value;\r\n        },\r\n\r\n        /**\r\n         * Validates itself by it's validation rules using validator object.\r\n         * If validation of a rule did not pass, writes it's message to\r\n         * 'error' observable property.\r\n         *\r\n         * @returns {Object} Validate information.\r\n         */\r\n        validate: function () {\r\n            var value = this.value(),\r\n                result = validator(this.validation, value, this.validationParams),\r\n                message = !this.disabled() && this.visible() ? result.message : '',\r\n                isValid = this.disabled() || !this.visible() || result.passed;\r\n\r\n            this.error(message);\r\n            this.error.valueHasMutated();\r\n            this.bubble('error', message);\r\n\r\n            //TODO: Implement proper result propagation for form\r\n            if (this.source && !isValid) {\r\n                this.source.set('params.invalid', true);\r\n            }\r\n\r\n            return {\r\n                valid: isValid,\r\n                target: this\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Callback that fires when 'value' property is updated.\r\n         */\r\n        onUpdate: function () {\r\n            this.bubble('update', this.hasChanged());\r\n\r\n            this.validate();\r\n        },\r\n\r\n        /**\r\n         * Restore value to default\r\n         */\r\n        restoreToDefault: function () {\r\n            this.value(this.default);\r\n            this.focused(true);\r\n        },\r\n\r\n        /**\r\n         * Update whether value differs from default value\r\n         */\r\n        setDifferedFromDefault: function () {\r\n            var value = typeof this.value() != 'undefined' && this.value() !== null ? this.value() : '',\r\n                defaultValue = typeof this.default != 'undefined' && this.default !== null ? this.default : '';\r\n\r\n            this.isDifferedFromDefault(value !== defaultValue);\r\n        },\r\n\r\n        /**\r\n         * @param {Boolean} state\r\n         */\r\n        toggleUseDefault: function (state) {\r\n            this.disabled(state);\r\n\r\n            if (this.source && this.hasService()) {\r\n                this.source.set('data.use_default.' + this.index, Number(state));\r\n            }\r\n        },\r\n\r\n        /**\r\n         *  Callback when value is changed by user\r\n         */\r\n        userChanges: function () {\r\n            this.valueChangedByUser = true;\r\n        },\r\n\r\n        /**\r\n         * Returns correct id for 'aria-describedby' accessibility attribute\r\n         *\r\n         * @returns {Boolean|String}\r\n         */\r\n        getDescriptionId: function () {\r\n            var id = false;\r\n\r\n            if (this.error()) {\r\n                id = this.errorId;\r\n            } else if (this.notice()) {\r\n                id = this.noticeId;\r\n            }\r\n\r\n            return id;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/boolean.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './abstract'\r\n], function (Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            checked: false,\r\n            links: {\r\n                checked: 'value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @returns {*|void|Element}\r\n         */\r\n        initObservable: function () {\r\n            return this._super()\r\n                    .observe('checked');\r\n        },\r\n\r\n        /**\r\n         * Converts provided value to boolean.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        normalizeData: function () {\r\n            return !!+this._super();\r\n        },\r\n\r\n        /**\r\n         * Calls 'onUpdate' method of parent, if value is defined and instance's\r\n         *     'unique' property set to true, calls 'setUnique' method\r\n         *\r\n         * @return {Object} - reference to instance\r\n         */\r\n        onUpdate: function () {\r\n            if (this.hasUnique) {\r\n                this.setUnique();\r\n            }\r\n\r\n            return this._super();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/checkbox-set.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    './abstract'\r\n], function (_, utils, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            template: 'ui/form/element/checkbox-set',\r\n            multiple: false,\r\n            multipleScopeValue: null\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.value = this.normalizeData(this.value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initLinks: function () {\r\n            var scope = this.source.get(this.dataScope);\r\n\r\n            this.multipleScopeValue = this.multiple && _.isArray(scope) ? utils.copy(scope) : undefined;\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        reset: function () {\r\n            this.value(utils.copy(this.initialValue));\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        clear: function () {\r\n            var value = this.multiple ? [] : '';\r\n\r\n            this.value(value);\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        normalizeData: function (value) {\r\n            if (!this.multiple) {\r\n                return this._super();\r\n            }\r\n\r\n            return _.isArray(value) ? utils.copy(value) : [];\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        setInitialValue: function () {\r\n            this._super();\r\n\r\n            this.initialValue = utils.copy(this.initialValue);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        getInitialValue: function () {\r\n            var values = [this.multipleScopeValue, this.default, this.value.peek(), []],\r\n                value;\r\n\r\n            if (!this.multiple) {\r\n                return this._super();\r\n            }\r\n\r\n            values.some(function (v) {\r\n                return _.isArray(v) && (value = utils.copy(v));\r\n            });\r\n\r\n            return value;\r\n        },\r\n\r\n        /**\r\n         * Returns labels which matches current value.\r\n         *\r\n         * @returns {String|Array}\r\n         */\r\n        getPreview: function () {\r\n            var option;\r\n\r\n            if (!this.multiple) {\r\n                option = this.getOption(this.value());\r\n\r\n                return option ? option.label : '';\r\n            }\r\n\r\n            return this.value.map(function (value) {\r\n                return this.getOption(value).label;\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Returns option object associated with provided value.\r\n         *\r\n         * @param {String} value\r\n         * @returns {Object}\r\n         */\r\n        getOption: function (value) {\r\n            return _.findWhere(this.options, {\r\n                value: value\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        hasChanged: function () {\r\n            var value = this.value(),\r\n                initial = this.initialValue;\r\n\r\n            return this.multiple ?\r\n                !utils.equalArrays(value, initial) :\r\n                this._super();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/color-picker-palette.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/**\r\n * @api\r\n */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return [\r\n        [\r\n            'rgb(0,0,0)', 'rgb(52,52,52)', 'rgb(83,83,83)', 'rgb(135,135,135)', 'rgb(193,193,193)',\r\n            'rgb(234,234,234)', 'rgb(240,240,240)', 'rgb(255,255,255)'\r\n        ],\r\n        [\r\n            'rgb(252,0,9)', 'rgb(253,135,10)', 'rgb(255,255,13)', 'rgb(35,255,9)', 'rgb(33,255,255)',\r\n            'rgb(0,0,254)', 'rgb(132,0,254)', 'rgb(251,0,255)'\r\n        ],\r\n        [\r\n            'rgb(240,192,194)', 'rgb(251,223,194)', 'rgb(255,241,193)', 'rgb(210,230,201)',\r\n            'rgb(199,217,220)', 'rgb(197,219,240)', 'rgb(208,200,227)', 'rgb(229,199,212)'\r\n        ],\r\n        [\r\n            'rgb(228,133,135)', 'rgb(246,193,139)', 'rgb(254,225,136)', 'rgb(168,208,152)',\r\n            'rgb(146,184,190)', 'rgb(143,184,227)', 'rgb(165,148,204)', 'rgb(202,147,175)'\r\n        ],\r\n        [\r\n            'rgb(214,78,83)', 'rgb(243,163,88)', 'rgb(254,211,83)', 'rgb(130,187,106)',\r\n            'rgb(99,149,159)', 'rgb(93,150,211)', 'rgb(123,100,182)', 'rgb(180,100,142)'\r\n        ],\r\n        [\r\n            'rgb(190,0,5)', 'rgb(222,126,44)', 'rgb(236,183,39)', 'rgb(89,155,61)', 'rgb(55,110,123)',\r\n            'rgb(49,112,185)', 'rgb(83,55,150)', 'rgb(147,55,101)'\r\n        ],\r\n        [\r\n            'rgb(133,0,3)', 'rgb(163,74,10)', 'rgb(177,127,7)', 'rgb(45,101,23)', 'rgb(18,62,74)',\r\n            'rgb(14,62,129)', 'rgb(40,15,97)', 'rgb(95,16,55)'\r\n        ],\r\n        [\r\n            'rgb(81,0,1)', 'rgb(100,48,7)', 'rgb(107,78,3)', 'rgb(31,63,16)',\r\n            'rgb(13,39,46)', 'rgb(10,40,79)', 'rgb(24,12,59)', 'rgb(59,10,36)'\r\n        ]\r\n    ];\r\n});\r\n","Magento_Ui/js/form/element/color-picker.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'mage/translate',\r\n    'Magento_Ui/js/form/element/abstract',\r\n    'Magento_Ui/js/form/element/color-picker-palette'\r\n], function ($t, Abstract, palette) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n\r\n        defaults: {\r\n            colorPickerConfig: {\r\n                chooseText: $t('Apply'),\r\n                cancelText: $t('Cancel'),\r\n                maxSelectionSize: 8,\r\n                clickoutFiresChange: true,\r\n                allowEmpty: true,\r\n                localStorageKey: 'magento.spectrum',\r\n                palette: palette\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Invokes initialize method of parent class,\r\n         * contains initialization logic\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            this.colorPickerConfig.value = this.value;\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/country.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    './select'\r\n], function (_, registry, Select) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            imports: {\r\n                update: '${ $.parentName }.website_id:value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Filters 'initialOptions' property by 'field' and 'value' passed,\r\n         * calls 'setOptions' passing the result to it\r\n         *\r\n         * @param {*} value\r\n         * @param {String} field\r\n         */\r\n        filter: function (value, field) {\r\n            var result, defaultCountry, defaultValue;\r\n\r\n            if (!field) { //validate field, if we are on update\r\n                field = this.filterBy.field;\r\n            }\r\n\r\n            this._super(value, field);\r\n            result = _.filter(this.initialOptions, function (item) {\r\n\r\n                if (item[field]) {\r\n                    return ~item[field].indexOf(value);\r\n                }\r\n\r\n                return false;\r\n            });\r\n\r\n            this.setOptions(result);\r\n            this.reset();\r\n\r\n            if (!this.value()) {\r\n                defaultCountry = _.filter(result, function (item) {\r\n                    return item['is_default'] && _.contains(item['is_default'], value);\r\n                });\r\n\r\n                if (defaultCountry.length) {\r\n                    defaultValue = defaultCountry.shift();\r\n                    this.value(defaultValue.value);\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n","Magento_Ui/js/form/element/date.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'moment',\r\n    'mageUtils',\r\n    './abstract',\r\n    'moment-timezone-with-data'\r\n], function (moment, utils, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            options: {},\r\n\r\n            storeTimeZone: 'UTC',\r\n\r\n            validationParams: {\r\n                dateFormat: '${ $.outputDateFormat }'\r\n            },\r\n\r\n            /**\r\n             * Format of date that comes from the\r\n             * server (ICU Date Format).\r\n             *\r\n             * Used only in date picker mode\r\n             * (this.options.showsTime == false).\r\n             *\r\n             * @type {String}\r\n             */\r\n            inputDateFormat: 'y-MM-dd',\r\n\r\n            /**\r\n             * Format of date that should be sent to the\r\n             * server (ICU Date Format).\r\n             *\r\n             * Used only in date picker mode\r\n             * (this.options.showsTime == false).\r\n             *\r\n             * @type {String}\r\n             */\r\n            outputDateFormat: 'MM/dd/y',\r\n\r\n            /**\r\n             * Date/time format that is used to display date in\r\n             * the input field.\r\n             *\r\n             * @type {String}\r\n             */\r\n            pickerDateTimeFormat: '',\r\n\r\n            pickerDefaultDateFormat: 'MM/dd/y', // ICU Date Format\r\n            pickerDefaultTimeFormat: 'h:mm a', // ICU Time Format\r\n\r\n            elementTmpl: 'ui/form/element/date',\r\n\r\n            /**\r\n             * Format needed by moment timezone for conversion\r\n             */\r\n            timezoneFormat: 'YYYY-MM-DD HH:mm',\r\n\r\n            listens: {\r\n                'value': 'onValueChange',\r\n                'shiftedValue': 'onShiftedValueChange'\r\n            },\r\n\r\n            /**\r\n             * Date/time value shifted to corresponding timezone\r\n             * according to this.storeTimeZone property. This value\r\n             * will be sent to the server.\r\n             *\r\n             * @type {String}\r\n             */\r\n            shiftedValue: ''\r\n        },\r\n\r\n        /**\r\n         * Initializes regular properties of instance.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            if (!this.options.dateFormat) {\r\n                this.options.dateFormat = this.pickerDefaultDateFormat;\r\n            }\r\n\r\n            if (!this.options.timeFormat) {\r\n                this.options.timeFormat = this.pickerDefaultTimeFormat;\r\n            }\r\n\r\n            this.prepareDateTimeFormats();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initObservable: function () {\r\n            return this._super().observe(['shiftedValue']);\r\n        },\r\n\r\n        /**\r\n         * Prepares and sets date/time value that will be displayed\r\n         * in the input field.\r\n         *\r\n         * @param {String} value\r\n         */\r\n        onValueChange: function (value) {\r\n            var dateFormat,\r\n                shiftedValue;\r\n\r\n            if (value) {\r\n                if (this.options.showsTime) {\r\n                    shiftedValue = moment.tz(value, 'UTC').tz(this.storeTimeZone);\r\n                } else {\r\n                    dateFormat = this.shiftedValue() ? this.outputDateFormat : this.inputDateFormat;\r\n\r\n                    shiftedValue = moment(value, dateFormat);\r\n                }\r\n\r\n                shiftedValue = shiftedValue.format(this.pickerDateTimeFormat);\r\n            } else {\r\n                shiftedValue = '';\r\n            }\r\n\r\n            if (shiftedValue !== this.shiftedValue()) {\r\n                this.shiftedValue(shiftedValue);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Prepares and sets date/time value that will be sent\r\n         * to the server.\r\n         *\r\n         * @param {String} shiftedValue\r\n         */\r\n        onShiftedValueChange: function (shiftedValue) {\r\n            var value,\r\n                formattedValue,\r\n                momentValue;\r\n\r\n            if (shiftedValue) {\r\n                momentValue = moment(shiftedValue, this.pickerDateTimeFormat);\r\n\r\n                if (this.options.showsTime) {\r\n                    formattedValue = moment(momentValue).format(this.timezoneFormat);\r\n                    value = moment.tz(formattedValue, this.storeTimeZone).tz('UTC').toISOString();\r\n                } else {\r\n                    value = momentValue.format(this.outputDateFormat);\r\n                }\r\n            } else {\r\n                value = '';\r\n            }\r\n\r\n            if (value !== this.value()) {\r\n                this.value(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Prepares and converts all date/time formats to be compatible\r\n         * with moment.js library.\r\n         */\r\n        prepareDateTimeFormats: function () {\r\n            this.pickerDateTimeFormat = this.options.dateFormat;\r\n\r\n            if (this.options.showsTime) {\r\n                this.pickerDateTimeFormat += ' ' + this.options.timeFormat;\r\n            }\r\n\r\n            this.pickerDateTimeFormat = utils.convertToMomentFormat(this.pickerDateTimeFormat);\r\n\r\n            if (this.options.dateFormat) {\r\n                this.outputDateFormat = this.options.dateFormat;\r\n            }\r\n\r\n            this.inputDateFormat = utils.convertToMomentFormat(this.inputDateFormat);\r\n            this.outputDateFormat = utils.convertToMomentFormat(this.outputDateFormat);\r\n\r\n            this.validationParams.dateFormat = this.outputDateFormat;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/file-uploader.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\n/* global Base64 */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/lib/validation/validator',\r\n    'Magento_Ui/js/form/element/abstract',\r\n    'mage/backend/notification',\r\n    'mage/translate',\r\n    'jquery/file-uploader',\r\n    'mage/adminhtml/tools'\r\n], function ($, _, utils, uiAlert, validator, Element, notification, $t) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            value: [],\r\n            aggregatedErrors: [],\r\n            maxFileSize: false,\r\n            isMultipleFiles: false,\r\n            placeholderType: 'document', // 'image', 'video'\r\n            allowedExtensions: false,\r\n            previewTmpl: 'ui/form/element/uploader/preview',\r\n            dropZone: '[data-role=drop-zone]',\r\n            isLoading: false,\r\n            uploaderConfig: {\r\n                dataType: 'json',\r\n                sequentialUploads: true,\r\n                formData: {\r\n                    'form_key': window.FORM_KEY\r\n                }\r\n            },\r\n            tracks: {\r\n                isLoading: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes file uploader plugin on provided input element.\r\n         *\r\n         * @param {HTMLInputElement} fileInput\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        initUploader: function (fileInput) {\r\n            this.$fileInput = fileInput;\r\n\r\n            _.extend(this.uploaderConfig, {\r\n                dropZone:   $(fileInput).closest(this.dropZone),\r\n                change:     this.onFilesChoosed.bind(this),\r\n                drop:       this.onFilesChoosed.bind(this),\r\n                add:        this.onBeforeFileUpload.bind(this),\r\n                done:       this.onFileUploaded.bind(this),\r\n                start:      this.onLoadingStart.bind(this),\r\n                stop:       this.onLoadingStop.bind(this)\r\n            });\r\n\r\n            $(fileInput).fileupload(this.uploaderConfig);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines initial value of the instance.\r\n         *\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        setInitialValue: function () {\r\n            var value = this.getInitialValue();\r\n\r\n            value = value.map(this.processFile, this);\r\n\r\n            this.initialValue = value.slice();\r\n\r\n            this.value(value);\r\n            this.on('value', this.onUpdate.bind(this));\r\n            this.isUseDefault(this.disabled());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Empties files list.\r\n         *\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.value.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if files list contains any items.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return !!this.value().length;\r\n        },\r\n\r\n        /**\r\n         * Resets files list to its' initial value.\r\n         *\r\n         * @returns {FileUploader}\r\n         */\r\n        reset: function () {\r\n            var value = this.initialValue.slice();\r\n\r\n            this.value(value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds provided file to the files list.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        addFile: function (file) {\r\n            file = this.processFile(file);\r\n\r\n            this.isMultipleFiles ?\r\n                this.value.push(file) :\r\n                this.value([file]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieves from the list file which matches\r\n         * search criteria implemented in itertor function.\r\n         *\r\n         * @param {Function} fn - Function that will be invoked\r\n         *      for each file in the list.\r\n         * @returns {Object}\r\n         */\r\n        getFile: function (fn) {\r\n            return _.find(this.value(), fn);\r\n        },\r\n\r\n        /**\r\n         * Removes provided file from thes files list.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        removeFile: function (file) {\r\n            this.value.remove(file);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * May perform modifications on the provided\r\n         * file object before adding it to the files list.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {Object} Modified file object.\r\n         */\r\n        processFile: function (file) {\r\n            file.previewType = this.getFilePreviewType(file);\r\n\r\n            if (!file.id && file.name) {\r\n                file.id = Base64.mageEncode(file.name);\r\n            }\r\n\r\n            this.observe.call(file, true, [\r\n                'previewWidth',\r\n                'previewHeight'\r\n            ]);\r\n\r\n            return file;\r\n        },\r\n\r\n        /**\r\n         * Formats incoming bytes value to a readable format.\r\n         *\r\n         * @param {Number} bytes\r\n         * @returns {String}\r\n         */\r\n        formatSize: function (bytes) {\r\n            var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'],\r\n                i;\r\n\r\n            if (bytes === 0) {\r\n                return '0 Byte';\r\n            }\r\n\r\n            i = window.parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\r\n\r\n            return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\r\n        },\r\n\r\n        /**\r\n         * Returns path to the files' preview image.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {String}\r\n         */\r\n        getFilePreview: function (file) {\r\n            return file.url;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the file's preview template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getPreviewTmpl: function () {\r\n            return this.previewTmpl;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided file is allowed to be uploaded.\r\n         *\r\n         * @param {Object} file\r\n         * @returns {Object} Validation result.\r\n         */\r\n        isFileAllowed: function (file) {\r\n            var result;\r\n\r\n            _.every([\r\n                this.isExtensionAllowed(file),\r\n                this.isSizeExceeded(file)\r\n            ], function (value) {\r\n                result = value;\r\n\r\n                return value.passed;\r\n            });\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Checks if extension of provided file is allowed.\r\n         *\r\n         * @param {Object} file - File to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isExtensionAllowed: function (file) {\r\n            return validator('validate-file-type', file.name, this.allowedExtensions);\r\n        },\r\n\r\n        /**\r\n         * Get simplified file type.\r\n         *\r\n         * @param {Object} file - File to be checked.\r\n         * @returns {String}\r\n         */\r\n        getFilePreviewType: function (file) {\r\n            var type;\r\n\r\n            if (!file.type) {\r\n                return 'document';\r\n            }\r\n\r\n            type = file.type.split('/')[0];\r\n\r\n            return type !== 'image' && type !== 'video' ? 'document' : type;\r\n        },\r\n\r\n        /**\r\n         * Checks if size of provided file exceeds\r\n         * defined in configuration size limits.\r\n         *\r\n         * @param {Object} file - File to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isSizeExceeded: function (file) {\r\n            return validator('validate-max-size', file.size, this.maxFileSize);\r\n        },\r\n\r\n        /**\r\n         * Displays provided error message.\r\n         *\r\n         * @param {String} msg\r\n         * @returns {FileUploader} Chainable.\r\n         */\r\n        notifyError: function (msg) {\r\n            var data = {\r\n                content: msg\r\n            };\r\n\r\n            if (this.isMultipleFiles) {\r\n                data.modalClass = '_image-box';\r\n            }\r\n\r\n            uiAlert(data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Performs data type conversions.\r\n         *\r\n         * @param {*} value\r\n         * @returns {Array}\r\n         */\r\n        normalizeData: function (value) {\r\n            return utils.isEmpty(value) ? [] : value;\r\n        },\r\n\r\n        /**\r\n         * Checks if files list is different\r\n         * from its' initial value.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasChanged: function () {\r\n            var value = this.value(),\r\n                initial = this.initialValue;\r\n\r\n            return !utils.equalArrays(value, initial);\r\n        },\r\n\r\n        /**\r\n         * Handler which is invoked when files are choosed for upload.\r\n         * May be used for implementation of additional validation rules,\r\n         * e.g. total files and a total size rules.\r\n         *\r\n         * @param {Event} e - Event object.\r\n         * @param {Object} data - File data that will be uploaded.\r\n         */\r\n        onFilesChoosed: function (e, data) {\r\n            // no option exists in fileuploader for restricting upload chains to single files; this enforces that policy\r\n            if (!this.isMultipleFiles) {\r\n                data.files.splice(1);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler which is invoked prior to the start of a file upload.\r\n         *\r\n         * @param {Event} e - Event object.\r\n         * @param {Object} data - File data that will be uploaded.\r\n         */\r\n        onBeforeFileUpload: function (e, data) {\r\n            var file     = data.files[0],\r\n                allowed  = this.isFileAllowed(file),\r\n                target   = $(e.target);\r\n\r\n            if (allowed.passed) {\r\n                target.on('fileuploadsend', function (event, postData) {\r\n                    postData.data.append('param_name', this.paramName);\r\n                }.bind(data));\r\n\r\n                target.fileupload('process', data).done(function () {\r\n                    data.submit();\r\n                });\r\n            } else {\r\n                this.aggregateError(file.name, allowed.message);\r\n\r\n                // if all files in upload chain are invalid, stop callback is never called; this resolves promise\r\n                if (this.aggregatedErrors.length === data.originalFiles.length) {\r\n                    this.uploaderConfig.stop();\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Add error message associated with filename for display when upload chain is complete\r\n         *\r\n         * @param {String} filename\r\n         * @param {String} message\r\n         */\r\n        aggregateError: function (filename, message) {\r\n            this.aggregatedErrors.push({\r\n                filename: filename,\r\n                message: message\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handler of the file upload complete event.\r\n         *\r\n         * @param {Event} e\r\n         * @param {Object} data\r\n         */\r\n        onFileUploaded: function (e, data) {\r\n            var uploadedFilename = data.files[0].name,\r\n                file    = data.result,\r\n                error   = file.error;\r\n\r\n            error ?\r\n                this.aggregateError(uploadedFilename, error) :\r\n                this.addFile(file);\r\n        },\r\n\r\n        /**\r\n         * Load start event handler.\r\n         */\r\n        onLoadingStart: function () {\r\n            this.isLoading = true;\r\n        },\r\n\r\n        /**\r\n         * Load stop event handler.\r\n         */\r\n        onLoadingStop: function () {\r\n            var aggregatedErrorMessages = [];\r\n\r\n            this.isLoading = false;\r\n\r\n            if (!this.aggregatedErrors.length) {\r\n                return;\r\n            }\r\n\r\n            if (!this.isMultipleFiles) { // only single file upload occurred; use first file's error message\r\n                aggregatedErrorMessages.push(this.aggregatedErrors[0].message);\r\n            } else { // construct message from all aggregatedErrors\r\n                _.each(this.aggregatedErrors, function (error) {\r\n                    notification().add({\r\n                        error: true,\r\n                        message: '%s' + error.message, // %s to be used as placeholder for html injection\r\n\r\n                        /**\r\n                         * Adds constructed error notification to aggregatedErrorMessages\r\n                         *\r\n                         * @param {String} constructedMessage\r\n                         */\r\n                        insertMethod: function (constructedMessage) {\r\n                            var errorMsgBodyHtml = '<strong>%s</strong> %s.<br>'\r\n                                .replace('%s', error.filename)\r\n                                .replace('%s', $t('was not uploaded'));\r\n\r\n                            // html is escaped in message body for notification widget; prepend unescaped html here\r\n                            constructedMessage = constructedMessage.replace('%s', errorMsgBodyHtml);\r\n\r\n                            aggregatedErrorMessages.push(constructedMessage);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.notifyError(aggregatedErrorMessages.join(''));\r\n\r\n            // clear out aggregatedErrors array for this completed upload chain\r\n            this.aggregatedErrors = [];\r\n        },\r\n\r\n        /**\r\n         * Handler function which is supposed to be invoked when\r\n         * file input element has been rendered.\r\n         *\r\n         * @param {HTMLInputElement} fileInput\r\n         */\r\n        onElementRender: function (fileInput) {\r\n            this.initUploader(fileInput);\r\n        },\r\n\r\n        /**\r\n         * Handler of the preview image load event.\r\n         *\r\n         * @param {Object} file - File associated with an image.\r\n         * @param {Event} e\r\n         */\r\n        onPreviewLoad: function (file, e) {\r\n            var img = e.currentTarget;\r\n\r\n            file.previewWidth = img.naturalWidth;\r\n            file.previewHeight = img.naturalHeight;\r\n        },\r\n\r\n        /**\r\n         * Restore value to default\r\n         */\r\n        restoreToDefault: function () {\r\n            var defaultValue = utils.copy(this.default);\r\n\r\n            defaultValue.map(this.processFile, this);\r\n            this.value(defaultValue);\r\n        },\r\n\r\n        /**\r\n         * Update whether value differs from default value\r\n         */\r\n        setDifferedFromDefault: function () {\r\n            var value = utils.copy(this.value());\r\n\r\n            this.isDifferedFromDefault(!_.isEqual(value, this.default));\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/image-uploader.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global Base64 */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'Magento_Ui/js/modal/alert',\r\n    'Magento_Ui/js/lib/validation/validator',\r\n    'Magento_Ui/js/form/element/file-uploader',\r\n    'mage/adminhtml/browser',\r\n    'mage/adminhtml/tools'\r\n], function ($, _, utils, uiAlert, validator, Element, browser) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        /**\r\n         * {@inheritDoc}\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            // Listen for file deletions from the media browser\r\n            $(window).on('fileDeleted.mediabrowser', this.onDeleteFile.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Assign uid for media gallery\r\n         *\r\n         * @return {ImageUploader} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            var mediaGalleryUid = utils.uniqueid();\r\n\r\n            this._super();\r\n\r\n            _.extend(this, {\r\n                mediaGalleryUid: mediaGalleryUid\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Add file event callback triggered from media gallery\r\n         *\r\n         * @param {ImageUploader} imageUploader - UI Class\r\n         * @param {Event} e\r\n         */\r\n        addFileFromMediaGallery: function (imageUploader, e) {\r\n            var $buttonEl = $(e.target),\r\n                fileSize = $buttonEl.data('size'),\r\n                fileMimeType = $buttonEl.data('mime-type'),\r\n                filePathname = $buttonEl.val(),\r\n                fileBasename = filePathname.split('/').pop();\r\n\r\n            this.addFile({\r\n                type: fileMimeType,\r\n                name: fileBasename,\r\n                size: fileSize,\r\n                url: filePathname\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Open the media browser dialog\r\n         *\r\n         * @param {ImageUploader} imageUploader - UI Class\r\n         * @param {Event} e\r\n         */\r\n        openMediaBrowserDialog: function (imageUploader, e) {\r\n            var $buttonEl = $(e.target),\r\n                openDialogUrl = this.mediaGallery.openDialogUrl +\r\n                'target_element_id/' + $buttonEl.attr('id') +\r\n                '/store/' + this.mediaGallery.storeId +\r\n                '/type/image/?isAjax=true';\r\n\r\n            if (this.mediaGallery.initialOpenSubpath) {\r\n                openDialogUrl += '&current_tree_path=' + Base64.mageEncode(this.mediaGallery.initialOpenSubpath);\r\n            }\r\n\r\n            browser.openDialog(openDialogUrl, null, null, this.mediaGallery.openDialogTitle);\r\n        },\r\n\r\n        /**\r\n         * @param {jQuery.event} e\r\n         * @param {Object} data\r\n         * @returns {Object} Chainables\r\n         */\r\n        onDeleteFile: function (e, data) {\r\n            var fileId = this.getFileId(),\r\n                deletedFileIds = data.ids;\r\n\r\n            if (fileId && $.inArray(fileId, deletedFileIds) > -1) {\r\n                this.clear();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * {@inheritDoc}\r\n         */\r\n        clear: function () {\r\n            this.value([]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Gets the ID of the file used if set\r\n         *\r\n         * @return {String|Null} ID\r\n         */\r\n        getFileId: function () {\r\n            return this.hasData() ? this.value()[0].id : null;\r\n        },\r\n\r\n        /**\r\n         * Trigger native browser file upload UI via clicking on 'Upload' button\r\n         *\r\n         * @param {ImageUploader} imageUploader - UI Class\r\n         * @param {Event} e\r\n         */\r\n        triggerImageUpload: function (imageUploader, e) {\r\n            $(e.target).closest('.file-uploader').find('input[type=\"file\"]').click();\r\n        },\r\n\r\n        /**\r\n         * Get list of file extensions allowed in comma delimited format\r\n         *\r\n         * @return {String}\r\n         */\r\n        getAllowedFileExtensionsInCommaDelimitedFormat: function () {\r\n            var allowedExtensions = this.allowedExtensions.toUpperCase().split(' ');\r\n\r\n            // if jpg and jpeg in allowed extensions, remove jpeg from list\r\n            if (allowedExtensions.indexOf('JPG') !== -1 && allowedExtensions.indexOf('JPEG') !== -1) {\r\n                allowedExtensions.splice(allowedExtensions.indexOf('JPEG'), 1);\r\n            }\r\n\r\n            return allowedExtensions.join(', ');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/media.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'mageUtils',\r\n    './abstract'\r\n], function (utils, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            links: {\r\n                value: ''\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes file component.\r\n         *\r\n         * @returns {Media} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initFormId();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines form ID with which file input will be associated.\r\n         *\r\n         * @returns {Media} Chainable.\r\n         */\r\n        initFormId: function () {\r\n            var namespace;\r\n\r\n            if (this.formId) {\r\n                return this;\r\n            }\r\n\r\n            namespace   = this.name.split('.');\r\n            this.formId = namespace[0];\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/multiselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    './select'\r\n], function (_, utils, Select) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            size: 5,\r\n            elementTmpl: 'ui/form/element/multiselect',\r\n            listens: {\r\n                value: 'setDifferedFromDefault setPrepareToSendData'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        setInitialValue: function () {\r\n            this._super();\r\n\r\n            this.initialValue = utils.copy(this.initialValue);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        normalizeData: function (value) {\r\n            if (utils.isEmpty(value)) {\r\n                value = [];\r\n            }\r\n\r\n            return _.isString(value) ? value.split(',') : value;\r\n        },\r\n\r\n        /**\r\n         * Sets the prepared data to dataSource\r\n         * by path, where key is component link to dataSource with\r\n         * suffix \"-prepared-for-send\"\r\n         *\r\n         * @param {Array} data - current component value\r\n         */\r\n        setPrepareToSendData: function (data) {\r\n            if (_.isUndefined(data) || !data.length) {\r\n                data = '';\r\n            }\r\n\r\n            this.source.set(this.dataScope + '-prepared-for-send', data);\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        getInitialValue: function () {\r\n            var values = [\r\n                    this.normalizeData(this.source.get(this.dataScope)),\r\n                    this.normalizeData(this.default)\r\n                ],\r\n                value;\r\n\r\n            values.some(function (v) {\r\n                return _.isArray(v) && (value = utils.copy(v)) && !_.isEmpty(v);\r\n            });\r\n\r\n            return value;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        hasChanged: function () {\r\n            var value = this.value(),\r\n                initial = this.initialValue;\r\n\r\n            return !utils.equalArrays(value, initial);\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        reset: function () {\r\n            this.value(utils.copy(this.initialValue));\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        clear: function () {\r\n            this.value([]);\r\n            this.error(false);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/post-code.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    './abstract'\r\n], function (_, registry, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            imports: {\r\n                update: '${ $.parentName }.country_id:value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {String} value\r\n         */\r\n        update: function (value) {\r\n            var country = registry.get(this.parentName + '.' + 'country_id'),\r\n                options = country.indexedOptions,\r\n                option = null;\r\n\r\n            if (!value) {\r\n                return;\r\n            }\r\n\r\n            option = options[value];\r\n\r\n            if (!option) {\r\n                return;\r\n            }\r\n\r\n            if (option['is_zipcode_optional']) {\r\n                this.error(false);\r\n                this.validation = _.omit(this.validation, 'required-entry');\r\n            } else {\r\n                this.validation['required-entry'] = true;\r\n            }\r\n\r\n            this.required(!option['is_zipcode_optional']);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/region.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    './select',\r\n    'Magento_Checkout/js/model/default-post-code-resolver'\r\n], function (_, registry, Select, defaultPostCodeResolver) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            skipValidation: false,\r\n            imports: {\r\n                update: '${ $.parentName }.country_id:value'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {String} value\r\n         */\r\n        update: function (value) {\r\n            var country = registry.get(this.parentName + '.' + 'country_id'),\r\n                options = country.indexedOptions,\r\n                isRegionRequired,\r\n                option;\r\n\r\n            if (!value) {\r\n                return;\r\n            }\r\n            option = options[value];\r\n\r\n            if (typeof option === 'undefined') {\r\n                return;\r\n            }\r\n\r\n            defaultPostCodeResolver.setUseDefaultPostCode(!option['is_zipcode_optional']);\r\n\r\n            if (this.skipValidation) {\r\n                this.validation['required-entry'] = false;\r\n                this.required(false);\r\n            } else {\r\n                if (option && !option['is_region_required']) {\r\n                    this.error(false);\r\n                    this.validation = _.omit(this.validation, 'required-entry');\r\n                    registry.get(this.customName, function (input) {\r\n                        input.validation['required-entry'] = false;\r\n                        input.required(false);\r\n                    });\r\n                } else {\r\n                    this.validation['required-entry'] = true;\r\n                }\r\n\r\n                if (option && !this.options().length) {\r\n                    registry.get(this.customName, function (input) {\r\n                        isRegionRequired = !!option['is_region_required'];\r\n                        input.validation['required-entry'] = isRegionRequired;\r\n                        input.validation['validate-not-number-first'] = true;\r\n                        input.required(isRegionRequired);\r\n                    });\r\n                }\r\n\r\n                this.required(!!option['is_region_required']);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Filters 'initialOptions' property by 'field' and 'value' passed,\r\n         * calls 'setOptions' passing the result to it\r\n         *\r\n         * @param {*} value\r\n         * @param {String} field\r\n         */\r\n        filter: function (value, field) {\r\n            var superFn = this._super;\r\n\r\n            registry.get(this.parentName + '.' + 'country_id', function (country) {\r\n                var option = country.indexedOptions[value];\r\n\r\n                superFn.call(this, value, field);\r\n\r\n                if (option && option['is_region_visible'] === false) {\r\n                    // hide select and corresponding text input field if region must not be shown for selected country\r\n                    this.setVisible(false);\r\n\r\n                    if (this.customEntry) {// eslint-disable-line max-depth\r\n                        this.toggleInput(false);\r\n                    }\r\n                }\r\n            }.bind(this));\r\n        }\r\n    });\r\n});\r\n\r\n","Magento_Ui/js/form/element/select.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    './abstract',\r\n    'uiLayout'\r\n], function (_, utils, registry, Abstract, layout) {\r\n    'use strict';\r\n\r\n    var inputNode = {\r\n        parent: '${ $.$data.parentName }',\r\n        component: 'Magento_Ui/js/form/element/abstract',\r\n        template: '${ $.$data.template }',\r\n        provider: '${ $.$data.provider }',\r\n        name: '${ $.$data.index }_input',\r\n        dataScope: '${ $.$data.customEntry }',\r\n        customScope: '${ $.$data.customScope }',\r\n        sortOrder: {\r\n            after: '${ $.$data.name }'\r\n        },\r\n        displayArea: 'body',\r\n        label: '${ $.$data.label }'\r\n    };\r\n\r\n    /**\r\n     * Parses incoming options, considers options with undefined value property\r\n     *     as caption\r\n     *\r\n     * @param  {Array} nodes\r\n     * @return {Object}\r\n     */\r\n    function parseOptions(nodes, captionValue) {\r\n        var caption,\r\n            value;\r\n\r\n        nodes = _.map(nodes, function (node) {\r\n            value = node.value;\r\n\r\n            if (value === null || value === captionValue) {\r\n                if (_.isUndefined(caption)) {\r\n                    caption = node.label;\r\n                }\r\n            } else {\r\n                return node;\r\n            }\r\n        });\r\n\r\n        return {\r\n            options: _.compact(nodes),\r\n            caption: _.isString(caption) ? caption : false\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Recursively loops over data to find non-undefined, non-array value\r\n     *\r\n     * @param  {Array} data\r\n     * @return {*} - first non-undefined value in array\r\n     */\r\n    function findFirst(data) {\r\n        var value;\r\n\r\n        data.some(function (node) {\r\n            value = node.value;\r\n\r\n            if (Array.isArray(value)) {\r\n                value = findFirst(value);\r\n            }\r\n\r\n            return !_.isUndefined(value);\r\n        });\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Recursively set to object item like value and item.value like key.\r\n     *\r\n     * @param {Array} data\r\n     * @param {Object} result\r\n     * @returns {Object}\r\n     */\r\n    function indexOptions(data, result) {\r\n        var value;\r\n\r\n        result = result || {};\r\n\r\n        data.forEach(function (item) {\r\n            value = item.value;\r\n\r\n            if (Array.isArray(value)) {\r\n                indexOptions(value, result);\r\n            } else {\r\n                result[value] = item;\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            customName: '${ $.parentName }.${ $.index }_input',\r\n            elementTmpl: 'ui/form/element/select',\r\n            caption: '',\r\n            options: []\r\n        },\r\n\r\n        /**\r\n         * Extends instance with defaults, extends config with formatted values\r\n         *     and options, and invokes initialize method of AbstractElement class.\r\n         *     If instance's 'customEntry' property is set to true, calls 'initInput'\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            if (this.customEntry) {\r\n                registry.get(this.name, this.initInput.bind(this));\r\n            }\r\n\r\n            if (this.filterBy) {\r\n                this.initFilter();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent, initializes 'options' and 'initialOptions'\r\n         *     properties, calls 'setOptions' passing options to it\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super();\r\n\r\n            this.initialOptions = this.options;\r\n\r\n            this.observe('options caption')\r\n                .setOptions(this.options());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set link for filter.\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        initFilter: function () {\r\n            var filter = this.filterBy;\r\n\r\n            this.filter(this.default, filter.field);\r\n            this.setLinks({\r\n                filter: filter.target\r\n            }, 'imports');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates input from template, renders it via renderer.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initInput: function () {\r\n            layout([utils.template(inputNode, this)]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Matches specified value with existing options\r\n         * or, if value is not specified, returns value of the first option.\r\n         *\r\n         * @returns {*}\r\n         */\r\n        normalizeData: function () {\r\n            var value = this._super(),\r\n                option;\r\n\r\n            if (value !== '') {\r\n                option = this.getOption(value);\r\n\r\n                return option && option.value;\r\n            }\r\n\r\n            if (!this.caption()) {\r\n                return findFirst(this.options);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Filters 'initialOptions' property by 'field' and 'value' passed,\r\n         * calls 'setOptions' passing the result to it\r\n         *\r\n         * @param {*} value\r\n         * @param {String} field\r\n         */\r\n        filter: function (value, field) {\r\n            var source = this.initialOptions,\r\n                result;\r\n\r\n            field = field || this.filterBy.field;\r\n\r\n            result = _.filter(source, function (item) {\r\n                return item[field] === value || item.value === '';\r\n            });\r\n\r\n            this.setOptions(result);\r\n        },\r\n\r\n        /**\r\n         * Change visibility for input.\r\n         *\r\n         * @param {Boolean} isVisible\r\n         */\r\n        toggleInput: function (isVisible) {\r\n            registry.get(this.customName, function (input) {\r\n                input.setVisible(isVisible);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Sets 'data' to 'options' observable array, if instance has\r\n         * 'customEntry' property set to true, calls 'setHidden' method\r\n         *  passing !options.length as a parameter\r\n         *\r\n         * @param {Array} data\r\n         * @returns {Object} Chainable\r\n         */\r\n        setOptions: function (data) {\r\n            var captionValue = this.captionValue || '',\r\n                result = parseOptions(data, captionValue),\r\n                isVisible;\r\n\r\n            this.indexedOptions = indexOptions(result.options);\r\n\r\n            this.options(result.options);\r\n\r\n            if (!this.caption()) {\r\n                this.caption(result.caption);\r\n            }\r\n\r\n            if (this.customEntry) {\r\n                isVisible = !!result.options.length;\r\n\r\n                this.setVisible(isVisible);\r\n                this.toggleInput(!isVisible);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Processes preview for option by it's value, and sets the result\r\n         * to 'preview' observable\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        getPreview: function () {\r\n            var value = this.value(),\r\n                option = this.indexedOptions[value],\r\n                preview = option ? option.label : '';\r\n\r\n            this.preview(preview);\r\n\r\n            return preview;\r\n        },\r\n\r\n        /**\r\n         * Get option from indexedOptions list.\r\n         *\r\n         * @param {Number} value\r\n         * @returns {Object} Chainable\r\n         */\r\n        getOption: function (value) {\r\n            return this.indexedOptions[value];\r\n        },\r\n\r\n        /**\r\n         * Select first available option\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        clear: function () {\r\n            var value = this.caption() ? '' : findFirst(this.options);\r\n\r\n            this.value(value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        setInitialValue: function () {\r\n            if (_.isUndefined(this.value()) && !this.default) {\r\n                this.clear();\r\n            }\r\n\r\n            return this._super();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/single-checkbox-toggle-notice.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/form/element/single-checkbox'\r\n], function (SingleCheckbox) {\r\n    'use strict';\r\n\r\n    return SingleCheckbox.extend({\r\n        defaults: {\r\n            notices: [],\r\n            tracks: {\r\n                notice: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Choose notice on initialization\r\n         *\r\n         * @returns {*|void|Element}\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .chooseNotice();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Choose notice function\r\n         *\r\n         * @returns void\r\n         */\r\n        chooseNotice: function () {\r\n            var checkedNoticeNumber = Number(this.checked());\r\n\r\n            this.notice = this.notices[checkedNoticeNumber];\r\n        },\r\n\r\n        /**\r\n         * Choose notice on update\r\n         *\r\n         * @returns void\r\n         */\r\n        onUpdate: function () {\r\n            this._super();\r\n            this.chooseNotice();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/single-checkbox-use-config.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/form/element/single-checkbox'\r\n], function (Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            isUseDefault: false,\r\n            isUseConfig: false,\r\n            listens: {\r\n                'isUseConfig': 'toggleElement',\r\n                'isUseDefault': 'toggleElement'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initObservable: function () {\r\n\r\n            return this\r\n                ._super()\r\n                .observe('isUseConfig');\r\n        },\r\n\r\n        /**\r\n         * Toggle element\r\n         */\r\n        toggleElement: function () {\r\n            this.disabled(this.isUseDefault() || this.isUseConfig());\r\n\r\n            if (this.source) {\r\n                this.source.set('data.use_default.' + this.index, Number(this.isUseDefault()));\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/single-checkbox.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/form/element/abstract',\r\n    'underscore',\r\n    'mage/translate'\r\n], function (AbstractField, _, $t) {\r\n    'use strict';\r\n\r\n    return AbstractField.extend({\r\n        defaults: {\r\n            template: 'ui/form/components/single/field',\r\n            checked: false,\r\n            initialChecked: false,\r\n            multiple: false,\r\n            prefer: 'checkbox', // 'radio' | 'checkbox' | 'toggle'\r\n            valueMap: {},\r\n\r\n            templates: {\r\n                radio: 'ui/form/components/single/radio',\r\n                checkbox: 'ui/form/components/single/checkbox',\r\n                toggle: 'ui/form/components/single/switcher'\r\n            },\r\n\r\n            listens: {\r\n                'checked': 'onCheckedChanged',\r\n                'value': 'onExtendedValueChanged'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initConfig: function (config) {\r\n            this._super();\r\n\r\n            if (!config.elementTmpl) {\r\n                if (!this.prefer && !this.multiple) {\r\n                    this.elementTmpl = this.templates.radio;\r\n                } else if (this.prefer === 'radio') {\r\n                    this.elementTmpl = this.templates.radio;\r\n                } else if (this.prefer === 'checkbox') {\r\n                    this.elementTmpl = this.templates.checkbox;\r\n                } else if (this.prefer === 'toggle') {\r\n                    this.elementTmpl = this.templates.toggle;\r\n                } else {\r\n                    this.elementTmpl = this.templates.checkbox;\r\n                }\r\n            }\r\n\r\n            if (this.prefer === 'toggle' && _.isEmpty(this.toggleLabels)) {\r\n                this.toggleLabels = {\r\n                    'on': $t('Yes'),\r\n                    'off': $t('No')\r\n                };\r\n            }\r\n\r\n            if (typeof this.default === 'undefined' || this.default === null) {\r\n                this.default = '';\r\n            }\r\n\r\n            if (typeof this.value === 'undefined' || this.value === null) {\r\n                this.value = _.isEmpty(this.valueMap) || this.default !== '' ? this.default : this.valueMap.false;\r\n                this.initialValue = this.value;\r\n            } else {\r\n                this.initialValue = this.value;\r\n            }\r\n\r\n            if (this.multiple && !_.isArray(this.value)) {\r\n                this.value = []; // needed for correct observable assignment\r\n            }\r\n\r\n            this.initialChecked = this.checked;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        initObservable: function () {\r\n            return this\r\n                ._super()\r\n                .observe('checked');\r\n        },\r\n\r\n        /**\r\n         * Get true/false key from valueMap by value.\r\n         *\r\n         * @param {*} value\r\n         * @returns {Boolean|undefined}\r\n         */\r\n        getReverseValueMap: function getReverseValueMap(value) {\r\n            var bool = false;\r\n\r\n            _.some(this.valueMap, function (iValue, iBool) {\r\n                if (iValue === value) {\r\n                    bool = iBool === 'true';\r\n\r\n                    return true;\r\n                }\r\n            });\r\n\r\n            return bool;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        setInitialValue: function () {\r\n            if (_.isEmpty(this.valueMap)) {\r\n                this.on('value', this.onUpdate.bind(this));\r\n            } else {\r\n                this._super();\r\n                this.checked(this.getReverseValueMap(this.value()));\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Handle dataScope changes for checkbox / radio button.\r\n         *\r\n         * @param {*} newExportedValue\r\n         */\r\n        onExtendedValueChanged: function (newExportedValue) {\r\n            var isMappedUsed = !_.isEmpty(this.valueMap),\r\n                oldChecked = this.checked.peek(),\r\n                oldValue = this.initialValue,\r\n                newChecked;\r\n\r\n            if (this.multiple) {\r\n                newChecked = newExportedValue.indexOf(oldValue) !== -1;\r\n            } else if (isMappedUsed) {\r\n                newChecked = this.getReverseValueMap(newExportedValue);\r\n            } else if (typeof newExportedValue === 'boolean') {\r\n                newChecked = newExportedValue;\r\n            } else {\r\n                newChecked = newExportedValue === oldValue;\r\n            }\r\n\r\n            if (newChecked !== oldChecked) {\r\n                this.checked(newChecked);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handle checked state changes for checkbox / radio button.\r\n         *\r\n         * @param {Boolean} newChecked\r\n         */\r\n        onCheckedChanged: function (newChecked) {\r\n            var isMappedUsed = !_.isEmpty(this.valueMap),\r\n                oldValue = this.initialValue,\r\n                newValue;\r\n\r\n            if (isMappedUsed) {\r\n                newValue = this.valueMap[newChecked];\r\n            } else {\r\n                newValue = oldValue;\r\n            }\r\n\r\n            if (!this.multiple && newChecked) {\r\n                this.value(newValue);\r\n            } else if (!this.multiple && !newChecked) {\r\n                if (typeof newValue === 'boolean') {\r\n                    this.value(newChecked);\r\n                } else if (newValue === this.value.peek()) {\r\n                    this.value('');\r\n                }\r\n\r\n                if (isMappedUsed) {\r\n                    this.value(newValue);\r\n                }\r\n            } else if (this.multiple && newChecked && this.value.indexOf(newValue) === -1) {\r\n                this.value.push(newValue);\r\n            } else if (this.multiple && !newChecked && this.value.indexOf(newValue) !== -1) {\r\n                this.value.splice(this.value.indexOf(newValue), 1);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        onUpdate: function () {\r\n            if (this.hasUnique) {\r\n                this.setUnique();\r\n            }\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        reset: function () {\r\n            if (this.multiple && this.initialChecked) {\r\n                this.value.push(this.initialValue);\r\n            } else if (this.multiple && !this.initialChecked) {\r\n                this.value.splice(this.value.indexOf(this.initialValue), 1);\r\n            } else {\r\n                this.value(this.initialValue);\r\n            }\r\n\r\n            this.error(false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        clear: function () {\r\n            if (this.multiple) {\r\n                this.value([]);\r\n            } else {\r\n                this.value('');\r\n            }\r\n\r\n            this.error(false);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/text.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiElement',\r\n    'mageUtils'\r\n], function (Element, utils) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            visible: true,\r\n            label: '',\r\n            error: '',\r\n            uid: utils.uniqueid(),\r\n            disabled: false,\r\n            links: {\r\n                value: '${ $.provider }:${ $.dataScope }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Has service\r\n         *\r\n         * @returns {Boolean} false.\r\n         */\r\n        hasService: function () {\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Has addons\r\n         *\r\n         * @returns {Boolean} false.\r\n         */\r\n        hasAddons: function () {\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('disabled visible value');\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/textarea.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './abstract'\r\n], function (Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            cols: 15,\r\n            rows: 2,\r\n            elementTmpl: 'ui/form/element/textarea'\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/ui-select.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './abstract',\r\n    'Magento_Ui/js/lib/key-codes',\r\n    'mage/translate',\r\n    'ko',\r\n    'jquery',\r\n    'Magento_Ui/js/lib/view/utils/async'\r\n], function (_, Abstract, keyCodes, $t, ko, $) {\r\n    'use strict';\r\n\r\n    var isTouchDevice = typeof document.ontouchstart !== 'undefined';\r\n\r\n    /**\r\n     * Processing options list\r\n     *\r\n     * @param {Array} array - Property array\r\n     * @param {String} separator - Level separator\r\n     * @param {Array} created - list to add new options\r\n     *\r\n     * @return {Array} Plain options list\r\n     */\r\n    function flattenCollection(array, separator, created) {\r\n        var i = 0,\r\n            length,\r\n            childCollection;\r\n\r\n        array = _.compact(array);\r\n        length = array.length;\r\n        created = created || [];\r\n\r\n        for (i; i < length; i++) {\r\n            created.push(array[i]);\r\n\r\n            if (array[i].hasOwnProperty(separator)) {\r\n                childCollection = array[i][separator];\r\n                delete array[i][separator];\r\n                flattenCollection.call(this, childCollection, separator, created);\r\n            }\r\n        }\r\n\r\n        return created;\r\n    }\r\n\r\n    /**\r\n     * Set levels to options list\r\n     *\r\n     * @param {Array} array - Property array\r\n     * @param {String} separator - Level separator\r\n     * @param {Number} level - Starting level\r\n     * @param {String} path - path to root\r\n     *\r\n     * @returns {Array} Array with levels\r\n     */\r\n    function setProperty(array, separator, level, path) {\r\n        var i = 0,\r\n            length,\r\n            nextLevel,\r\n            nextPath;\r\n\r\n        array = _.compact(array);\r\n        length = array.length;\r\n        level = level || 0;\r\n        path = path || '';\r\n\r\n        for (i; i < length; i++) {\r\n            if (array[i]) {\r\n                _.extend(array[i], {\r\n                    level: level,\r\n                    path: path\r\n                });\r\n            }\r\n\r\n            if (array[i].hasOwnProperty(separator)) {\r\n                nextLevel = level + 1;\r\n                nextPath = path ? path + '.' + array[i].label : array[i].label;\r\n                setProperty.call(this, array[i][separator], separator, nextLevel, nextPath);\r\n            }\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    /**\r\n     * Preprocessing options list\r\n     *\r\n     * @param {Array} nodes - Options list\r\n     *\r\n     * @return {Object} Object with property - options(options list)\r\n     *      and cache options with plain and tree list\r\n     */\r\n    function parseOptions(nodes) {\r\n        var caption,\r\n            value,\r\n            cacheNodes,\r\n            copyNodes;\r\n\r\n        nodes = setProperty(nodes, 'optgroup');\r\n        copyNodes = JSON.parse(JSON.stringify(nodes));\r\n        cacheNodes = flattenCollection(copyNodes, 'optgroup');\r\n\r\n        nodes = _.map(nodes, function (node) {\r\n            value = node.value;\r\n\r\n            if (value == null || value === '') {\r\n                if (_.isUndefined(caption)) {\r\n                    caption = node.label;\r\n                }\r\n            } else {\r\n                return node;\r\n            }\r\n        });\r\n\r\n        return {\r\n            options: _.compact(nodes),\r\n            cacheOptions: {\r\n                plain: _.compact(cacheNodes),\r\n                tree: _.compact(nodes)\r\n            }\r\n        };\r\n    }\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            options: [],\r\n            listVisible: false,\r\n            value: [],\r\n            filterOptions: false,\r\n            chipsEnabled: true,\r\n            itemsQuantity: '',\r\n            filterInputValue: '',\r\n            filterOptionsFocus: false,\r\n            multiselectFocus: false,\r\n            multiple: true,\r\n            selectType: 'tree',\r\n            lastSelectable: false,\r\n            showFilteredQuantity: true,\r\n            showCheckbox: true,\r\n            levelsVisibility: true,\r\n            openLevelsAction: true,\r\n            showOpenLevelsActionIcon: true,\r\n            optgroupLabels: false,\r\n            closeBtn: true,\r\n            showPath: true,\r\n            labelsDecoration: false,\r\n            disableLabel: false,\r\n            filterRateLimit: 500,\r\n            closeBtnLabel: $t('Done'),\r\n            optgroupTmpl: 'ui/grid/filters/elements/ui-select-optgroup',\r\n            quantityPlaceholder: $t('options'),\r\n            hoverClass: '_hover',\r\n            rootListSelector: 'ul.admin__action-multiselect-menu-inner._root',\r\n            visibleOptionSelector: 'li.admin__action-multiselect-menu-inner-item:visible',\r\n            actionTargetSelector: '.action-menu-item',\r\n            selectedPlaceholders: {\r\n                defaultPlaceholder: $t('Select...'),\r\n                lotPlaceholders: $t('Selected')\r\n            },\r\n            separator: 'optgroup',\r\n            searchOptions: false,\r\n            loading: false,\r\n            searchUrl: false,\r\n            lastSearchKey: '',\r\n            lastSearchPage: 1,\r\n            filterPlaceholder: '',\r\n            emptyOptionsHtml: '',\r\n            cachedSearchResults: {},\r\n            pageLimit: 50,\r\n            deviation: 30,\r\n            validationLoading: false,\r\n            isRemoveSelectedIcon: false,\r\n            debounce: 300,\r\n            missingValuePlaceholder: $t('Entity with ID: %s doesn\\'t exist'),\r\n            isDisplayMissingValuePlaceholder: false,\r\n            listens: {\r\n                listVisible: 'cleanHoveredElement',\r\n                filterInputValue: 'filterOptionsList',\r\n                options: 'checkOptionsList'\r\n            },\r\n            presets: {\r\n                single: {\r\n                    showCheckbox: false,\r\n                    chipsEnabled: false,\r\n                    closeBtn: false\r\n                },\r\n                optgroup: {\r\n                    showCheckbox: false,\r\n                    lastSelectable: true,\r\n                    optgroupLabels: true,\r\n                    openLevelsAction: false,\r\n                    labelsDecoration: true,\r\n                    showOpenLevelsActionIcon: false\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes UISelect component.\r\n         *\r\n         * @returns {UISelect} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            $.async(\r\n                this.rootListSelector,\r\n                this,\r\n                this.onRootListRender.bind(this)\r\n            );\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Parses options and merges the result with instance\r\n         * Set defaults according to mode and levels configuration\r\n         *\r\n         * @param  {Object} config\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initConfig: function (config) {\r\n            var result = parseOptions(config.options),\r\n                defaults = this.constructor.defaults,\r\n                multiple = _.isBoolean(config.multiple) ? config.multiple : defaults.multiple,\r\n                type = config.selectType || defaults.selectType,\r\n                showOpenLevelsActionIcon = _.isBoolean(config.showOpenLevelsActionIcon) ?\r\n                    config.showOpenLevelsActionIcon :\r\n                    defaults.showOpenLevelsActionIcon,\r\n                openLevelsAction = _.isBoolean(config.openLevelsAction) ?\r\n                    config.openLevelsAction :\r\n                    defaults.openLevelsAction;\r\n\r\n            multiple = !multiple ? 'single' : false;\r\n            config.showOpenLevelsActionIcon = showOpenLevelsActionIcon && openLevelsAction;\r\n            _.extend(config, result, defaults.presets[multiple], defaults.presets[type]);\r\n            this._super();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Check child optgroup\r\n         */\r\n        hasChildList: function () {\r\n            return _.find(this.options(), function (option) {\r\n                return !!option[this.separator];\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Check tree mode\r\n         */\r\n        isTree: function () {\r\n            return this.hasChildList() && this.selectType !== 'optgroup';\r\n        },\r\n\r\n        /**\r\n         * Add option to lastOptions array\r\n         *\r\n         * @param {Object} data\r\n         * @returns {Boolean}\r\n         */\r\n        addLastElement: function (data) {\r\n            if (!data.hasOwnProperty(this.separator)) {\r\n                !this.cacheOptions.lastOptions ? this.cacheOptions.lastOptions = [] : false;\r\n\r\n                if (!_.findWhere(\r\n                    this.cacheOptions.lastOptions,\r\n                        {\r\n                            value: data.value\r\n                        }\r\n                    )\r\n                ) {\r\n                    this.cacheOptions.lastOptions.push(data);\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Check options length and set to cache\r\n         * if some options is added\r\n         *\r\n         * @param {Array} options - ui select options\r\n         */\r\n        checkOptionsList: function (options) {\r\n            if (options.length > this.cacheOptions.plain.length) {\r\n                this.cacheOptions.plain = options;\r\n                this.setCaption();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check label decoration\r\n         */\r\n        isLabelDecoration: function (data) {\r\n            return data.hasOwnProperty(this.separator) && this.labelsDecoration;\r\n        },\r\n\r\n        /**\r\n         * Calls 'initObservable' of parent, initializes 'options' and 'initialOptions'\r\n         *     properties, calls 'setOptions' passing options to it\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super();\r\n            this.observe([\r\n                'listVisible',\r\n                'placeholder',\r\n                'multiselectFocus',\r\n                'options',\r\n                'itemsQuantity',\r\n                'filterInputValue',\r\n                'filterOptionsFocus',\r\n                'loading',\r\n                'validationLoading',\r\n                'isDisplayMissingValuePlaceholder'\r\n            ]);\r\n\r\n            this.filterInputValue.extend({\r\n                rateLimit: this.filterRateLimit\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * object with key - keyname and value - handler function for this key\r\n         *\r\n         * @returns {Object} Object with handlers function name.\r\n         */\r\n        keyDownHandlers: function () {\r\n            return {\r\n                enterKey: this.enterKeyHandler,\r\n                escapeKey: this.escapeKeyHandler,\r\n                spaceKey: this.enterKeyHandler,\r\n                pageUpKey: this.pageUpKeyHandler,\r\n                pageDownKey: this.pageDownKeyHandler\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Processing level visibility for levels\r\n         *\r\n         * @param {Object} data - element data\r\n         *\r\n         * @returns {Boolean} level visibility.\r\n         */\r\n        showLevels: function (data) {\r\n            var curLevel = ++data.level,\r\n                isVisible;\r\n\r\n            if (data.visible) {\r\n                isVisible = data.visible();\r\n            } else {\r\n                isVisible = !!data.hasOwnProperty(this.separator) &&\r\n                    _.isBoolean(this.levelsVisibility) &&\r\n                    this.levelsVisibility ||\r\n                    data.hasOwnProperty(this.separator) && parseInt(this.levelsVisibility, 10) >= curLevel;\r\n\r\n                data.visible = ko.observable(isVisible);\r\n                data.isVisited = isVisible;\r\n            }\r\n\r\n            return isVisible;\r\n        },\r\n\r\n        /**\r\n         * Processing level visibility for levels\r\n         *\r\n         * @param {Object} data - element data\r\n         *\r\n         * @returns {Boolean} level visibility.\r\n         */\r\n        getLevelVisibility: function (data) {\r\n            if (data.visible) {\r\n                return data.visible();\r\n            }\r\n\r\n            return this.showLevels(data);\r\n        },\r\n\r\n        /**\r\n         * Set option to options array.\r\n         *\r\n         * @param {Object} option\r\n         * @param {Array} options\r\n         */\r\n        setOption: function (option, options) {\r\n            var copyOptionsTree;\r\n\r\n            options = options || this.cacheOptions.tree;\r\n\r\n            _.each(options, function (opt) {\r\n                if (opt.value == option.parent) { //eslint-disable-line eqeqeq\r\n                    delete  option.parent;\r\n                    opt[this.separator] ? opt[this.separator].push(option) : opt[this.separator] = [option];\r\n                    copyOptionsTree = JSON.parse(JSON.stringify(this.cacheOptions.tree));\r\n                    this.cacheOptions.plain = flattenCollection(copyOptionsTree, this.separator);\r\n                    this.options(this.cacheOptions.tree);\r\n                } else if (opt[this.separator]) {\r\n                    this.setOption(option, opt[this.separator]);\r\n                }\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Handler outerClick event. Closed options list\r\n         */\r\n        outerClick: function () {\r\n            this.listVisible() ? this.listVisible(false) : false;\r\n\r\n            if (isTouchDevice) {\r\n                this.multiselectFocus(false);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler keydown event to filter options input\r\n         *\r\n         * @returns {Boolean} Returned true for emersion events\r\n         */\r\n        filterOptionsKeydown: function (data, event) {\r\n            var key = keyCodes[event.keyCode];\r\n\r\n            !this.isTabKey(event) ? event.stopPropagation() : false;\r\n\r\n            if (key === 'pageDownKey' || key === 'pageUpKey') {\r\n                event.preventDefault();\r\n                this.filterOptionsFocus(false);\r\n                this.cacheUiSelect.focus();\r\n            }\r\n\r\n            this.keydownSwitcher(data, event);\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Filtered options list by value from filter options list\r\n         */\r\n        filterOptionsList: function () {\r\n            var value = this.filterInputValue().trim().toLowerCase(),\r\n                array = [];\r\n\r\n            if (value && value.length < 2) {\r\n                return false;\r\n            }\r\n\r\n            if (this.searchOptions) {\r\n                return _.debounce(this.loadOptions.bind(this, value), this.debounce)();\r\n            }\r\n\r\n            this.cleanHoveredElement();\r\n\r\n            if (!value) {\r\n                this.renderPath = false;\r\n                this.options(this.cacheOptions.tree);\r\n                this._setItemsQuantity(false);\r\n\r\n                return false;\r\n            }\r\n\r\n            this.showPath ? this.renderPath = true : false;\r\n\r\n            if (this.filterInputValue()) {\r\n\r\n                array = this.selectType === 'optgroup' ?\r\n                    this._getFilteredArray(this.cacheOptions.lastOptions, value) :\r\n                    this._getFilteredArray(this.cacheOptions.plain, value);\r\n\r\n                if (!value.length) {\r\n                    this.options(this.cacheOptions.plain);\r\n                    this._setItemsQuantity(this.cacheOptions.plain.length);\r\n                } else {\r\n                    this.options(array);\r\n                    this._setItemsQuantity(array.length);\r\n                }\r\n\r\n                return false;\r\n            }\r\n\r\n            this.options(this.cacheOptions.plain);\r\n        },\r\n\r\n        /**\r\n         * Filtered options list by value from filter options list\r\n         *\r\n         * @param {Array} list - option list\r\n         * @param {String} value\r\n         *\r\n         * @returns {Array} filters result\r\n         */\r\n        _getFilteredArray: function (list, value) {\r\n            var i = 0,\r\n                array = [],\r\n                curOption;\r\n\r\n            for (i; i < list.length; i++) {\r\n                curOption = list[i].label.toLowerCase();\r\n\r\n                if (curOption.indexOf(value) > -1) {\r\n                    array.push(list[i]); /*eslint max-depth: [2, 4]*/\r\n                }\r\n            }\r\n\r\n            return array;\r\n        },\r\n\r\n        /**\r\n         * Get path to current option\r\n         *\r\n         * @param {Object} data - option data\r\n         * @returns {String} path\r\n         */\r\n        getPath: function (data) {\r\n            var pathParts,\r\n                createdPath = '';\r\n\r\n            if (this.renderPath) {\r\n                pathParts = data.path.split('.');\r\n                _.each(pathParts, function (curData) {\r\n                    createdPath = createdPath ? createdPath + ' / ' + curData : curData;\r\n                });\r\n\r\n                return createdPath;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set filtered items quantity\r\n         *\r\n         * @param {Object} data - option data\r\n         */\r\n        _setItemsQuantity: function (data) {\r\n            if (this.showFilteredQuantity) {\r\n                data || parseInt(data, 10) === 0 ?\r\n                    this.itemsQuantity(data + ' ' + this.quantityPlaceholder) :\r\n                    this.itemsQuantity('');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Remove element from selected array\r\n         */\r\n        removeSelected: function (value, data, event) {\r\n            event ? event.stopPropagation() : false;\r\n            this.value.remove(value);\r\n        },\r\n\r\n        /**\r\n         * Checked key name\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isTabKey: function (event) {\r\n            return keyCodes[event.keyCode] === 'tabKey';\r\n        },\r\n\r\n        /**\r\n         * Clean hoveredElement variable\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        cleanHoveredElement: function () {\r\n            if (this.hoveredElement) {\r\n                $(this.hoveredElement)\r\n                    .children(this.actionTargetSelector)\r\n                    .removeClass(this.hoverClass);\r\n\r\n                this.hoveredElement = null;\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Check selected option\r\n         *\r\n         * @param {String} value - option value\r\n         * @return {Boolean}\r\n         */\r\n        isSelected: function (value) {\r\n            return this.multiple ? _.contains(this.value(), value) : this.value() === value;\r\n        },\r\n\r\n        /**\r\n         * Check selected option\r\n         *\r\n         * @param {Object} option - option value\r\n         * @return {Boolean}\r\n         */\r\n        isSelectedValue: function (option) {\r\n            if (_.isUndefined(option)) {\r\n                return false;\r\n            }\r\n\r\n            return this.isSelected(option.value);\r\n        },\r\n\r\n        /**\r\n         * Check optgroup label\r\n         *\r\n         * @param {Object} data - element data\r\n         * @return {Boolean}\r\n         */\r\n        isOptgroupLabels: function (data) {\r\n            return data.hasOwnProperty(this.separator) && this.optgroupLabels;\r\n        },\r\n\r\n        /**\r\n         * Check hovered option\r\n         *\r\n         * @param {Object} data - element data\r\n         * @return {Boolean}\r\n         */\r\n        isHovered: function (data) {\r\n            var element = this.hoveredElement,\r\n                elementData;\r\n\r\n            if (!element) {\r\n                return false;\r\n            }\r\n\r\n            elementData = ko.dataFor(this.hoveredElement);\r\n\r\n            if (_.isUndefined(elementData)) {\r\n                return false;\r\n            }\r\n\r\n            return data.value === elementData.value;\r\n        },\r\n\r\n        /**\r\n         * Toggle list visibility\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        toggleListVisible: function () {\r\n            this.listVisible(!this.listVisible());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Get selected element labels\r\n         *\r\n         * @returns {Array} array labels\r\n         */\r\n        getSelected: function () {\r\n            var selected = this.value();\r\n\r\n            return this.cacheOptions.plain.filter(function (opt) {\r\n                return _.isArray(selected) ?\r\n                    _.contains(selected, opt.value) :\r\n                selected == opt.value;//eslint-disable-line eqeqeq\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Toggle activity list element\r\n         *\r\n         * @param {Object} data - selected option data\r\n         * @returns {Object} Chainable\r\n         */\r\n        toggleOptionSelected: function (data) {\r\n            var isSelected = this.isSelected(data.value);\r\n\r\n            if (this.lastSelectable && data.hasOwnProperty(this.separator)) {\r\n                return this;\r\n            }\r\n\r\n            if (!this.multiple) {\r\n                if (!isSelected) {\r\n                    this.value(data.value);\r\n                }\r\n                this.listVisible(false);\r\n            } else {\r\n                if (!isSelected) { /*eslint no-lonely-if: 0*/\r\n                    this.value.push(data.value);\r\n                } else {\r\n                    this.value(_.without(this.value(), data.value));\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Change visibility to child level\r\n         *\r\n         * @param {Object} data - element data\r\n         */\r\n        openChildLevel: function (data) {\r\n            var contextElement = data,\r\n                isVisible;\r\n\r\n            if (\r\n                this.openLevelsAction &&\r\n                data.hasOwnProperty(this.separator) && _.isBoolean(this.levelsVisibility) ||\r\n                this.openLevelsAction &&\r\n                data.hasOwnProperty(this.separator) && parseInt(this.levelsVisibility, 10) <= data.level\r\n            ) {\r\n                isVisible = !contextElement.visible();\r\n\r\n                if (isVisible && !contextElement.isVisited) {\r\n                    contextElement.isVisited = true;\r\n                }\r\n\r\n                contextElement.visible(isVisible);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check selected elements\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            if (!this.value()) {\r\n                this.value([]);\r\n            }\r\n\r\n            return this.value() ? !!this.value().length : false;\r\n        },\r\n\r\n        /**\r\n         * @deprecated\r\n         */\r\n        onMousemove: function () {},\r\n\r\n        /**\r\n         * Handles hover on list items.\r\n         *\r\n         * @param {Object} event - mousemove event\r\n         */\r\n        onDelegatedMouseMouve: function (event) {\r\n            var target = $(event.currentTarget).closest(this.visibleOptionSelector)[0];\r\n\r\n            if (this.isCursorPositionChange(event) || this.hoveredElement === target) {\r\n                return;\r\n            }\r\n\r\n            this._hoverTo(target);\r\n            this.setCursorPosition(event);\r\n        },\r\n\r\n        /**\r\n         * Get option index\r\n         *\r\n         * @param {Object} data - object with data about this element\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getOptionIndex: function (data) {\r\n            var index;\r\n\r\n            _.each(this.cacheOptions.plain, function (opt, id) {\r\n                if (data.value === opt.value) {\r\n                    index = id;\r\n                }\r\n            });\r\n\r\n            return index;\r\n        },\r\n\r\n        /**\r\n         * Set X and Y cursor position\r\n         *\r\n         * @param {Object} event - mousemove event\r\n         */\r\n        setCursorPosition: function (event) {\r\n            this.cursorPosition = {\r\n                x: event.pageX,\r\n                y: event.pageY\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Check previous and current cursor position\r\n         *\r\n         * @param {Object} event - mousemove event\r\n         * @returns {Boolean}\r\n         */\r\n        isCursorPositionChange: function (event) {\r\n            return this.cursorPosition &&\r\n                this.cursorPosition.x === event.pageX &&\r\n                this.cursorPosition.y === event.pageY;\r\n        },\r\n\r\n        /**\r\n         * Set true to observable variable multiselectFocus\r\n         * @param {Object} ctx\r\n         * @param {Object} event - focus event\r\n         */\r\n        onFocusIn: function (ctx, event) {\r\n            !this.cacheUiSelect ? this.cacheUiSelect = event.target : false;\r\n            this.multiselectFocus(true);\r\n        },\r\n\r\n        /**\r\n         * Set false to observable variable multiselectFocus\r\n         * and close list\r\n         */\r\n        onFocusOut: function () {\r\n            this.multiselectFocus(false);\r\n        },\r\n\r\n        /**\r\n         * Handler enter key, if select list is closed - open select,\r\n         * if select list is open toggle selected current option\r\n         */\r\n        enterKeyHandler: function () {\r\n\r\n            if (this.filterOptionsFocus()) {\r\n                return false;\r\n            }\r\n\r\n            if (this.listVisible()) {\r\n                if (this.hoveredElement) {\r\n                    this.toggleOptionSelected(ko.dataFor(this.hoveredElement));\r\n                }\r\n            } else {\r\n                this.setListVisible(true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler escape key, if select list is open - closes it,\r\n         */\r\n        escapeKeyHandler: function () {\r\n            this.listVisible() ? this.setListVisible(false) : false;\r\n        },\r\n\r\n        /**\r\n         * Handler pageDown key, selected next option in list, if current option is last\r\n         * selected first option in list\r\n         */\r\n        pageDownKeyHandler: function () {\r\n            this._setHoverToElement(1);\r\n        },\r\n\r\n        /**\r\n         * Get jQuery element by option data\r\n         *\r\n         * @param {Object} data - option data\r\n         *\r\n         * @returns {Object} jQuery element\r\n         */\r\n        _getElemByData: function (data) {\r\n            var i = 0,\r\n                list = $(this.cacheUiSelect).find('li'),\r\n                length = this.options().length,\r\n                result;\r\n\r\n            for (i; i < length; i++) {\r\n                if (this.options()[i].value === data.value) {\r\n                    result = $(list[i]);\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Set hover to visible element\r\n         *\r\n         * @param {Number} direction - iterator\r\n         */\r\n        _setHoverToElement: function (direction) {\r\n            var element;\r\n\r\n            if (direction ===  1) {\r\n                element = this._getNextElement();\r\n            } else if (direction === -1) {\r\n                element = this._getPreviousElement();\r\n            }\r\n\r\n            if (element) {\r\n                this._hoverTo(element);\r\n                this._scrollTo(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Find current hovered element\r\n         * and change scroll position\r\n         *\r\n         * @param {Number} element - element index\r\n         */\r\n        _scrollTo: function (element) {\r\n            var curEl = $(element).children(this.actionTargetSelector),\r\n                wrapper = $(this.rootList),\r\n                curElPos = {},\r\n                wrapperPos = {};\r\n\r\n            curElPos.start = curEl.offset().top;\r\n            curElPos.end = curElPos.start + curEl.outerHeight();\r\n\r\n            wrapperPos.start = wrapper.offset().top;\r\n            wrapperPos.end = wrapperPos.start + wrapper.height();\r\n\r\n            if (curElPos.start < wrapperPos.start) {\r\n                wrapper.scrollTop(wrapper.scrollTop() - (wrapperPos.start - curElPos.start));\r\n            } else if (curElPos.end > wrapperPos.end) {\r\n                wrapper.scrollTop(wrapper.scrollTop() + curElPos.end - wrapperPos.end);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handler pageUp key, selected previous option in list, if current option is first -\r\n         * selected last option in list\r\n         */\r\n        pageUpKeyHandler: function () {\r\n            this._setHoverToElement(-1);\r\n        },\r\n\r\n        /**\r\n         * Switcher to parse keydown event and delegate event to needful method\r\n         *\r\n         * @param {Object} data - element data\r\n         * @param {Object} event - keydown event\r\n         * @returns {Boolean} if handler for this event doesn't found return true\r\n         */\r\n        keydownSwitcher: function (data, event) {\r\n            var keyName = keyCodes[event.keyCode];\r\n\r\n            if (this.isTabKey(event)) {\r\n                if (!this.filterOptionsFocus() && this.listVisible() && this.filterOptions) {\r\n                    this.cacheUiSelect.blur();\r\n                    this.filterOptionsFocus(true);\r\n                    this.cleanHoveredElement();\r\n\r\n                    return false;\r\n                }\r\n                this.listVisible(false);\r\n\r\n                return true;\r\n            }\r\n\r\n            if (this.keyDownHandlers().hasOwnProperty(keyName)) {\r\n                this.keyDownHandlers()[keyName].apply(this, arguments);\r\n            } else {\r\n                return true;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Set caption\r\n         */\r\n        setCaption: function () {\r\n            var length, caption = '';\r\n\r\n            if (!_.isArray(this.value()) && this.value()) {\r\n                length = 1;\r\n            } else if (this.value()) {\r\n                length = this.value().length;\r\n            } else {\r\n                this.value([]);\r\n                length = 0;\r\n            }\r\n            this.warn(caption);\r\n\r\n            //check if option was removed\r\n            if (this.isDisplayMissingValuePlaceholder && length && !this.getSelected().length) {\r\n                caption = this.missingValuePlaceholder.replace('%s', this.value());\r\n                this.placeholder(caption);\r\n                this.warn(caption);\r\n\r\n                return this.placeholder();\r\n            }\r\n\r\n            if (length > 1) {\r\n                this.placeholder(length + ' ' + this.selectedPlaceholders.lotPlaceholders);\r\n            } else if (length && this.getSelected().length) {\r\n                this.placeholder(this.getSelected()[0].label);\r\n            } else {\r\n                this.placeholder(this.selectedPlaceholders.defaultPlaceholder);\r\n            }\r\n\r\n            return this.placeholder();\r\n        },\r\n\r\n        /**\r\n         * Set list status, open or close\r\n         *\r\n         * @param {Boolean} value - variable for set list visible status\r\n         */\r\n        setListVisible: function (value) {\r\n            this.listVisible(value);\r\n        },\r\n\r\n        /**\r\n         * Processes preview for option by it's value, and sets the result\r\n         * to 'preview' observable\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getPreview: function () {\r\n            var selected = this.getSelected();\r\n\r\n            return selected.map(function (option) {\r\n                return option.label;\r\n            }).join(', ');\r\n        },\r\n\r\n        /**\r\n         * Defines previous option element to\r\n         * the one that is currently hovered.\r\n         *\r\n         * @returns {Element}\r\n         */\r\n        _getPreviousElement: function () {\r\n            var currentElement = this.hoveredElement,\r\n                lastElement    = this._getLastIn(this.rootList),\r\n                previousElement;\r\n\r\n            if (!currentElement) {\r\n                return lastElement;\r\n            }\r\n\r\n            previousElement = $(currentElement).prev()[0];\r\n\r\n            return this._getLastIn(previousElement) ||\r\n                previousElement ||\r\n                this._getFirstParentOf(currentElement) ||\r\n                lastElement;\r\n        },\r\n\r\n        /**\r\n         * Defines next option element to\r\n         * the one that is currently hovered.\r\n         *\r\n         * @returns {Element}\r\n         */\r\n        _getNextElement: function () {\r\n            var currentElement = this.hoveredElement,\r\n                firstElement   = this._getFirstIn(this.rootList);\r\n\r\n            if (!currentElement) {\r\n                return firstElement;\r\n            }\r\n\r\n            return this._getFirstIn(currentElement) ||\r\n                $(currentElement).next()[0] ||\r\n                this._getParentsOf(currentElement).next()[0] ||\r\n                firstElement;\r\n        },\r\n\r\n        /**\r\n         * Returns first option element in provided scope.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {Element}\r\n         */\r\n        _getFirstIn: function (scope) {\r\n            return $(scope).find(this.visibleOptionSelector)[0];\r\n        },\r\n\r\n        /**\r\n         * Returns last descendant option element in provided scope.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {Element}\r\n         */\r\n        _getLastIn: function (scope) {\r\n            return $(scope).find(this.visibleOptionSelector).last()[0];\r\n        },\r\n\r\n        /**\r\n         * Returns a collection of parent option elements.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {jQueryCollection}\r\n         */\r\n        _getParentsOf: function (scope) {\r\n            return $(scope).parents(this.visibleOptionSelector);\r\n        },\r\n\r\n        /**\r\n         * Returns first parent option element.\r\n         *\r\n         * @param {Element} scope\r\n         * @returns {Element}\r\n         */\r\n        _getFirstParentOf: function (scope) {\r\n            return this._getParentsOf(scope)[0];\r\n        },\r\n\r\n        /**\r\n         * Sets hover class to provided option element.\r\n         *\r\n         * @param {Element} element\r\n         */\r\n        _hoverTo: function (element) {\r\n            if (this.hoveredElement) {\r\n                $(this.hoveredElement)\r\n                    .children(this.actionTargetSelector)\r\n                    .removeClass(this.hoverClass);\r\n            }\r\n\r\n            $(element)\r\n                .children(this.actionTargetSelector)\r\n                .addClass(this.hoverClass);\r\n\r\n            this.hoveredElement = element;\r\n        },\r\n\r\n        /**\r\n         * Callback which fires when root list element is rendered.\r\n         *\r\n         * @param {Element} element\r\n         */\r\n        onRootListRender: function (element) {\r\n            var targetSelector = 'li > ' + this.actionTargetSelector;\r\n\r\n            this.rootList = element;\r\n\r\n            $(this.rootList).on(\r\n                'mousemove',\r\n                targetSelector,\r\n                this.onDelegatedMouseMouve.bind(this)\r\n            );\r\n        },\r\n\r\n        /**\r\n         * Returns options from cache or send request\r\n         *\r\n         * @param {String} searchKey\r\n         */\r\n        loadOptions: function (searchKey) {\r\n            var currentPage = searchKey === this.lastSearchKey ? this.lastSearchPage + 1 : 1,\r\n                cachedSearchResult;\r\n\r\n            this.renderPath = !!this.showPath;\r\n\r\n            if (this.isSearchKeyCached(searchKey)) {\r\n                cachedSearchResult = this.getCachedSearchResults(searchKey);\r\n                this.options(cachedSearchResult.options);\r\n                this.afterLoadOptions(searchKey, cachedSearchResult.lastPage, cachedSearchResult.total);\r\n\r\n                return;\r\n            }\r\n\r\n            if (searchKey !== this.lastSearchKey) {\r\n                this.options([]);\r\n            }\r\n            this.processRequest(searchKey, currentPage);\r\n        },\r\n\r\n        /**\r\n         * Load more options on scroll down\r\n         * @param {Object} data\r\n         * @param {Event} event\r\n         */\r\n        onScrollDown: function (data, event) {\r\n            var clientHight = event.target.scrollTop + event.target.clientHeight,\r\n                scrollHeight = event.target.scrollHeight;\r\n\r\n            if (!this.searchOptions) {\r\n                return;\r\n            }\r\n\r\n            if (clientHight > scrollHeight - this.deviation && !this.isSearchKeyCached(data.filterInputValue())) {\r\n                this.loadOptions(data.filterInputValue());\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns cached search result by search key\r\n         *\r\n         * @param {String} searchKey\r\n         * @return {Object}\r\n         */\r\n        getCachedSearchResults: function (searchKey) {\r\n            if (this.cachedSearchResults.hasOwnProperty(searchKey)) {\r\n                return this.cachedSearchResults[searchKey];\r\n            }\r\n\r\n            return {\r\n                options: [],\r\n                lastPage: 1,\r\n                total: 0\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Cache loaded data\r\n         *\r\n         * @param {String} searchKey\r\n         * @param {Array} optionsArray\r\n         * @param {Number} page\r\n         * @param {Number} total\r\n         */\r\n        setCachedSearchResults: function (searchKey, optionsArray, page, total) {\r\n            var cachedData = {};\r\n\r\n            cachedData.options = optionsArray;\r\n            cachedData.lastPage = page;\r\n            cachedData.total = total;\r\n            this.cachedSearchResults[searchKey] = cachedData;\r\n        },\r\n\r\n        /**\r\n         * Check if search key cached\r\n         *\r\n         * @param {String} searchKey\r\n         * @return {Boolean}\r\n         */\r\n        isSearchKeyCached: function (searchKey) {\r\n            var totalCached = this.cachedSearchResults.hasOwnProperty(searchKey) ?\r\n                this.deviation * this.cachedSearchResults[searchKey].lastPage :\r\n                0;\r\n\r\n            return totalCached > 0 && totalCached >= this.cachedSearchResults[searchKey].total;\r\n        },\r\n\r\n        /**\r\n         * Submit request to load data\r\n         *\r\n         * @param {String} searchKey\r\n         * @param {Number} page\r\n         */\r\n        processRequest: function (searchKey, page) {\r\n            var total = 0,\r\n                existingOptions = this.options();\r\n\r\n            this.loading(true);\r\n            $.ajax({\r\n                url: this.searchUrl,\r\n                type: 'post',\r\n                dataType: 'json',\r\n                context: this,\r\n                data: {\r\n                    searchKey: searchKey,\r\n                    page: page,\r\n                    limit: this.pageLimit\r\n                },\r\n\r\n                /** @param {Object} response */\r\n                success: function (response) {\r\n                    _.each(response.options, function (opt) {\r\n                        existingOptions.push(opt);\r\n                    });\r\n                    total = response.total;\r\n                    this.options(existingOptions);\r\n                },\r\n\r\n                /** set empty array if error occurs */\r\n                error: function () {\r\n                    this.options([]);\r\n                },\r\n\r\n                /** cache options and stop loading*/\r\n                complete: function () {\r\n                    this.setCachedSearchResults(searchKey, this.options(), page, total);\r\n                    this.afterLoadOptions(searchKey, page, total);\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Stop loading and update data after options were updated\r\n         *\r\n         * @param {String} searchKey\r\n         * @param {Number} page\r\n         * @param {Number} total\r\n         */\r\n        afterLoadOptions: function (searchKey, page, total) {\r\n            this._setItemsQuantity(total);\r\n            this.lastSearchPage = page;\r\n            this.lastSearchKey = searchKey;\r\n            this.loading(false);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/url-input.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiLayout',\r\n    'mage/translate',\r\n    'Magento_Ui/js/form/element/abstract'\r\n], function (_, layout, $t, Abstract) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        defaults: {\r\n            linkedElement: {},\r\n            settingTemplate: 'ui/form/element/urlInput/setting',\r\n            typeSelectorTemplate: 'ui/form/element/urlInput/typeSelector',\r\n            options: [],\r\n            linkedElementInstances: {},\r\n            //checkbox\r\n            isDisplayAdditionalSettings: true,\r\n            settingValue: false,\r\n            settingLabel: $t('Open in new tab'),\r\n            tracks: {\r\n                linkedElement: true\r\n            },\r\n            baseLinkSetting: {\r\n                namePrefix: '${$.name}.',\r\n                dataScopePrefix: '${$.dataScope}.',\r\n                provider: '${$.provider}'\r\n            },\r\n            urlTypes: {},\r\n            listens: {\r\n                settingValue: 'checked',\r\n                disabled: 'hideLinkedElement',\r\n                linkType: 'createChildUrlInputComponent'\r\n            },\r\n            links: {\r\n                linkType: '${$.provider}:${$.dataScope}.type',\r\n                settingValue: '${$.provider}:${$.dataScope}.setting'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function (config) {\r\n            var processedLinkTypes = {},\r\n                baseLinkType = this.constructor.defaults.baseLinkSetting;\r\n\r\n            _.each(config.urlTypes, function (linkSettingsArray, linkName) {\r\n                //add link name by link type\r\n                linkSettingsArray.name = baseLinkType.namePrefix + linkName;\r\n                linkSettingsArray.dataScope = baseLinkType.dataScopePrefix + linkName;\r\n                linkSettingsArray.type = linkName;\r\n                linkSettingsArray.disabled = config.disabled;\r\n                linkSettingsArray.visible = config.visible;\r\n                processedLinkTypes[linkName] = {};\r\n                _.extend(processedLinkTypes[linkName], baseLinkType, linkSettingsArray);\r\n            });\r\n            _.extend(this.constructor.defaults.urlTypes, processedLinkTypes);\r\n\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @returns {Abstract} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('componentTemplate options value linkType settingValue checked isDisplayAdditionalSettings')\r\n                .setOptions();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set options to select based on link types configuration\r\n         *\r\n         * @return {Object}\r\n         */\r\n        setOptions: function () {\r\n            var result = [];\r\n\r\n            _.each(this.urlTypes, function (option, key) {\r\n                result.push({\r\n                    value: key,\r\n                    label: option.label,\r\n                    sortOrder: option.sortOrder || 0\r\n                });\r\n            });\r\n\r\n            //sort options by sortOrder\r\n            result.sort(function (a, b) {\r\n                return a.sortOrder > b.sortOrder ? 1 : -1;\r\n            });\r\n\r\n            this.options(result);\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        setPreview: function (visible) {\r\n            this.linkedElement().visible(visible);\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties of instance\r\n         *\r\n         * @param {Boolean} disabled\r\n         */\r\n        hideLinkedElement: function (disabled) {\r\n            this.linkedElement().disabled(disabled);\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        destroy: function () {\r\n            _.each(this.linkedElementInstances, function (value) {\r\n                value().destroy();\r\n            });\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Create child component by value\r\n         *\r\n         * @param {String} value\r\n         * @return void\r\n         */\r\n        createChildUrlInputComponent: function (value) {\r\n            var elementConfig;\r\n\r\n            if (!_.isEmpty(value) && _.isUndefined(this.linkedElementInstances[value])) {\r\n                elementConfig = this.urlTypes[value];\r\n                layout([elementConfig]);\r\n                this.linkedElementInstances[value] = this.requestModule(elementConfig.name);\r\n            }\r\n            this.linkedElement = this.linkedElementInstances[value];\r\n\r\n        },\r\n\r\n        /**\r\n         * Returns linked element to display related field in template\r\n         * @return String\r\n         */\r\n        getLinkedElementName: function () {\r\n            return this.linkedElement;\r\n        },\r\n\r\n        /**\r\n         * Add ability to choose check box by clicking on label\r\n         */\r\n        checkboxClick: function () {\r\n            if (!this.disabled()) {\r\n                this.settingValue(!this.settingValue());\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/website.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    './select'\r\n], function (_, registry, Select) {\r\n    'use strict';\r\n\r\n    return Select.extend({\r\n        defaults: {\r\n            customerId: null,\r\n            isGlobalScope: 0\r\n        },\r\n\r\n        /**\r\n         * Website component constructor.\r\n         * @returns {exports}\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            if (this.customerId || this.isGlobalScope) {\r\n                this.disable(true);\r\n            }\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/form/element/wysiwyg.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'wysiwygAdapter',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'ko',\r\n    './abstract',\r\n    'mage/adminhtml/events',\r\n    'Magento_Variable/variables'\r\n], function (wysiwyg, $, _, ko, Abstract, varienGlobalEvents) {\r\n    'use strict';\r\n\r\n    return Abstract.extend({\r\n        currentWysiwyg: undefined,\r\n        defaults: {\r\n            elementSelector: 'textarea',\r\n            suffixRegExpPattern: '${ $.wysiwygUniqueSuffix }',\r\n            $wysiwygEditorButton: '',\r\n            links: {\r\n                value: '${ $.provider }:${ $.dataScope }'\r\n            },\r\n            template: 'ui/form/field',\r\n            elementTmpl: 'ui/form/element/wysiwyg',\r\n            content:        '',\r\n            showSpinner:    false,\r\n            loading:        false,\r\n            listens: {\r\n                disabled: 'setDisabled'\r\n            }\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns {} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initNodeListener();\r\n\r\n            $.async({\r\n                component: this,\r\n                selector: 'button'\r\n            }, function (element) {\r\n                this.$wysiwygEditorButton = this.$wysiwygEditorButton ?\r\n                    this.$wysiwygEditorButton.add($(element)) : $(element);\r\n            }.bind(this));\r\n\r\n            // disable editor completely after initialization is field is disabled\r\n            varienGlobalEvents.attachEventHandler('wysiwygEditorInitialized', function () {\r\n                if (!_.isUndefined(window.tinyMceEditors)) {\r\n                    this.currentWysiwyg = window.tinyMceEditors[this.wysiwygId];\r\n                }\r\n\r\n                if (this.disabled()) {\r\n                    this.setDisabled(true);\r\n                }\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function (config) {\r\n            var pattern = config.suffixRegExpPattern || this.constructor.defaults.suffixRegExpPattern;\r\n\r\n            pattern = pattern.replace(/\\$/g, '\\\\$&');\r\n            config.content = config.content.replace(new RegExp(pattern, 'g'), this.getUniqueSuffix(config));\r\n            this._super();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Build unique id based on name, underscore separated.\r\n         *\r\n         * @param {Object} config\r\n         */\r\n        getUniqueSuffix: function (config) {\r\n            return config.name.replace(/(\\.|-)/g, '_');\r\n        },\r\n\r\n        /**\r\n         * @inheritdoc\r\n         */\r\n        destroy: function () {\r\n            this._super();\r\n            wysiwyg.removeEvents(this.wysiwygId);\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns {exports}\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('value');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns {} Chainable.\r\n         */\r\n        initNodeListener: function () {\r\n            $.async({\r\n                component: this,\r\n                selector: this.elementSelector\r\n            }, this.setElementNode.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setElementNode: function (node) {\r\n            $(node).bindings({\r\n                value: this.value\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Set disabled property to wysiwyg component\r\n         *\r\n         * @param {Boolean} disabled\r\n         */\r\n        setDisabled: function (disabled) {\r\n            if (this.$wysiwygEditorButton && disabled) {\r\n                this.$wysiwygEditorButton.prop('disabled', 'disabled');\r\n            } else if (this.$wysiwygEditorButton) {\r\n                this.$wysiwygEditorButton.removeProp('disabled');\r\n            }\r\n\r\n            /* eslint-disable no-undef */\r\n            if (!_.isUndefined(this.currentWysiwyg) && this.currentWysiwyg.activeEditor()) {\r\n                this.currentWysiwyg.setEnabledStatus(!disabled);\r\n                this.currentWysiwyg.getPluginButtons().prop('disabled', disabled);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/data-storage.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiClass'\r\n], function ($, _, utils, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            cacheRequests: true,\r\n            cachedRequestDelay: 50,\r\n            indexField: 'entity_id',\r\n            requestConfig: {\r\n                url: '${ $.updateUrl }',\r\n                method: 'GET',\r\n                dataType: 'json'\r\n            },\r\n            dataScope: '',\r\n            data: {}\r\n        },\r\n\r\n        /**\r\n         * Initializes dataStorage configuration.\r\n         *\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            var scope;\r\n\r\n            this._super();\r\n\r\n            scope = this.dataScope;\r\n\r\n            if (typeof scope === 'string') {\r\n                this.dataScope = scope ? [scope] : [];\r\n            }\r\n\r\n            this._requests = [];\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extracts data which matches specified set of identifiers.\r\n         *\r\n         * @param {Array} ids - Records identifiers.\r\n         * @returns {Array|Boolean}\r\n         */\r\n        getByIds: function (ids) {\r\n            var result = [],\r\n                hasData;\r\n\r\n            hasData = ids.every(function (id) {\r\n                var item = this.data[id];\r\n\r\n                return item ? result.push(item) : false;\r\n            }, this);\r\n\r\n            return hasData ? result : false;\r\n        },\r\n\r\n        /**\r\n         * Extracts identifiers of provided records.\r\n         * If no records were provided then full list of\r\n         * current data id's will be returned.\r\n         *\r\n         * @param {Object|Array} [data=this.data]\r\n         * @returns {Array}\r\n         */\r\n        getIds: function (data) {\r\n            data = data || this.data;\r\n\r\n            return _.pluck(data, this.indexField);\r\n        },\r\n\r\n        /**\r\n         * Extracts data which matches specified parameters.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @param {Object} [options={}]\r\n         * @returns {jQueryPromise}\r\n         */\r\n        getData: function (params, options) {\r\n            var cachedRequest;\r\n\r\n            if (this.hasScopeChanged(params)) {\r\n                this.clearRequests();\r\n            } else {\r\n                cachedRequest = this.getRequest(params);\r\n            }\r\n\r\n            options = options || {};\r\n\r\n            return !options.refresh && cachedRequest ?\r\n                this.getRequestData(cachedRequest) :\r\n                this.requestData(params);\r\n        },\r\n\r\n        /**\r\n         * Tells whether one of the parameters defined in the \"dataScope\" has\r\n         * changed since the last request.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {Boolean}\r\n         */\r\n        hasScopeChanged: function (params) {\r\n            var lastRequest = _.last(this._requests),\r\n                keys,\r\n                diff;\r\n\r\n            if (!lastRequest) {\r\n                return false;\r\n            }\r\n\r\n            diff = utils.compare(lastRequest.params, params);\r\n\r\n            keys = _.pluck(diff.changes, 'path');\r\n            keys = keys.concat(Object.keys(diff.containers));\r\n\r\n            return _.intersection(this.dataScope, keys).length > 0;\r\n        },\r\n\r\n        /**\r\n         * Extends records of current data object\r\n         * with the provided records collection.\r\n         *\r\n         * @param {Array} data - An array of records.\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        updateData: function (data) {\r\n            var records = _.indexBy(data || [], this.indexField);\r\n\r\n            _.extend(this.data, records);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sends request to the server with provided parameters.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        requestData: function (params) {\r\n            var query = utils.copy(params),\r\n                handler = this.onRequestComplete.bind(this, query),\r\n                request;\r\n\r\n            this.requestConfig.data = query;\r\n            request = $.ajax(this.requestConfig).done(handler);\r\n\r\n            return request;\r\n        },\r\n\r\n        /**\r\n         * Returns request's instance which\r\n         * contains provided parameters.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {Object} Instance of request.\r\n         */\r\n        getRequest: function (params) {\r\n            return _.find(this._requests, function (request) {\r\n                return _.isEqual(params, request.params);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Forms data object associated with provided request.\r\n         *\r\n         * @param {Object} request - Request object.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        getRequestData: function (request) {\r\n            var defer = $.Deferred(),\r\n                resolve = defer.resolve.bind(defer),\r\n                delay = this.cachedRequestDelay,\r\n                result;\r\n\r\n            result = {\r\n                items: this.getByIds(request.ids),\r\n                totalRecords: request.totalRecords\r\n            };\r\n\r\n            delay ?\r\n                _.delay(resolve, delay, result) :\r\n                resolve(result);\r\n\r\n            return defer.promise();\r\n        },\r\n\r\n        /**\r\n         * Caches requests object with provdided parameters\r\n         * and data object associated with it.\r\n         *\r\n         * @param {Object} data - Data associated with request.\r\n         * @param {Object} params - Request parameters.\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        cacheRequest: function (data, params) {\r\n            var cached = this.getRequest(params);\r\n\r\n            if (cached) {\r\n                this.removeRequest(cached);\r\n            }\r\n\r\n            this._requests.push({\r\n                ids: this.getIds(data.items),\r\n                params: params,\r\n                totalRecords: data.totalRecords\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears all cached requests.\r\n         *\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        clearRequests: function () {\r\n            this._requests.splice(0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes provided request object from cached requests list.\r\n         *\r\n         * @param {Object} request - Request object.\r\n         * @returns {DataStorage} Chainable.\r\n         */\r\n        removeRequest: function (request) {\r\n            var requests = this._requests,\r\n                index = requests.indexOf(request);\r\n\r\n            if (~index) {\r\n                requests.splice(index, 1);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if request with a specified parameters was cached.\r\n         *\r\n         * @param {Object} params - Parameters of the request.\r\n         * @returns {Boolean}\r\n         */\r\n        wasRequested: function (params) {\r\n            return !!this.getRequest(params);\r\n        },\r\n\r\n        /**\r\n         * Handles successful data request.\r\n         *\r\n         * @param {Object} params - Request parameters.\r\n         * @param {Object} data - Response data.\r\n         */\r\n        onRequestComplete: function (params, data) {\r\n            this.updateData(data.items);\r\n\r\n            if (this.cacheRequests) {\r\n                this.cacheRequest(data, params);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/dnd.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'uiRegistry',\r\n    'uiClass'\r\n], function (ko, $, _, registry, Class) {\r\n    'use strict';\r\n\r\n    var isTouchDevice = typeof document.ontouchstart !== 'undefined',\r\n        transformProp;\r\n\r\n    /**\r\n     * Defines supported css 'transform' property.\r\n     *\r\n     * @returns {String|Undefined}\r\n     */\r\n    transformProp = (function () {\r\n        var style = document.body.style,\r\n            base = 'Transform',\r\n            vendors = ['webkit', 'moz', 'ms', 'o'],\r\n            vi = vendors.length,\r\n            property;\r\n\r\n        if (typeof style.transform != 'undefined') {\r\n            return 'transform';\r\n        }\r\n\r\n        while (vi--) {\r\n            property = vendors[vi] + base;\r\n\r\n            if (typeof style[property] != 'undefined') {\r\n                return property;\r\n            }\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * Returns first touch data if it's available.\r\n     *\r\n     * @param {(MouseEvent|TouchEvent)} e - Event object.\r\n     * @returns {Object}\r\n     */\r\n    function getTouch(e) {\r\n        return e.touches ? e.touches[0] : e;\r\n    }\r\n\r\n    /**\r\n     * Moves specified DOM element to the x and y coordinates.\r\n     *\r\n     * @param {HTMLElement} elem - Element to be relocated.\r\n     * @param {Number} x - X coordinate.\r\n     * @param {Number} y - Y coordinate.\r\n     */\r\n    function locate(elem, x, y) {\r\n        var value = 'translate(' + x + 'px,' + y + 'px)';\r\n\r\n        elem.style[transformProp] = value;\r\n    }\r\n\r\n    /*eslint-disable no-extra-parens*/\r\n    /**\r\n     * Checks if specified coordinate is inside of the provided area.\r\n     *\r\n     * @param {Number} x - X coordinate.\r\n     * @param {Number} y - Y coordinate.\r\n     * @param {Object} area - Object which represents area.\r\n     * @returns {Boolean}\r\n     */\r\n    function isInside(x, y, area) {\r\n        return (\r\n            area &&\r\n            x >= area.left && x <= area.right &&\r\n            y >= area.top && y <= area.bottom\r\n        );\r\n    }\r\n\r\n    /*eslint-enable no-extra-parens*/\r\n\r\n    /**\r\n     * Calculates distance between two points.\r\n     *\r\n     * @param {Number} x1 - X coordinate of a first point.\r\n     * @param {Number} y1 - Y coordinate of a first point.\r\n     * @param {Number} x2 - X coordinate of a second point.\r\n     * @param {Number} y2 - Y coordinate of a second point.\r\n     * @returns {Number} Distance between points.\r\n     */\r\n    function distance(x1, y1, x2, y2) {\r\n        var dx = x2 - x1,\r\n            dy = y2 - y1;\r\n\r\n        dx *= dx;\r\n        dy *= dy;\r\n\r\n        return Math.sqrt(dx + dy);\r\n    }\r\n\r\n    /**\r\n     * Returns viewModel associated with a provided DOM element.\r\n     *\r\n     * @param {HTMLElement} elem\r\n     * @returns {Object|Array}\r\n     */\r\n    function getModel(elem) {\r\n        return ko.dataFor(elem);\r\n    }\r\n\r\n    /**\r\n     * Checks whether cols are identical\r\n     *\r\n     * @param {HTMLElement} c1\r\n     * @param {HTMLElement} c2\r\n     * @returns {Boolean}\r\n     */\r\n    function compareCols(c1, c2) {\r\n        return c1.cellIndex === c2.cellIndex;\r\n    }\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            rootSelector: '${ $.columnsProvider }:.admin__data-grid-wrap',\r\n            tableSelector: '${ $.rootSelector } -> table.data-grid',\r\n            mainTableSelector: '[data-role=\"grid\"]',\r\n            columnSelector: '${ $.tableSelector } thead tr th',\r\n            noSelectClass: '_no-select',\r\n            hiddenClass: '_hidden',\r\n            fixedX: false,\r\n            fixedY: true,\r\n            minDistance: 2,\r\n            columns: []\r\n        },\r\n\r\n        /**\r\n         * Initializes Dnd component.\r\n         *\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'initTable',\r\n                'initColumn',\r\n                'removeColumn',\r\n                'onMouseMove',\r\n                'onMouseUp',\r\n                'onMouseDown'\r\n            );\r\n\r\n            this.$body = $('body');\r\n\r\n            this._super()\r\n                .initListeners();\r\n\r\n            $.async(this.tableSelector, this.initTable);\r\n            $.async(this.columnSelector, this.initColumn);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Binds necessary events listeners.\r\n         *\r\n         * @returns {Dnd} Chainbale.\r\n         */\r\n        initListeners: function () {\r\n            if (isTouchDevice) {\r\n                $(document).on({\r\n                    touchmove: this.onMouseMove,\r\n                    touchend: this.onMouseUp,\r\n                    touchleave: this.onMouseUp\r\n                });\r\n            } else {\r\n                $(document).on({\r\n                    mousemove: this.onMouseMove,\r\n                    mouseup: this.onMouseUp\r\n                });\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines specified table element as a main container.\r\n         *\r\n         * @param {HTMLTableElement} table\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        initTable: function (table) {\r\n            this.table =  $(table).is(this.mainTableSelector) ?  table : this.table;\r\n\r\n            $(table).addClass('data-grid-draggable');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets specified column as a draggable element.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} column - Columns header element.\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        initColumn: function (column) {\r\n            var model = getModel(column),\r\n                eventName;\r\n\r\n            if (!model || !model.draggable) {\r\n                return this;\r\n            }\r\n\r\n            if (!ko.es5.isTracked(model, 'dragover')) {\r\n                model.track('dragover');\r\n            }\r\n\r\n            this.columns.push(column);\r\n\r\n            $(column).bindings({\r\n                css: {\r\n                    '_dragover-left': ko.computed(function () {\r\n                        return model.dragover === 'right';\r\n                    }),\r\n                    '_dragover-right': ko.computed(function () {\r\n                        return model.dragover === 'left';\r\n                    })\r\n                }\r\n            });\r\n\r\n            eventName = isTouchDevice ?\r\n                'touchstart' :\r\n                'mousedown';\r\n\r\n            $(column).on(eventName, this.onMouseDown);\r\n            $.async.remove(column, this.removeColumn);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified column element from the columns array.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} column - Columns header element.\r\n         * @returns {Dnd} Chainable.\r\n         */\r\n        removeColumn: function (column) {\r\n            var columns = this.columns,\r\n                index = columns.indexOf(column);\r\n\r\n            if (~index) {\r\n                columns.splice(index, 1);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns index of column.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} elem\r\n         * @returns {Number}\r\n         */\r\n        _getColumnIndex: function (elem) {\r\n            return _.toArray(elem.parentNode.cells).indexOf(elem);\r\n        },\r\n\r\n        /**\r\n         * Calculates coordinates of draggable elements.\r\n         *\r\n         * @returns {Dnd} Chainbale.\r\n         */\r\n        _cacheCoords: function () {\r\n            var container   = this.table.getBoundingClientRect(),\r\n                bodyRect    = document.body.getBoundingClientRect(),\r\n                grabbed     = this.grabbed,\r\n                dragElem    = grabbed.elem,\r\n                cells       = _.toArray(dragElem.parentNode.cells),\r\n                rect;\r\n\r\n            this.coords = this.columns.map(function (column) {\r\n                var data,\r\n                    colIndex = _.findIndex(cells, function (cell) {\r\n                        return compareCols(cell, column);\r\n                    });\r\n\r\n                rect = column.getBoundingClientRect();\r\n\r\n                data = {\r\n                    index: colIndex,\r\n                    target: column,\r\n                    orig: rect,\r\n                    left: rect.left - bodyRect.left,\r\n                    right: rect.right - bodyRect.left,\r\n                    top: rect.top - bodyRect.top,\r\n                    bottom: container.bottom - bodyRect.top\r\n                };\r\n\r\n                if (column === dragElem) {\r\n                    this.dragArea = data;\r\n\r\n                    grabbed.shiftX = rect.left - grabbed.x;\r\n                    grabbed.shiftY = rect.top - grabbed.y;\r\n                }\r\n\r\n                return data;\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates clone of a target table with only specified column visible.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} elem - Dragging column.\r\n         * @returns {Dnd} Chainbale.\r\n         */\r\n        _cloneTable: function (elem) {\r\n            var clone       = this.table.cloneNode(true),\r\n                columnIndex = this._getColumnIndex(elem),\r\n                headRow     = clone.tHead.firstElementChild,\r\n                headCells   = _.toArray(headRow.cells),\r\n                tableBody   = clone.tBodies[0],\r\n                bodyRows    = _.toArray(tableBody.children),\r\n                origTrs     = this.table.tBodies[0].children;\r\n\r\n            clone.style.width = elem.offsetWidth + 'px';\r\n\r\n            headCells.forEach(function (th, index) {\r\n                if (index !== columnIndex) {\r\n                    headRow.removeChild(th);\r\n                }\r\n            });\r\n\r\n            headRow.cells[0].style.height = elem.offsetHeight + 'px';\r\n\r\n            bodyRows.forEach(function (row, rowIndex) {\r\n                var cells = row.cells,\r\n                    cell;\r\n\r\n                if (cells.length !== headCells.length) {\r\n                    tableBody.removeChild(row);\r\n\r\n                    return;\r\n                }\r\n\r\n                cell = row.cells[columnIndex].cloneNode(true);\r\n\r\n                while (row.firstElementChild) {\r\n                    row.removeChild(row.firstElementChild);\r\n                }\r\n\r\n                cell.style.height = origTrs[rowIndex].cells[columnIndex].offsetHeight + 'px';\r\n\r\n                row.appendChild(cell);\r\n            });\r\n\r\n            this.dragTable = clone;\r\n\r\n            $(clone)\r\n                .addClass('_dragging-copy')\r\n                .appendTo('body');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Matches provided coordinates to available areas.\r\n         *\r\n         * @param {Number} x - X coordinate of a mouse pointer.\r\n         * @param {Number} y - Y coordinate of a mouse pointer.\r\n         * @returns {Object|Undefined} Matched area.\r\n         */\r\n        _getDropArea: function (x, y) {\r\n            return _.find(this.coords, function (area) {\r\n                return isInside(x, y, area);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Updates state of hovered areas.\r\n         *\r\n         * @param {Number} x - X coordinate of a mouse pointer.\r\n         * @param {Number} y - Y coordinate of a mouse pointer.\r\n         */\r\n        _updateAreas: function (x, y) {\r\n            var leavedArea = this.dropArea,\r\n                area = this.dropArea = this._getDropArea(x, y);\r\n\r\n            if (leavedArea) {\r\n                this.dragleave(leavedArea);\r\n            }\r\n\r\n            if (area && !compareCols(area.target, this.dragArea.target)) {\r\n                this.dragenter(area);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Grab action handler.\r\n         *\r\n         * @param {Number} x - X coordinate of a grabbed point.\r\n         * @param {Number} y - Y coordinate of a grabbed point.\r\n         * @param {HTMLElement} elem - Grabbed element.\r\n         */\r\n        grab: function (x, y, elem) {\r\n            this.initDrag = true;\r\n\r\n            this.grabbed = {\r\n                x: x,\r\n                y: y,\r\n                elem: elem\r\n            };\r\n\r\n            this.$body.addClass(this.noSelectClass);\r\n        },\r\n\r\n        /**\r\n         * Dragstart action handler.\r\n         *\r\n         * @param {HTMLTableHeaderCellElement} elem - Element which is dragging.\r\n         */\r\n        dragstart: function (elem) {\r\n            this.initDrag = false;\r\n            this.dropArea = false;\r\n            this.dragging = true;\r\n\r\n            getModel(elem).dragging(true);\r\n\r\n            this._cacheCoords()\r\n                ._cloneTable(elem);\r\n        },\r\n\r\n        /**\r\n         * Drag action handler. Locates draggable\r\n         * grid at a specified coordinates.\r\n         *\r\n         * @param {Number} x - X coordinate.\r\n         * @param {Number} y - Y coordinate.\r\n         */\r\n        drag: function (x, y) {\r\n            var grabbed  = this.grabbed,\r\n                dragArea = this.dragArea,\r\n                posX     = x + grabbed.shiftX,\r\n                posY     = y + grabbed.shiftY;\r\n\r\n            if (this.fixedX) {\r\n                x    = dragArea.left;\r\n                posX = dragArea.orig.left;\r\n            }\r\n\r\n            if (this.fixedY) {\r\n                y    = dragArea.top;\r\n                posY = dragArea.orig.top;\r\n            }\r\n\r\n            locate(this.dragTable, posX, posY);\r\n\r\n            if (!isInside(x, y, this.dropArea)) {\r\n                this._updateAreas(x, y);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Dragenter action handler.\r\n         *\r\n         * @param {Object} dropArea\r\n         */\r\n        dragenter: function (dropArea) {\r\n            var direction = this.dragArea.index < dropArea.index ?\r\n                'left' :\r\n                'right';\r\n\r\n            getModel(dropArea.target).dragover = direction;\r\n        },\r\n\r\n        /**\r\n         * Dragleave action handler.\r\n         *\r\n         * @param {Object} dropArea\r\n         */\r\n        dragleave: function (dropArea) {\r\n            getModel(dropArea.target).dragover = false;\r\n        },\r\n\r\n        /**\r\n         * Dragend action handler.\r\n         *\r\n         * @param {Object} dragArea\r\n         */\r\n        dragend: function (dragArea) {\r\n            var dropArea = this.dropArea,\r\n                dragElem = dragArea.target;\r\n\r\n            this.dragging = false;\r\n\r\n            document.body.removeChild(this.dragTable);\r\n\r\n            getModel(dragElem).dragging(false);\r\n\r\n            if (dropArea && !compareCols(dropArea.target, dragElem)) {\r\n                this.drop(dropArea, dragArea);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Drop action handler.\r\n         *\r\n         * @param {Object} dropArea\r\n         * @param {Object} dragArea\r\n         */\r\n        drop: function (dropArea, dragArea) {\r\n            var dropModel = getModel(dropArea.target),\r\n                dragModel = getModel(dragArea.target);\r\n\r\n            getModel(this.table).insertChild(dragModel, dropModel);\r\n            dropModel.dragover = false;\r\n        },\r\n\r\n        /**\r\n         * Documents' 'mousemove' event handler.\r\n         *\r\n         * @param {(MouseEvent|TouchEvent)} e - Event object.\r\n         */\r\n        onMouseMove: function (e) {\r\n            var grab    = this.grabbed,\r\n                touch   = getTouch(e),\r\n                x       = touch.pageX,\r\n                y       = touch.pageY;\r\n\r\n            if (this.initDrag || this.dragging) {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (this.initDrag && distance(x, y, grab.x, grab.y) >= this.minDistance) {\r\n                this.dragstart(grab.elem);\r\n            }\r\n\r\n            if (this.dragging) {\r\n                this.drag(x, y);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Documents' 'mouseup' event handler.\r\n         */\r\n        onMouseUp: function () {\r\n            if (this.initDrag || this.dragging) {\r\n                this.initDrag = false;\r\n                this.$body.removeClass(this.noSelectClass);\r\n            }\r\n\r\n            if (this.dragging) {\r\n                this.dragend(this.dragArea);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Columns' 'mousedown' event handler.\r\n         *\r\n         * @param {(MouseEvent|TouchEvent)} e - Event object.\r\n         */\r\n        onMouseDown: function (e) {\r\n            var touch = getTouch(e);\r\n\r\n            this.grab(touch.pageX, touch.pageY, e.currentTarget);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/export.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'uiElement'\r\n], function ($, _, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/exportButton',\r\n            selectProvider: 'ns = ${ $.ns }, index = ids',\r\n            checked: '',\r\n            additionalParams: [],\r\n            modules: {\r\n                selections: '${ $.selectProvider }'\r\n            }\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super()\r\n                .initChecked();\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            _.each(this.additionalParams, function (value, key) {\r\n                key = 'additionalParams.' + key;\r\n                this.imports[key] = value;\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('checked');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks first option if checked not defined.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        initChecked: function () {\r\n            if (!this.checked()) {\r\n                this.checked(\r\n                    this.options[0].value\r\n                );\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Compose params object that will be added to request.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getParams: function () {\r\n            var selections = this.selections(),\r\n                data = selections ? selections.getSelections() : null,\r\n                itemsType,\r\n                result = {};\r\n\r\n            if (data) {\r\n                itemsType = data.excludeMode ? 'excluded' : 'selected';\r\n                result.filters = data.params.filters;\r\n                result.search = data.params.search;\r\n                result.namespace = data.params.namespace;\r\n                result[itemsType] = data[itemsType];\r\n                _.each(this.additionalParams, function (param, key) {\r\n                    result[key] = param;\r\n                });\r\n\r\n                if (!result[itemsType].length) {\r\n                    result[itemsType] = false;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Find checked option.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getActiveOption: function () {\r\n            return _.findWhere(this.options, {\r\n                value: this.checked()\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Build option url.\r\n         *\r\n         * @param {Object} option\r\n         * @returns {String}\r\n         */\r\n        buildOptionUrl: function (option) {\r\n            var params = this.getParams();\r\n\r\n            if (!params) {\r\n                return 'javascript:void(0);';\r\n            }\r\n\r\n            return option.url + '?' + $.param(params);\r\n            //TODO: MAGETWO-40250\r\n        },\r\n\r\n        /**\r\n         * Redirect to built option url.\r\n         */\r\n        applyOption: function () {\r\n            var option = this.getActiveOption(),\r\n                url = this.buildOptionUrl(option);\r\n\r\n            location.href = url;\r\n\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/listing.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'Magento_Ui/js/lib/spinner',\r\n    'rjsResolver',\r\n    'uiLayout',\r\n    'uiCollection'\r\n], function (ko, _, loader, resolver, layout, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/listing',\r\n            listTemplate: 'ui/list/listing',\r\n            stickyTmpl: 'ui/grid/sticky/listing',\r\n            viewSwitcherTmpl: 'ui/grid/view-switcher',\r\n            positions: false,\r\n            displayMode: 'grid',\r\n            displayModes: {\r\n                grid: {\r\n                    value: 'grid',\r\n                    label: 'Grid',\r\n                    template: '${ $.template }'\r\n                },\r\n                list: {\r\n                    value: 'list',\r\n                    label: 'List',\r\n                    template: '${ $.listTemplate }'\r\n                }\r\n            },\r\n            dndConfig: {\r\n                name: '${ $.name }_dnd',\r\n                component: 'Magento_Ui/js/grid/dnd',\r\n                columnsProvider: '${ $.name }',\r\n                enabled: true\r\n            },\r\n            editorConfig: {\r\n                name: '${ $.name }_editor',\r\n                component: 'Magento_Ui/js/grid/editing/editor',\r\n                columnsProvider: '${ $.name }',\r\n                dataProvider: '${ $.provider }',\r\n                enabled: false\r\n            },\r\n            resizeConfig: {\r\n                name: '${ $.name }_resize',\r\n                columnsProvider: '${ $.name }',\r\n                component: 'Magento_Ui/js/grid/resize',\r\n                enabled: false\r\n            },\r\n            imports: {\r\n                rows: '${ $.provider }:data.items'\r\n            },\r\n            listens: {\r\n                elems: 'updatePositions updateVisible',\r\n                '${ $.provider }:reload': 'onBeforeReload',\r\n                '${ $.provider }:reloaded': 'onDataReloaded'\r\n            },\r\n            modules: {\r\n                dnd: '${ $.dndConfig.name }',\r\n                resize: '${ $.resizeConfig.name }'\r\n            },\r\n            tracks: {\r\n                displayMode: true\r\n            },\r\n            statefull: {\r\n                displayMode: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes Listing component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'updateVisible');\r\n\r\n            this._super()\r\n                .initDnd()\r\n                .initEditor()\r\n                .initResize();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track({\r\n                    rows: [],\r\n                    visibleColumns: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates drag&drop widget instance.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initDnd: function () {\r\n            if (this.dndConfig.enabled) {\r\n                layout([this.dndConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes resize component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initResize: function () {\r\n            if (this.resizeConfig.enabled) {\r\n                layout([this.resizeConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates inline editing component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initEditor: function () {\r\n            if (this.editorConfig.enabled) {\r\n                layout([this.editorConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when another element was added to current component.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initElement: function (element) {\r\n            var currentCount = this.elems().length,\r\n                totalCount = this.initChildCount;\r\n\r\n            if (totalCount === currentCount) {\r\n                this.initPositions();\r\n            }\r\n\r\n            element.on('visible', this.updateVisible);\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Defines initial order of child elements.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        initPositions: function () {\r\n            this.on('positions', this.applyPositions.bind(this));\r\n\r\n            this.setStatefull('positions');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates current state of child positions.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        updatePositions: function () {\r\n            var positions = {};\r\n\r\n            this.elems.each(function (elem, index) {\r\n                positions[elem.index] = index;\r\n            });\r\n\r\n            this.set('positions', positions);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resorts child elements array according to provided positions.\r\n         *\r\n         * @param {Object} positions - Object where key represents child\r\n         *      index and value is its' position.\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        applyPositions: function (positions) {\r\n            var sorting;\r\n\r\n            sorting = this.elems.map(function (elem) {\r\n                return {\r\n                    elem: elem,\r\n                    position: positions[elem.index]\r\n                };\r\n            });\r\n\r\n            this.insertChild(sorting);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns reference to 'visibleColumns' array.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getVisible: function () {\r\n            var observable = ko.getObservable(this, 'visibleColumns');\r\n\r\n            return observable || this.visibleColumns;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the template\r\n         * defined for a current display mode.\r\n         *\r\n         * @returns {String} Path to the template.\r\n         */\r\n        getTemplate: function () {\r\n            var mode = this.displayModes[this.displayMode];\r\n\r\n            return mode.template;\r\n        },\r\n\r\n        /**\r\n         * Returns an array of available display modes.\r\n         *\r\n         * @returns {Array<Object>}\r\n         */\r\n        getDisplayModes: function () {\r\n            var modes = this.displayModes;\r\n\r\n            return _.values(modes);\r\n        },\r\n\r\n        /**\r\n         * Sets display mode to provided value.\r\n         *\r\n         * @param {String} index\r\n         * @returns {Listing} Chainable\r\n         */\r\n        setDisplayMode: function (index) {\r\n            this.displayMode = index;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns total number of displayed columns in grid.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countVisible: function () {\r\n            return this.visibleColumns.length;\r\n        },\r\n\r\n        /**\r\n         * Updates array of visible columns.\r\n         *\r\n         * @returns {Listing} Chainable.\r\n         */\r\n        updateVisible: function () {\r\n            this.visibleColumns = this.elems.filter('visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if grid has data.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return !!this.rows && !!this.rows.length;\r\n        },\r\n\r\n        /**\r\n         * Hides loader.\r\n         */\r\n        hideLoader: function () {\r\n            loader.get(this.name).hide();\r\n        },\r\n\r\n        /**\r\n         * Shows loader.\r\n         */\r\n        showLoader: function () {\r\n            loader.get(this.name).show();\r\n        },\r\n\r\n        /**\r\n         * Handler of the data providers' 'reload' event.\r\n         */\r\n        onBeforeReload: function () {\r\n            this.showLoader();\r\n        },\r\n\r\n        /**\r\n         * Handler of the data providers' 'reloaded' event.\r\n         */\r\n        onDataReloaded: function () {\r\n            resolver(this.hideLoader, this);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/massactions.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'mageUtils',\r\n    'Magento_Ui/js/lib/collapsible',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'Magento_Ui/js/modal/alert',\r\n    'mage/translate'\r\n], function (_, registry, utils, Collapsible, confirm, alert, $t) {\r\n    'use strict';\r\n\r\n    return Collapsible.extend({\r\n        defaults: {\r\n            template: 'ui/grid/actions',\r\n            stickyTmpl: 'ui/grid/sticky/actions',\r\n            selectProvider: 'ns = ${ $.ns }, index = ids',\r\n            actions: [],\r\n            noItemsMsg: $t('You haven\\'t selected any items!'),\r\n            modules: {\r\n                selections: '${ $.selectProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('actions');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies specified action.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        applyAction: function (actionIndex) {\r\n            var data = this.getSelections(),\r\n                action,\r\n                callback;\r\n\r\n            if (!data.total) {\r\n                alert({\r\n                    content: this.noItemsMsg\r\n                });\r\n\r\n                return this;\r\n            }\r\n\r\n            action   = this.getAction(actionIndex);\r\n            callback = this._getCallback(action, data);\r\n\r\n            action.confirm ?\r\n                this._confirm(action, callback) :\r\n                callback();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieves selections data from the selections provider.\r\n         *\r\n         * @returns {Object|Undefined}\r\n         */\r\n        getSelections: function () {\r\n            var provider = this.selections(),\r\n                selections = provider && provider.getSelections();\r\n\r\n            return selections;\r\n        },\r\n\r\n        /**\r\n         * Retrieves action object associated with a specified index.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @returns {Object} Action object.\r\n         */\r\n        getAction: function (actionIndex) {\r\n            return _.findWhere(this.actions(), {\r\n                type: actionIndex\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Adds new action. If action with a specified identifier\r\n         * already exists, than the original one will be overrided.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        addAction: function (action) {\r\n            var actions = this.actions(),\r\n                index = _.findIndex(actions, {\r\n                    type: action.type\r\n                });\r\n\r\n            ~index ?\r\n                actions[index] = action :\r\n                actions.push(action);\r\n\r\n            this.actions(actions);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates action callback based on its' data. If action doesn't spicify\r\n         * a callback function than the default one will be used.\r\n         *\r\n         * @private\r\n         * @param {Object} action - Actions' object.\r\n         * @param {Object} selections - Selections data.\r\n         * @returns {Function} Callback function.\r\n         */\r\n        _getCallback: function (action, selections) {\r\n            var callback = action.callback,\r\n                args     = [action, selections];\r\n\r\n            if (utils.isObject(callback)) {\r\n                args.unshift(callback.target);\r\n\r\n                callback = registry.async(callback.provider);\r\n            } else if (typeof callback != 'function') {\r\n                callback = this.defaultCallback.bind(this);\r\n            }\r\n\r\n            return function () {\r\n                callback.apply(null, args);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Default action callback. Sends selections data\r\n         * via POST request.\r\n         *\r\n         * @param {Object} action - Action data.\r\n         * @param {Object} data - Selections data.\r\n         */\r\n        defaultCallback: function (action, data) {\r\n            var itemsType = data.excludeMode ? 'excluded' : 'selected',\r\n                selections = {};\r\n\r\n            if (itemsType === 'excluded' && data.selected && data.selected.length) {\r\n                itemsType = 'selected';\r\n                data[itemsType] = _.difference(data.selected, data.excluded);\r\n            }\r\n\r\n            selections[itemsType] = data[itemsType];\r\n\r\n            if (!selections[itemsType].length) {\r\n                selections[itemsType] = false;\r\n            }\r\n\r\n            _.extend(selections, data.params || {});\r\n\r\n            utils.submit({\r\n                url: action.url,\r\n                data: selections\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Shows actions' confirmation window.\r\n         *\r\n         * @param {Object} action - Actions' data.\r\n         * @param {Function} callback - Callback that will be\r\n         *      invoked if action is confirmed.\r\n         */\r\n        _confirm: function (action, callback) {\r\n            var confirmData = action.confirm,\r\n                data = this.getSelections(),\r\n                total = data.total ? data.total : 0,\r\n                confirmMessage = confirmData.message + ' (' + total + ' record' + (total > 1 ? 's' : '') + ')';\r\n\r\n            confirm({\r\n                title: confirmData.title,\r\n                content: confirmMessage,\r\n                actions: {\r\n                    confirm: callback\r\n                }\r\n            });\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/provider.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'rjsResolver',\r\n    'uiLayout',\r\n    'Magento_Ui/js/modal/alert',\r\n    'mage/translate',\r\n    'uiElement'\r\n], function ($, _, utils, resolver, layout, alert, $t, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            firstLoad: true,\r\n            lastError: false,\r\n            storageConfig: {\r\n                component: 'Magento_Ui/js/grid/data-storage',\r\n                provider: '${ $.storageConfig.name }',\r\n                name: '${ $.name }_storage',\r\n                updateUrl: '${ $.update_url }'\r\n            },\r\n            listens: {\r\n                params: 'onParamsChange',\r\n                requestConfig: 'updateRequestConfig'\r\n            },\r\n            ignoreTmpls: {\r\n                data: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes provider component.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        initialize: function () {\r\n            utils.limit(this, 'onParamsChange', 5);\r\n            _.bindAll(this, 'onReload');\r\n\r\n            this._super()\r\n                .initStorage()\r\n                .clearData();\r\n\r\n            // Load data when there will\r\n            // be no more pending assets.\r\n            resolver(this.reload, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes storage component.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        initStorage: function () {\r\n            layout([this.storageConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears provider's data properties.\r\n         *\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        clearData: function () {\r\n            this.setData({\r\n                items: [],\r\n                totalRecords: 0\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Overrides current data with a provided one.\r\n         *\r\n         * @param {Object} data - New data object.\r\n         * @returns {Provider} Chainable.\r\n         */\r\n        setData: function (data) {\r\n            data = this.processData(data);\r\n\r\n            this.set('data', data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Processes data before applying it.\r\n         *\r\n         * @param {Object} data - Data to be processed.\r\n         * @returns {Object}\r\n         */\r\n        processData: function (data) {\r\n            var items = data.items;\r\n\r\n            _.each(items, function (record, index) {\r\n                record._rowIndex = index;\r\n            });\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Reloads data with current parameters.\r\n         *\r\n         * @returns {Promise} Reload promise object.\r\n         */\r\n        reload: function (options) {\r\n            var request = this.storage().getData(this.params, options);\r\n\r\n            this.trigger('reload');\r\n\r\n            request\r\n                .done(this.onReload)\r\n                .fail(this.onError.bind(this));\r\n\r\n            return request;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of 'params' object.\r\n         */\r\n        onParamsChange: function () {\r\n            // It's necessary to make a reload only\r\n            // after the initial loading has been made.\r\n            if (!this.firstLoad) {\r\n                this.reload();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles reload error.\r\n         */\r\n        onError: function (xhr) {\r\n            if (xhr.statusText === 'abort') {\r\n                return;\r\n            }\r\n\r\n            this.set('lastError', true);\r\n\r\n            this.firstLoad = false;\r\n\r\n            alert({\r\n                content: $t('Something went wrong.')\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles successful data reload.\r\n         *\r\n         * @param {Object} data - Retrieved data object.\r\n         */\r\n        onReload: function (data) {\r\n            this.firstLoad = false;\r\n\r\n            this.set('lastError', false);\r\n\r\n            this.setData(data)\r\n                .trigger('reloaded');\r\n        },\r\n\r\n        /**\r\n         * Updates storage's request configuration\r\n         *\r\n         * @param {Object} requestConfig\r\n         */\r\n        updateRequestConfig: function (requestConfig) {\r\n            if (this.storage()) {\r\n                _.extend(this.storage().requestConfig, requestConfig);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/resize.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    'Magento_Ui/js/lib/knockout/extender/bound-nodes',\r\n    'uiElement'\r\n], function ($, ko, _, utils, registry, boundedNodes, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            rootSelector: '${ $.columnsProvider }:.admin__data-grid-wrap',\r\n            tableSelector: '${ $.rootSelector } -> table.data-grid',\r\n            mainTableSelector: '[data-role=\"grid\"]',\r\n            columnSelector: '${ $.tableSelector } thead tr th',\r\n            fieldSelector: '${ $.tableSelector } tbody tr td',\r\n\r\n            imports: {\r\n                storageColumnsData: '${ $.storageConfig.path }.storageColumnsData'\r\n            },\r\n            storageColumnsData: {},\r\n            columnsElements: {},\r\n            tableWidth: 0,\r\n            sumColumnsWidth: 0,\r\n            showLines: 4,\r\n            resizableElementClass: 'shadow-div',\r\n            resizingColumnClass: '_resizing',\r\n            fixedLayoutClass: '_layout-fixed',\r\n            inResizeClass: '_in-resize',\r\n            visibleClass: '_resize-visible',\r\n            cellContentElement: 'div.data-grid-cell-content',\r\n            minColumnWidth: 40,\r\n            layoutFixedPolyfillIterator: 0,\r\n            windowResize: false,\r\n            resizable: false,\r\n            resizeConfig: {\r\n                maxRowsHeight: [],\r\n                curResizeElem: {},\r\n                depResizeElem: {},\r\n                previousWidth: null\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initialize application -\r\n         * binding functions context,\r\n         * set handlers for table elements\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'initTable',\r\n                'initColumn',\r\n                'mousedownHandler',\r\n                'mousemoveHandler',\r\n                'mouseupHandler',\r\n                'refreshLastColumn',\r\n                'refreshMaxRowHeight',\r\n                'preprocessingWidth',\r\n                '_eventProxy',\r\n                'checkAfterResize'\r\n            );\r\n\r\n            this._super();\r\n            this.observe(['maxRowsHeight']);\r\n            this.maxRowsHeight([]);\r\n\r\n            $.async(this.tableSelector, this.initTable);\r\n            $.async(this.columnSelector, this.initColumn);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set table element and adds handler to mousedown on headers\r\n         *\r\n         * @returns {Object} Chainable\r\n         */\r\n        initTable: function (table) {\r\n            if ($(table).is(this.mainTableSelector)) {\r\n                this.table = table;\r\n                this.tableWidth = $(table).outerWidth();\r\n                $(window).resize(this.checkAfterResize);\r\n            }\r\n\r\n            //TODO - Must be deleted when Firefox fixed problem with table-layout: fixed\r\n            //ticket to Firefox: https://bugs.webkit.org/show_bug.cgi?id=90068\r\n            if (navigator.userAgent.search(/Firefox/) > -1) {\r\n                this._layoutFixedPolyfill();\r\n            }\r\n\r\n            $(table).addClass(this.fixedLayoutClass);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Window resize handler,\r\n         * check changes on table width and\r\n         * set new width to variable\r\n         * after window resize start preprocessingWidth method\r\n         */\r\n        checkAfterResize: function () {\r\n            var tableWidth,\r\n                self = this;\r\n\r\n            setTimeout(function () {\r\n                tableWidth = $(self.table).outerWidth();\r\n\r\n                if (self.tableWidth !== tableWidth) {\r\n                    self.tableWidth = tableWidth;\r\n                } else {\r\n                    self.preprocessingWidth();\r\n                }\r\n            }, 300);\r\n        },\r\n\r\n        /**\r\n         * Check conditions to set minimal width\r\n         */\r\n        checkSumColumnsWidth: function () {\r\n            var table = $(this.table),\r\n                elems = table.find('th:not([style*=\"width: auto\"]):visible'),\r\n                elemsWidthMin = table.find('th[style*=\"width: ' + (this.minColumnWidth - 1) + 'px\"]:visible'),\r\n                elemsWidthAuto = table.find('th[style*=\"width: auto\"]:visible'),\r\n                model;\r\n\r\n            this.sumColumnsWidth = 0;\r\n            _.each(elems, function (elem) {\r\n                model = ko.dataFor(elem);\r\n                model.width && model.width !== 'auto' ? this.sumColumnsWidth += model.width : false;\r\n            }, this);\r\n\r\n            if (\r\n                    this.sumColumnsWidth + elemsWidthAuto.length *\r\n                    this.minColumnWidth + elemsWidthMin.length *\r\n                    this.minColumnWidth > this.tableWidth\r\n            ) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Set minimal width to element with \"auto\" width\r\n         */\r\n        setWidthToColumnsWidthAuto: function () {\r\n            var elemsWidthAuto = $(this.table).find('th[style*=\"width: auto\"]:visible');\r\n\r\n            _.each(elemsWidthAuto, function (elem) {\r\n                $(elem).outerWidth(this.minColumnWidth - 1);\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Check conditions to set auto width\r\n         */\r\n        hasMinimal: function () {\r\n            var table = $(this.table),\r\n                elemsWidthMin = table.find('th[style*=\"width: ' + (this.minColumnWidth - 1) + 'px\"]:visible'),\r\n                elemsWidthAuto = table.find('th[style*=\"width: auto\"]:visible');\r\n\r\n            if (\r\n                    elemsWidthAuto && this.sumColumnsWidth + elemsWidthAuto.length *\r\n                    this.minColumnWidth + elemsWidthMin.length * this.minColumnWidth + 5 < this.tableWidth\r\n            ) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Set \"auto\" width to element with minimal width\r\n         */\r\n        setAuto: function () {\r\n            var elemsWidthAuto = $(this.table).find('th[style*=\"width: ' + (this.minColumnWidth - 1) + 'px\"]:visible');\r\n\r\n            _.each(elemsWidthAuto, function (elem) {\r\n                $(elem).outerWidth('auto');\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Check columns width and preprocessing\r\n         */\r\n        preprocessingWidth: function () {\r\n            if (this.checkSumColumnsWidth()) {\r\n                this.setWidthToColumnsWidthAuto();\r\n            } else if (this.hasMinimal()) {\r\n                this.setAuto();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Init columns elements,\r\n         * set width to current column element,\r\n         * add resizable element to columns header,\r\n         * check and add no-resize class to last column,\r\n         * stop parents events,\r\n         * add handler to visibility column\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         */\r\n        initColumn: function (column) {\r\n            var model = ko.dataFor(column),\r\n                ctxIndex = this.getCtxIndex(ko.contextFor(column));\r\n\r\n            model.width = this.getDefaultWidth(column);\r\n\r\n            if (!this.hasColumn(model, ctxIndex, false)) {\r\n                this.columnsElements[model.index] = this.columnsElements[model.index] || {};\r\n                this.columnsElements[model.index][ctxIndex] = column;\r\n                this.initResizableElement(column);\r\n                this.setStopPropagationHandler(column);\r\n                $(column).outerWidth(model.width);\r\n            }\r\n\r\n            this.refreshLastColumn(column);\r\n            this.preprocessingWidth();\r\n\r\n            model.on('visible', this.refreshLastColumn.bind(this, column));\r\n            model.on('visible', this.preprocessingWidth.bind(this));\r\n        },\r\n\r\n        /**\r\n         * Hack for mozilla firefox\r\n         */\r\n        _layoutFixedPolyfill: function () {\r\n            var self = this;\r\n\r\n            setTimeout(function () {\r\n                if (self.layoutFixedPolyfillIterator < 20) {\r\n                    $(window).resize();\r\n                    self.layoutFixedPolyfillIterator++;\r\n                    self._layoutFixedPolyfill();\r\n                } else {\r\n                    return false;\r\n                }\r\n            }, 500);\r\n        },\r\n\r\n        /**\r\n         * Check element is resizable or not\r\n         * and append resizable element to DOM\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         * @returns {Boolean}\r\n         */\r\n        initResizableElement: function (column) {\r\n            var model = ko.dataFor(column),\r\n                templateDragElement = '<div class=\"' + this.resizableElementClass + '\"></div>';\r\n\r\n            if (_.isUndefined(model.resizeEnabled) || model.resizeEnabled) {\r\n                $(column).append(templateDragElement);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Check event target and if need stop parents event,\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         * @returns {Boolean}\r\n         */\r\n        setStopPropagationHandler: function (column) {\r\n            var events,\r\n                click,\r\n                mousedown;\r\n\r\n            $(column).on('click', this._eventProxy);\r\n            $(column).on('mousedown', this._eventProxy);\r\n\r\n            events = $._data(column, 'events');\r\n\r\n            click = events.click;\r\n            mousedown = events.mousedown;\r\n            click.unshift(click.pop());\r\n            mousedown.unshift(mousedown.pop());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Check event target and stop event if need\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        _eventProxy: function (event) {\r\n            if ($(event.target).is('.' + this.resizableElementClass)) {\r\n\r\n                if (event.type === 'click') {\r\n                    event.stopImmediatePropagation();\r\n                } else if (event.type === 'mousedown') {\r\n                    this.mousedownHandler(event);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check visible columns and set disable class to resizable elements,\r\n         *\r\n         * @param {Object} column - columns header element (th)\r\n         */\r\n        refreshLastColumn: function (column) {\r\n            var i = 0,\r\n                columns = $(column).parent().children().not(':hidden'),\r\n                length = columns.length;\r\n\r\n            $('.' + this.visibleClass).removeClass(this.visibleClass);\r\n\r\n            $(column).parent().children().not(':hidden').last().addClass(this.visibleClass);\r\n\r\n            for (i; i < length; i++) {\r\n\r\n                if (!columns.eq(i).find('.' + this.resizableElementClass).length && i) {\r\n                    columns.eq(i - 1).addClass(this.visibleClass);\r\n                }\r\n            }\r\n\r\n        },\r\n\r\n        /**\r\n         * Refresh max height to row elements,\r\n         *\r\n         * @param {Object} elem - (td)\r\n         */\r\n        refreshMaxRowHeight: function (elem) {\r\n            var rowsH = this.maxRowsHeight(),\r\n                curEL = $(elem).find('div'),\r\n                height,\r\n                obj = this.hasRow($(elem).parent()[0], true);\r\n\r\n            curEL.css('white-space', 'nowrap');\r\n            height = curEL.height() * this.showLines;\r\n            curEL.css('white-space', 'normal');\r\n\r\n            if (obj) {\r\n                if (obj.maxHeight < height) {\r\n                    rowsH[_.indexOf(rowsH, obj)].maxHeight = height;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                rowsH.push({\r\n                    elem: $(elem).parent()[0],\r\n                    maxHeight: height\r\n                });\r\n            }\r\n\r\n            $(elem).parent().children().find(this.cellContentElement).css('max-height', height + 'px');\r\n            this.maxRowsHeight(rowsH);\r\n        },\r\n\r\n        /**\r\n         * Set resize class to elements when resizable\r\n         */\r\n        _setResizeClass: function () {\r\n            var rowElements = $(this.table).find('tr');\r\n\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.curResizeElem.ctx.$index() + ')')\r\n                .addClass(this.resizingColumnClass);\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.depResizeElem.ctx.$index() + ')')\r\n                .addClass(this.resizingColumnClass);\r\n        },\r\n\r\n        /**\r\n         * Remove resize class to elements when resizable\r\n         */\r\n        _removeResizeClass: function () {\r\n            var rowElements = $(this.table).find('tr');\r\n\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.curResizeElem.ctx.$index() + ')')\r\n                .removeClass(this.resizingColumnClass);\r\n            rowElements\r\n                .find('td:eq(' + this.resizeConfig.depResizeElem.ctx.$index() + ')')\r\n                .removeClass(this.resizingColumnClass);\r\n        },\r\n\r\n        /**\r\n         * Check conditions to resize\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        _canResize: function (column) {\r\n            if (\r\n                $(column).hasClass(this.visibleClass) ||\r\n                !$(this.resizeConfig.depResizeElem.elems[0]).find('.' + this.resizableElementClass).length\r\n            ) {\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Mouse down event handler,\r\n         * find current and dep column to resize\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        mousedownHandler: function (event) {\r\n            var target = event.target,\r\n                column = $(target).parent()[0],\r\n                cfg = this.resizeConfig,\r\n                body = $('body');\r\n\r\n            event.stopImmediatePropagation();\r\n            cfg.curResizeElem.model = ko.dataFor(column);\r\n            cfg.curResizeElem.ctx = ko.contextFor(column);\r\n            cfg.curResizeElem.elems = this.hasColumn(cfg.curResizeElem.model, false, true);\r\n            cfg.curResizeElem.position = event.pageX;\r\n            cfg.depResizeElem.elems = this.getNextElements(cfg.curResizeElem.elems[0]);\r\n            cfg.depResizeElem.model = ko.dataFor(cfg.depResizeElem.elems[0]);\r\n            cfg.depResizeElem.ctx = ko.contextFor(cfg.depResizeElem.elems[0]);\r\n\r\n            this._setResizeClass();\r\n\r\n            if (!this._canResize(column)) {\r\n                return false;\r\n            }\r\n\r\n            event.stopPropagation();\r\n            this.resizable = true;\r\n            cfg.curResizeElem.model.width = $(cfg.curResizeElem.elems[0]).outerWidth();\r\n            cfg.depResizeElem.model.width = $(cfg.depResizeElem.elems[0]).outerWidth();\r\n            body.addClass(this.inResizeClass);\r\n            body.bind('mousemove', this.mousemoveHandler);\r\n            $(window).bind('mouseup', this.mouseupHandler);\r\n        },\r\n\r\n        /**\r\n         * Mouse move event handler,\r\n         * change columns width\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        mousemoveHandler: function (event) {\r\n            var cfg = this.resizeConfig,\r\n                width = event.pageX - cfg.curResizeElem.position,\r\n                self = this;\r\n\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n\r\n            if (\r\n                this.resizable &&\r\n                this.minColumnWidth < cfg.curResizeElem.model.width + width &&\r\n                this.minColumnWidth < cfg.depResizeElem.model.width - width &&\r\n                cfg.previousWidth !== width\r\n            ) {\r\n                cfg.curResizeElem.model.width += width;\r\n                cfg.depResizeElem.model.width -= width;\r\n\r\n                cfg.curResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(cfg.curResizeElem.model.width);\r\n                });\r\n                cfg.depResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(cfg.depResizeElem.model.width);\r\n                });\r\n\r\n                cfg.previousWidth = width;\r\n                cfg.curResizeElem.position = event.pageX;\r\n            } else if (width <= -(cfg.curResizeElem.model.width - this.minColumnWidth)) {\r\n\r\n                cfg.curResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(self.minColumnWidth);\r\n                });\r\n                cfg.depResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(\r\n                    cfg.depResizeElem.model.width +\r\n                    cfg.curResizeElem.model.width -\r\n                    self.minColumnWidth);\r\n                });\r\n\r\n            } else if (width >= cfg.depResizeElem.model.width - this.minColumnWidth) {\r\n\r\n                cfg.depResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(self.minColumnWidth);\r\n                });\r\n                cfg.curResizeElem.elems.forEach(function (el) {\r\n                    $(el).outerWidth(\r\n                        cfg.curResizeElem.model.width +\r\n                        cfg.depResizeElem.model.width -\r\n                        self.minColumnWidth\r\n                    );\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Mouse up event handler,\r\n         * change columns width\r\n         *\r\n         * @param {Object} event\r\n         */\r\n        mouseupHandler: function (event) {\r\n            var cfg = this.resizeConfig,\r\n                body = $('body');\r\n\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n\r\n            this._removeResizeClass();\r\n            this.storageColumnsData[cfg.curResizeElem.model.index] = cfg.curResizeElem.model.width;\r\n            this.storageColumnsData[cfg.depResizeElem.model.index] = cfg.depResizeElem.model.width;\r\n            this.resizable = false;\r\n\r\n            this.store('storageColumnsData');\r\n\r\n            body.removeClass(this.inResizeClass);\r\n            body.unbind('mousemove', this.mousemoveHandler);\r\n            $(window).unbind('mouseup', this.mouseupHandler);\r\n        },\r\n\r\n        /**\r\n         * Find dependency element\r\n         *\r\n         * @param {Object} element - current element\r\n         * @returns {Object} next element data\r\n         */\r\n        getNextElements: function (element) {\r\n            var nextElem = $(element).next()[0],\r\n                nextElemModel = ko.dataFor(nextElem),\r\n                nextElemData = this.hasColumn(nextElemModel, false, true);\r\n\r\n            if (nextElemData) {\r\n                if (nextElemModel.visible) {\r\n                    return nextElemData;\r\n                }\r\n\r\n                return this.getNextElements(nextElem);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get default width\r\n         *\r\n         * @param {Object} column - (th) element\r\n         * @return {String} width for current column\r\n         */\r\n        getDefaultWidth: function (column) {\r\n            var model = ko.dataFor(column);\r\n\r\n            if (this.storageColumnsData[model.index]) {\r\n                return this.storageColumnsData[model.index];\r\n            }\r\n\r\n            if (model.resizeDefaultWidth) {\r\n                return parseInt(model.resizeDefaultWidth, 10);\r\n            }\r\n\r\n            return 'auto';\r\n        },\r\n\r\n        /**\r\n         * Check column is render or not\r\n         *\r\n         * @param {Object} model - cur column model\r\n         * @param {String|Boolean} ctxIndex - index of context, or false, if want to get cols from all ctx\r\n         * @param {Boolean} returned - need return column object or not\r\n         * @return {Boolean} if returned param is false, returned boolean value, else return current object data\r\n         */\r\n        hasColumn: function (model, ctxIndex, returned) {\r\n            var colElem = this.columnsElements[model.index] || {},\r\n                getFromAllCtx = ctxIndex === false;\r\n\r\n            if (colElem && (getFromAllCtx || colElem.hasOwnProperty(ctxIndex))) {\r\n\r\n                if (returned) {\r\n                    return getFromAllCtx ?\r\n                        _.values(colElem) :\r\n                        colElem[ctxIndex];\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Check row is render or not\r\n         *\r\n         * @param {Object} elem - cur column element\r\n         * @param {Boolean} returned - need return column object or not\r\n         * @return {Boolean|Object} if returned param is false, returned boolean value, else return current object data\r\n         */\r\n        hasRow: function (elem, returned) {\r\n            var i = 0,\r\n                el = this.maxRowsHeight(),\r\n                length = el.length;\r\n\r\n            for (i; i < length; i++) {\r\n                if (this.maxRowsHeight()[i].elem === elem) {\r\n                    if (returned) {//eslint-disable-line max-depth\r\n                        return this.maxRowsHeight()[i];\r\n                    }\r\n\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Generate index that will identify context\r\n         *\r\n         * @param {Object} ctx\r\n         * @return {String}\r\n         */\r\n        getCtxIndex: function (ctx) {\r\n            return ctx ? ctx.$parents.reduce(function (pv, cv) {\r\n                return (pv.index || pv) + (cv || {}).index;\r\n            }) : ctx;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/toolbar.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'Magento_Ui/js/lib/view/utils/raf',\r\n    'rjsResolver',\r\n    'uiCollection'\r\n], function (_, $, raf, resolver, Collection) {\r\n    'use strict';\r\n\r\n    var transformProp;\r\n\r\n    /**\r\n     * Defines supported css 'transform' property.\r\n     *\r\n     * @returns {String|Undefined}\r\n     */\r\n    transformProp = (function () {\r\n        var style = document.documentElement.style,\r\n            base = 'Transform',\r\n            vendors = ['webkit', 'moz', 'ms', 'o'],\r\n            vi = vendors.length,\r\n            property;\r\n\r\n        if (typeof style.transform != 'undefined') {\r\n            return 'transform';\r\n        }\r\n\r\n        while (vi--) {\r\n            property = vendors[vi] + base;\r\n\r\n            if (typeof style[property] != 'undefined') {\r\n                return property;\r\n            }\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * Moves specified DOM element to the x and y coordinates.\r\n     *\r\n     * @param {HTMLElement} elem - Element to be relocated.\r\n     * @param {Number} x - X coordinate.\r\n     * @param {Number} y - Y coordinate.\r\n     */\r\n    function locate(elem, x, y) {\r\n        var value = 'translate(' + x + 'px,' + y + 'px)';\r\n\r\n        elem.style[transformProp] = value;\r\n    }\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/toolbar',\r\n            stickyTmpl: 'ui/grid/sticky/sticky',\r\n            tableSelector: 'table',\r\n            columnsProvider: 'ns = ${ $.ns }, componentType = columns',\r\n            refreshFPS: 15,\r\n            sticky: false,\r\n            visible: false,\r\n            _resized: true,\r\n            _scrolled: true,\r\n            _tableScrolled: true,\r\n            _requiredNodes: {\r\n                '$stickyToolbar': true,\r\n                '$stickyTable': true,\r\n                '$table': true,\r\n                '$sticky': true\r\n            },\r\n            stickyClass: {\r\n                'sticky-header': true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes sticky toolbar component.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n\r\n            if (this.sticky) {\r\n                this.waitDOMElements()\r\n                    .then(this.run.bind(this));\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Establishes DOM elements wait process.\r\n         *\r\n         * @returns {jQueryPromise} Promise which will be resolved\r\n         *      when all of the required DOM elements are defined.\r\n         */\r\n        waitDOMElements: function () {\r\n            var _domPromise = $.Deferred();\r\n\r\n            _.bindAll(this, 'setStickyTable', 'setTableNode');\r\n\r\n            $.async({\r\n                ctx: ':not([data-role=\"sticky-el-root\"])',\r\n                component: this.columnsProvider,\r\n                selector: this.tableSelector\r\n            }, this.setTableNode);\r\n\r\n            $.async({\r\n                ctx: '[data-role=\"sticky-el-root\"]',\r\n                component: this.columnsProvider,\r\n                selector: this.tableSelector\r\n            }, this.setStickyTable);\r\n\r\n            this._domPromise = _domPromise;\r\n\r\n            return _domPromise.promise();\r\n        },\r\n\r\n        /**\r\n         * Defines left caption element.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setLeftCap: function (node) {\r\n            this.$leftCap = node;\r\n        },\r\n\r\n        /**\r\n         * Defines right caption element.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setRightCap: function (node) {\r\n            this.$rightCap = node;\r\n        },\r\n\r\n        /**\r\n         * Defines original table element.\r\n         *\r\n         * @param {HTMLTableElement} node\r\n         */\r\n        setTableNode: function (node) {\r\n            this.$cols = node.tHead.children[0].cells;\r\n            this.$tableContainer = node.parentNode;\r\n\r\n            this.setNode('$table', node);\r\n        },\r\n\r\n        /**\r\n         * Defines sticky table element.\r\n         *\r\n         * @param {HTMLTableElement} node\r\n         */\r\n        setStickyTable: function (node) {\r\n            this.$stickyCols = node.tHead.children[0].cells;\r\n\r\n            this.setNode('$stickyTable', node);\r\n        },\r\n\r\n        /**\r\n         * Defines sticky toolbar node.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setStickyToolbarNode: function (node) {\r\n            this.setNode('$stickyToolbar', node);\r\n        },\r\n\r\n        /**\r\n         * Defines sticky element container.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setStickyNode: function (node) {\r\n            this.setNode('$sticky', node);\r\n        },\r\n\r\n        /**\r\n         * Defines toolbar element container.\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        setToolbarNode: function (node) {\r\n            this.$toolbar = node;\r\n        },\r\n\r\n        /**\r\n         * Sets provided node as a value of 'key' property and\r\n         * performs check for required DOM elements.\r\n         *\r\n         * @param {String} key - Properties key.\r\n         * @param {HTMLElement} node - DOM element.\r\n         */\r\n        setNode: function (key, node) {\r\n            var nodes = this._requiredNodes,\r\n                promise = this._domPromise,\r\n                defined;\r\n\r\n            this[key] = node;\r\n\r\n            defined = _.every(nodes, function (enabled, name) {\r\n                return enabled ? this[name] : true;\r\n            }, this);\r\n\r\n            if (defined) {\r\n                resolver(promise.resolve, promise);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Starts refresh process of the sticky element\r\n         * and assigns DOM elements events handlers.\r\n         */\r\n        run: function () {\r\n            _.bindAll(\r\n                this,\r\n                'refresh',\r\n                '_onWindowResize',\r\n                '_onWindowScroll',\r\n                '_onTableScroll'\r\n            );\r\n\r\n            $(window).on({\r\n                scroll: this._onWindowScroll,\r\n                resize: this._onWindowResize\r\n            });\r\n\r\n            $(this.$tableContainer).on('scroll', this._onTableScroll);\r\n\r\n            this.refresh();\r\n            this.checkTableWidth();\r\n        },\r\n\r\n        /**\r\n         * Refreshes state of the sticky element and\r\n         * invokes DOM elements events handlers\r\n         * if corresponding event has been triggered.\r\n         */\r\n        refresh: function () {\r\n            if (!raf(this.refresh, this.refreshFPS)) {\r\n                return;\r\n            }\r\n\r\n            if (this._scrolled) {\r\n                this.onWindowScroll();\r\n            }\r\n\r\n            if (this._tableScrolled) {\r\n                this.onTableScroll();\r\n            }\r\n\r\n            if (this._resized) {\r\n                this.onWindowResize();\r\n            }\r\n\r\n            if (this.visible) {\r\n                this.checkTableWidth();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Shows sticky toolbar.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        show: function () {\r\n            this.visible = true;\r\n\r\n            this.$sticky.style.display = '';\r\n            this.$toolbar.style.visibility = 'hidden';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides sticky toolbar.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        hide: function () {\r\n            this.visible = false;\r\n\r\n            this.$sticky.style.display = 'none';\r\n            this.$toolbar.style.visibility = '';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if sticky toolbar covers original elements.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isCovered: function () {\r\n            var stickyTop = this._stickyTableTop + this._wScrollTop;\r\n\r\n            return stickyTop > this._tableTop;\r\n        },\r\n\r\n        /**\r\n         * Updates offset of the sticky table element.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateStickyTableOffset: function () {\r\n            var style,\r\n                top;\r\n\r\n            if (this.visible) {\r\n                top = this.$stickyTable.getBoundingClientRect().top;\r\n            } else {\r\n                style = this.$sticky.style;\r\n\r\n                style.visibility = 'hidden';\r\n                style.display = '';\r\n\r\n                top = this.$stickyTable.getBoundingClientRect().top;\r\n\r\n                style.display = 'none';\r\n                style.visibility = '';\r\n            }\r\n\r\n            this._stickyTableTop = top;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates offset of the original table element.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateTableOffset: function () {\r\n            var box = this.$table.getBoundingClientRect(),\r\n                top = box.top + this._wScrollTop;\r\n\r\n            if (this._tableTop !== top) {\r\n                this._tableTop = top;\r\n\r\n                this.onTableTopChange(top);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if width of the table or it's columns has changed.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        checkTableWidth: function () {\r\n            var cols        = this.$cols,\r\n                total       = cols.length,\r\n                rightBorder = cols[total - 2].offsetLeft,\r\n                tableWidth  = this.$table.offsetWidth;\r\n\r\n            if (this._tableWidth !== tableWidth) {\r\n                this._tableWidth = tableWidth;\r\n\r\n                this.onTableWidthChange(tableWidth);\r\n            }\r\n\r\n            if (this._rightBorder !== rightBorder) {\r\n                this._rightBorder = rightBorder;\r\n\r\n                this.onColumnsWidthChange();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates width of the sticky table.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateTableWidth: function () {\r\n            this.$stickyTable.style.width = this._tableWidth + 'px';\r\n\r\n            if (this._tableWidth < this._toolbarWidth) {\r\n                this.checkToolbarSize();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates width of the sticky columns.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateColumnsWidth: function () {\r\n            var cols        = this.$cols,\r\n                index       = cols.length,\r\n                stickyCols  = this.$stickyCols;\r\n\r\n            while (index--) {\r\n                stickyCols[index].width = cols[index].offsetWidth;\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Upadates size of the sticky toolbar element\r\n         * and invokes corresponding 'change' event handlers.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        checkToolbarSize: function () {\r\n            var width = this.$tableContainer.offsetWidth;\r\n\r\n            if (this._toolbarWidth !== width) {\r\n                this._toolbarWidth = width;\r\n\r\n                this.onToolbarWidthChange(width);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles sticky toolbar visibility if it's necessary.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateVisibility: function () {\r\n            if (this.visible !== this.isCovered()) {\r\n                this.visible ? this.hide() : this.show();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates position of the left cover area.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateLeftCap: function () {\r\n            locate(this.$leftCap, -this._wScrollLeft, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates position of the right cover area.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateRightCap: function () {\r\n            var left = this._toolbarWidth - this._wScrollLeft;\r\n\r\n            locate(this.$rightCap, left, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates position of the sticky table.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateTableScroll: function () {\r\n            var container = this.$tableContainer,\r\n                left = container.scrollLeft + this._wScrollLeft;\r\n\r\n            locate(this.$stickyTable, -left, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates width of the toolbar element.\r\n         *\r\n         * @returns {Sticky} Chainable.\r\n         */\r\n        updateToolbarWidth: function () {\r\n            this.$stickyToolbar.style.width = this._toolbarWidth + 'px';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the toolbar element's width.\r\n         */\r\n        onToolbarWidthChange: function () {\r\n            this.updateToolbarWidth()\r\n                .updateRightCap();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the table top position.\r\n         */\r\n        onTableTopChange: function () {\r\n            this.updateStickyTableOffset();\r\n        },\r\n\r\n        /**\r\n         * Handles change of the table width.\r\n         */\r\n        onTableWidthChange: function () {\r\n            this.updateTableWidth();\r\n        },\r\n\r\n        /**\r\n         * Handles change of the table columns width.\r\n         */\r\n        onColumnsWidthChange: function () {\r\n            this.updateColumnsWidth();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the window's size.\r\n         */\r\n        onWindowResize: function () {\r\n            this.checkToolbarSize();\r\n\r\n            this._resized = false;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the original table scroll position.\r\n         */\r\n        onTableScroll: function () {\r\n            this.updateTableScroll();\r\n\r\n            this._tableScrolled = false;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of window's scroll position.\r\n         */\r\n        onWindowScroll: function () {\r\n            var scrollTop = window.pageYOffset,\r\n                scrollLeft = window.pageXOffset;\r\n\r\n            if (this._wScrollTop !== scrollTop) {\r\n                this._wScrollTop = scrollTop;\r\n\r\n                this.onWindowScrollTop(scrollTop);\r\n            }\r\n\r\n            if (this._wScrollLeft !== scrollLeft) {\r\n                this._wScrollLeft = scrollLeft;\r\n\r\n                this.onWindowScrollLeft(scrollLeft);\r\n            }\r\n\r\n            this._scrolled = false;\r\n        },\r\n\r\n        /**\r\n         * Handles changes of windows' top scroll position.\r\n         */\r\n        onWindowScrollTop: function () {\r\n            this.updateTableOffset()\r\n                .updateVisibility();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of windows' left scroll position.\r\n         */\r\n        onWindowScrollLeft: function () {\r\n            this.updateRightCap()\r\n                .updateLeftCap()\r\n                .updateTableScroll();\r\n        },\r\n\r\n        /**\r\n         * Original window 'scroll' event handler.\r\n         * Sets 'scrolled' flag to 'true'.\r\n         *\r\n         * @private\r\n         */\r\n        _onWindowScroll: function () {\r\n            this._scrolled = true;\r\n        },\r\n\r\n        /**\r\n         * Original window 'resize' event handler.\r\n         * Sets 'resized' flag to 'true'.\r\n         *\r\n         * @private\r\n         */\r\n        _onWindowResize: function () {\r\n            this._resized = true;\r\n        },\r\n\r\n        /**\r\n         * Original table 'scroll' event handler.\r\n         * Sets '_tableScrolled' flag to 'true'.\r\n         *\r\n         * @private\r\n         */\r\n        _onTableScroll: function () {\r\n            this._tableScrolled = true;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/tree-massactions.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'Magento_Ui/js/grid/massactions'\r\n], function (ko, _, Massactions) {\r\n    'use strict';\r\n\r\n    return Massactions.extend({\r\n        defaults: {\r\n            template: 'ui/grid/tree-massactions',\r\n            submenuTemplate: 'ui/grid/submenu',\r\n            listens: {\r\n                opened: 'hideSubmenus'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .recursiveObserveActions(this.actions());\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Recursive initializes observable actions.\r\n         *\r\n         * @param {Array} actions - Action objects.\r\n         * @param {String} [prefix] - An optional string that will be prepended\r\n         *      to the \"type\" field of all child actions.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        recursiveObserveActions: function (actions, prefix) {\r\n            _.each(actions, function (action) {\r\n                if (prefix) {\r\n                    action.type = prefix + '.' + action.type;\r\n                }\r\n\r\n                if (action.actions) {\r\n                    action.visible = ko.observable(false);\r\n                    action.parent = actions;\r\n                    this.recursiveObserveActions(action.actions, action.type);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies specified action.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        applyAction: function (actionIndex) {\r\n            var action = this.getAction(actionIndex),\r\n                visibility;\r\n\r\n            if (action.visible) {\r\n                visibility = action.visible();\r\n\r\n                this.hideSubmenus(action.parent);\r\n                action.visible(!visibility);\r\n\r\n                return this;\r\n            }\r\n\r\n            return this._super(actionIndex);\r\n        },\r\n\r\n        /**\r\n         * Retrieves action object associated with a specified index.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @param {Array} actions - Action objects.\r\n         * @returns {Object} Action object.\r\n         */\r\n        getAction: function (actionIndex, actions) {\r\n            var currentActions = actions || this.actions(),\r\n                result = false;\r\n\r\n            _.find(currentActions, function (action) {\r\n                if (action.type === actionIndex) {\r\n                    result = action;\r\n\r\n                    return true;\r\n                }\r\n\r\n                if (action.actions) {\r\n                    result = this.getAction(actionIndex, action.actions);\r\n\r\n                    return result;\r\n                }\r\n            }, this);\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Recursive hide all sub folders in given array.\r\n         *\r\n         * @param {Array} actions - Action objects.\r\n         * @returns {Massactions} Chainable.\r\n         */\r\n        hideSubmenus: function (actions) {\r\n            var currentActions = actions || this.actions();\r\n\r\n            _.each(currentActions, function (action) {\r\n                if (action.visible && action.visible()) {\r\n                    action.visible(false);\r\n                }\r\n\r\n                if (action.actions) {\r\n                    this.hideSubmenus(action.actions);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/actions.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    './column',\r\n    'Magento_Ui/js/modal/confirm',\r\n    'mage/dataPost'\r\n], function (_, utils, registry, Column, confirm, dataPost) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/cells/actions',\r\n            sortable: false,\r\n            draggable: false,\r\n            actions: [],\r\n            rows: [],\r\n            rowsProvider: '${ $.parentName }',\r\n            fieldClass: {\r\n                'data-grid-actions-cell': true\r\n            },\r\n            templates: {\r\n                actions: {}\r\n            },\r\n            imports: {\r\n                rows: '${ $.rowsProvider }:rows'\r\n            },\r\n            listens: {\r\n                rows: 'updateActions'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('actions');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns specific action of a specified row\r\n         * or all action objects associated with it.\r\n         *\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @param {String} [actionIndex] - Action identifier.\r\n         * @returns {Array|Object}\r\n         */\r\n        getAction: function (rowIndex, actionIndex) {\r\n            var rowActions = this.actions[rowIndex];\r\n\r\n            return rowActions && actionIndex ?\r\n                rowActions[actionIndex] :\r\n                rowActions;\r\n        },\r\n\r\n        /**\r\n         * Returns visible actions for a specified row.\r\n         *\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {Array} Visible actions.\r\n         */\r\n        getVisibleActions: function (rowIndex) {\r\n            var rowActions = this.getAction(rowIndex);\r\n\r\n            return _.filter(rowActions, this.isActionVisible, this);\r\n        },\r\n\r\n        /**\r\n         * Adds new action. If an action with the specified identifier\r\n         * already exists, then the original will be overridden.\r\n         *\r\n         * @param {String} index - Actions' identifier.\r\n         * @param {Object} action - Actions' data.\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        addAction: function (index, action) {\r\n            var actionTmpls = this.templates.actions;\r\n\r\n            actionTmpls[index] = action;\r\n\r\n            this.updateActions();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Recreates actions for each row.\r\n         *\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        updateActions: function () {\r\n            this.actions = this.rows.map(this._formatActions, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Processes actions, setting additional information to them and\r\n         * evaluating their properties as string templates.\r\n         *\r\n         * @private\r\n         * @param {Object} row - Row object.\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {Array}\r\n         */\r\n        _formatActions: function (row, rowIndex) {\r\n            var rowActions      = row[this.index] || {},\r\n                recordId        = row[this.indexField],\r\n                customActions   = this.templates.actions;\r\n\r\n            /**\r\n             * Actions iterator.\r\n             */\r\n            function iterate(action, index) {\r\n                action = utils.extend({\r\n                    index: index,\r\n                    rowIndex: rowIndex,\r\n                    recordId: recordId\r\n                }, action);\r\n\r\n                return utils.template(action, row, true);\r\n            }\r\n\r\n            rowActions      = _.mapObject(rowActions, iterate);\r\n            customActions   = _.map(customActions, iterate);\r\n\r\n            customActions.forEach(function (action) {\r\n                rowActions[action.index] = action;\r\n            });\r\n\r\n            return rowActions;\r\n        },\r\n\r\n        /**\r\n         * Applies specified action.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {ActionsColumn} Chainable.\r\n         */\r\n        applyAction: function (actionIndex, rowIndex) {\r\n            var action = this.getAction(rowIndex, actionIndex),\r\n                callback = this._getCallback(action);\r\n\r\n            action.confirm ?\r\n                this._confirm(action, callback) :\r\n                callback();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates handler for the provided action if it's required.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {Function|Undefined}\r\n         */\r\n        getActionHandler: function (action) {\r\n            var index = action.index,\r\n                rowIndex = action.rowIndex;\r\n\r\n            if (this.isHandlerRequired(index, rowIndex)) {\r\n                return this.applyAction.bind(this, index, rowIndex);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns target of action if it's been set.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {String}\r\n         */\r\n        getTarget: function (action) {\r\n            if (action.target) {\r\n                return action.target;\r\n            }\r\n\r\n            return '_self';\r\n        },\r\n\r\n        /**\r\n         * Checks if specified action requires a handler function.\r\n         *\r\n         * @param {String} actionIndex - Actions' identifier.\r\n         * @param {Number} rowIndex - Index of a row.\r\n         * @returns {Boolean}\r\n         */\r\n        isHandlerRequired: function (actionIndex, rowIndex) {\r\n            var action = this.getAction(rowIndex, actionIndex);\r\n\r\n            return _.isObject(action.callback) || action.confirm || !action.href;\r\n        },\r\n\r\n        /**\r\n         * Creates action callback based on it's data. If the action doesn't specify\r\n         * a callback function than the default one will be used.\r\n         *\r\n         * @private\r\n         * @param {Object} action - Action's object.\r\n         * @returns {Function} Callback function.\r\n         */\r\n        _getCallback: function (action) {\r\n            var args = [action.index, action.recordId, action],\r\n                callback = action.callback;\r\n\r\n            if (utils.isObject(callback)) {\r\n                args.unshift(callback.target);\r\n\r\n                callback = registry.async(callback.provider);\r\n            } else if (_.isArray(callback)) {\r\n                return this._getCallbacks(action);\r\n            } else if (!_.isFunction(callback)) {\r\n                callback = this.defaultCallback.bind(this);\r\n            }\r\n\r\n            return function () {\r\n                callback.apply(callback, args);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Creates action callback for multiple actions.\r\n         *\r\n         * @private\r\n         * @param {Object} action - Action's object.\r\n         * @returns {Function} Callback function.\r\n         */\r\n        _getCallbacks: function (action) {\r\n            var callback = action.callback,\r\n                callbacks = [],\r\n                tmpCallback;\r\n\r\n            _.each(callback, function (cb) {\r\n                tmpCallback = {\r\n                    action: registry.async(cb.provider),\r\n                    args: _.compact([cb.target, cb.params])\r\n                };\r\n                callbacks.push(tmpCallback);\r\n            });\r\n\r\n            return function () {\r\n                _.each(callbacks, function (cb) {\r\n                    cb.action.apply(cb.action, cb.args);\r\n                });\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Default action callback. Redirects to\r\n         * the specified in action's data url.\r\n         *\r\n         * @param {String} actionIndex - Action's identifier.\r\n         * @param {(Number|String)} recordId - Id of the record associated\r\n         *      with a specified action.\r\n         * @param {Object} action - Action's data.\r\n         */\r\n        defaultCallback: function (actionIndex, recordId, action) {\r\n            if (action.post) {\r\n                dataPost().postData({\r\n                    action: action.href,\r\n                    data: {}\r\n                });\r\n            } else {\r\n                window.location.href = action.href;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Shows actions' confirmation window.\r\n         *\r\n         * @param {Object} action - Action's data.\r\n         * @param {Function} callback - Callback that will be\r\n         *      invoked if action is confirmed.\r\n         */\r\n        _confirm: function (action, callback) {\r\n            var confirmData = action.confirm;\r\n\r\n            confirm({\r\n                title: confirmData.title,\r\n                content: confirmData.message,\r\n                actions: {\r\n                    confirm: callback\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Checks if row has only one visible action.\r\n         *\r\n         * @param {Number} rowIndex - Row index.\r\n         * @returns {Boolean}\r\n         */\r\n        isSingle: function (rowIndex) {\r\n            return this.getVisibleActions(rowIndex).length === 1;\r\n        },\r\n\r\n        /**\r\n         * Checks if row has more than one visible action.\r\n         *\r\n         * @param {Number} rowIndex - Row index.\r\n         * @returns {Boolean}\r\n         */\r\n        isMultiple: function (rowIndex) {\r\n            return this.getVisibleActions(rowIndex).length > 1;\r\n        },\r\n\r\n        /**\r\n         * Checks if action should be displayed.\r\n         *\r\n         * @param {Object} action - Action object.\r\n         * @returns {Boolean}\r\n         */\r\n        isActionVisible: function (action) {\r\n            return action.hidden !== true;\r\n        },\r\n\r\n        /**\r\n         * Overrides base method, because this component\r\n         * can't have global field action.\r\n         *\r\n         * @returns {Boolean} False.\r\n         */\r\n        hasFieldAction: function () {\r\n            return false;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/column.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'mageUtils',\r\n    'uiElement'\r\n], function (_, registry, utils, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            headerTmpl: 'ui/grid/columns/text',\r\n            bodyTmpl: 'ui/grid/cells/text',\r\n            disableAction: false,\r\n            controlVisibility: true,\r\n            sortable: true,\r\n            sorting: false,\r\n            visible: true,\r\n            draggable: true,\r\n            fieldClass: {},\r\n            ignoreTmpls: {\r\n                fieldAction: true\r\n            },\r\n            statefull: {\r\n                visible: true,\r\n                sorting: true\r\n            },\r\n            imports: {\r\n                exportSorting: 'sorting'\r\n            },\r\n            listens: {\r\n                '${ $.provider }:params.sorting.field': 'onSortChange'\r\n            },\r\n            modules: {\r\n                source: '${ $.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes column component.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initFieldClass();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'visible',\r\n                    'sorting',\r\n                    'disableAction'\r\n                ])\r\n                .observe([\r\n                    'dragging'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends list of field classes.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        initFieldClass: function () {\r\n            _.extend(this.fieldClass, {\r\n                _dragging: this.dragging\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies specified stored state of a column or one of its' properties.\r\n         *\r\n         * @param {String} state - Defines what state should be used: saved or default.\r\n         * @param {String} [property] - Defines what columns' property should be applied.\r\n         *      If not specified, then all columns stored properties will be used.\r\n         * @returns {Column} Chainable.\r\n         */\r\n        applyState: function (state, property) {\r\n            var namespace = this.storageConfig.root;\r\n\r\n            if (property) {\r\n                namespace += '.' + property;\r\n            }\r\n\r\n            this.storage('applyStateOf', state, namespace);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets columns' sorting. If column is currently sorted,\r\n         * than its' direction will be toggled.\r\n         *\r\n         * @param {*} [enable=true] - If false, than sorting will\r\n         *      be removed from a column.\r\n         * @returns {Column} Chainable.\r\n         */\r\n        sort: function (enable) {\r\n            if (!this.sortable) {\r\n                return this;\r\n            }\r\n\r\n            enable !== false ?\r\n                this.toggleSorting() :\r\n                this.sorting = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets descending columns' sorting.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        sortDescending: function () {\r\n            if (this.sortable) {\r\n                this.sorting = 'desc';\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets ascending columns' sorting.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        sortAscending: function () {\r\n            if (this.sortable) {\r\n                this.sorting = 'asc';\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles sorting direction.\r\n         *\r\n         * @returns {Column} Chainable.\r\n         */\r\n        toggleSorting: function () {\r\n            this.sorting === 'asc' ?\r\n                this.sortDescending() :\r\n                this.sortAscending();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if column is sorted.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isSorted: function () {\r\n            return !!this.sorting;\r\n        },\r\n\r\n        /**\r\n         * Exports sorting data to the dataProvider if\r\n         * sorting of a column is enabled.\r\n         */\r\n        exportSorting: function () {\r\n            if (!this.sorting) {\r\n                return;\r\n            }\r\n\r\n            this.source('set', 'params.sorting', {\r\n                field: this.index,\r\n                direction: this.sorting\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Checks if column has an assigned action that will\r\n         * be performed when clicking on one of its' fields.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasFieldAction: function () {\r\n            return !!this.fieldAction || !!this.fieldActions;\r\n        },\r\n\r\n        /**\r\n         * Applies action described in a 'fieldAction' property\r\n         * or actions described in 'fieldActions' property.\r\n         *\r\n         * @param {Number} rowIndex - Index of a row which initiates action.\r\n         * @returns {Column} Chainable.\r\n         *\r\n         * @example Example of fieldAction definition, which is equivalent to\r\n         *      referencing to external component named 'listing.multiselect'\r\n         *      and calling its' method 'toggleSelect' with params [rowIndex, true] =>\r\n         *\r\n         *      {\r\n         *          provider: 'listing.multiselect',\r\n         *          target: 'toggleSelect',\r\n         *          params: ['${ $.$data.rowIndex }', true]\r\n         *      }\r\n         */\r\n        applyFieldAction: function (rowIndex) {\r\n            if (!this.hasFieldAction() || this.disableAction) {\r\n                return this;\r\n            }\r\n\r\n            if (this.fieldActions) {\r\n                this.fieldActions.forEach(this.applySingleAction.bind(this, rowIndex), this);\r\n            } else {\r\n                this.applySingleAction(rowIndex);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies single action\r\n         *\r\n         * @param {Number} rowIndex - Index of a row which initiates action.\r\n         * @param {Object} action - Action (fieldAction) to be applied\r\n         *\r\n         */\r\n        applySingleAction: function (rowIndex, action) {\r\n            var callback;\r\n\r\n            action = action || this.fieldAction;\r\n            action = utils.template(action, {\r\n                column: this,\r\n                rowIndex: rowIndex\r\n            }, true);\r\n\r\n            callback = this._getFieldCallback(action);\r\n\r\n            if (_.isFunction(callback)) {\r\n                callback();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns field action handler if it was specified.\r\n         *\r\n         * @param {Object} record - Record object with which action is associated.\r\n         * @returns {Function|Undefined}\r\n         */\r\n        getFieldHandler: function (record) {\r\n            if (this.hasFieldAction()) {\r\n                return this.applyFieldAction.bind(this, record._rowIndex);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates action callback based on its' data.\r\n         *\r\n         * @param {Object} action - Actions' object.\r\n         * @returns {Function|Boolean} Callback function or false\r\n         *      value if it was impossible create a callback.\r\n         */\r\n        _getFieldCallback: function (action) {\r\n            var args     = action.params || [],\r\n                callback = action.target;\r\n\r\n            if (action.provider && action.target) {\r\n                args.unshift(action.target);\r\n\r\n                callback = registry.async(action.provider);\r\n            }\r\n\r\n            if (!_.isFunction(callback)) {\r\n                return false;\r\n            }\r\n\r\n            return function () {\r\n                callback.apply(callback, args);\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Ment to preprocess data associated with a current columns' field.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {String}\r\n         */\r\n        getLabel: function (record) {\r\n            return record[this.index];\r\n        },\r\n\r\n        /**\r\n         * Returns list of classes that should be applied to a field.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getFieldClass: function () {\r\n            return this.fieldClass;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the columns' header template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getHeader: function () {\r\n            return this.headerTmpl;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the columns' body template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getBody: function () {\r\n            return this.bodyTmpl;\r\n        },\r\n\r\n        /**\r\n         * Listener of the providers' sorting state changes.\r\n         *\r\n         * @param {Srting} field - Field by which current sorting is performed.\r\n         */\r\n        onSortChange: function (field) {\r\n            if (field !== this.index) {\r\n                this.sort(false);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/date.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'mageUtils',\r\n    'moment',\r\n    './column'\r\n], function (utils, moment, Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            dateFormat: 'MMM d, YYYY h:mm:ss A'\r\n        },\r\n\r\n        /**\r\n         * Overrides base method to normalize date format.\r\n         *\r\n         * @returns {DateColumn} Chainable.\r\n         */\r\n        initConfig: function () {\r\n            this._super();\r\n\r\n            this.dateFormat = utils.normalizeDate(this.dateFormat);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Formats incoming date based on the 'dateFormat' property.\r\n         *\r\n         * @returns {String} Formatted date.\r\n         */\r\n        getLabel: function (value, format) {\r\n            var date = moment(this._super());\r\n\r\n            date = date.isValid() && value[this.index] ?\r\n                date.format(format || this.dateFormat) :\r\n                '';\r\n\r\n            return date;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/expandable.js":"/**\r\n * Copyright \u00a9 2016 Magento. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    './column',\r\n    'underscore'\r\n], function (Column, _) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/cells/expandable',\r\n            tooltipTmpl: 'ui/grid/cells/expandable/content',\r\n            visibeItemsLimit: 5,\r\n            tooltipTitle: ''\r\n        },\r\n\r\n        /**\r\n         * Gets label from full options array.\r\n         *\r\n         * @param {Object} record - Record object.\r\n         * @returns {String}\r\n         */\r\n        getFullLabel: function (record) {\r\n            return this.getLabelsArray(record).join(', ');\r\n        },\r\n\r\n        /**\r\n         * Gets label from options array limited by 'visibeItemsLimit'.\r\n         *\r\n         * @param {Object} record - Record object.\r\n         * @returns {String}\r\n         */\r\n        getShortLabel: function (record) {\r\n            return this.getLabelsArray(record).slice(0, this.visibeItemsLimit).join(', ');\r\n        },\r\n\r\n        /**\r\n         * Extracts array of labels associated with provided values and sort it alphabetically.\r\n         *\r\n         * @param {Object} record - Record object.\r\n         * @returns {Array}\r\n         */\r\n        getLabelsArray: function (record) {\r\n            var values = this.getLabel(record),\r\n                options = this.options || [],\r\n                labels = [];\r\n\r\n            if (_.isString(values)) {\r\n                values = values.split(',');\r\n            }\r\n\r\n            if (!Array.isArray(values)) {\r\n                values = [values];\r\n            }\r\n\r\n            values = values.map(function (value) {\r\n                return value + '';\r\n            });\r\n\r\n            options = this.flatOptions(options);\r\n\r\n            options.forEach(function (item) {\r\n                if (_.contains(values, item.value + '')) {\r\n                    labels.push(item.label);\r\n                }\r\n            });\r\n\r\n            return labels.sort();\r\n        },\r\n\r\n        /**\r\n         * Transformation tree options structure to liner array.\r\n         *\r\n         * @param {Array} options\r\n         * @returns {Array}\r\n         */\r\n        flatOptions: function (options) {\r\n            var self = this;\r\n\r\n            return options.reduce(function (opts, option) {\r\n                if (_.isArray(option.value)) {\r\n                    opts = opts.concat(self.flatOptions(option.value));\r\n                } else {\r\n                    opts.push(option);\r\n                }\r\n\r\n                return opts;\r\n            }, []);\r\n        },\r\n\r\n        /**\r\n         * Checks if amount of options is more than limit value.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {Boolean}\r\n         */\r\n        isExpandable: function (record) {\r\n            return this.getLabel(record).length > this.visibeItemsLimit;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/link.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './column',\r\n    'mageUtils'\r\n], function (Column, utils) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            link: 'link',\r\n            bodyTmpl: 'ui/grid/cells/link'\r\n        },\r\n\r\n        /**\r\n         * Returns link to given record.\r\n         *\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {String}\r\n         */\r\n        getLink: function (record) {\r\n            return utils.nested(record, this.link);\r\n        },\r\n\r\n        /**\r\n         * Check if link parameter exist in record.\r\n         * @param {Object} record - Data to be preprocessed.\r\n         * @returns {Boolean}\r\n         */\r\n        isLink: function (record) {\r\n            return !!utils.nested(record, this.link);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/multiselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mage/translate',\r\n    './column'\r\n], function (_, $t, Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            headerTmpl: 'ui/grid/columns/multiselect',\r\n            bodyTmpl: 'ui/grid/cells/multiselect',\r\n            controlVisibility: false,\r\n            sortable: false,\r\n            draggable: false,\r\n            menuVisible: false,\r\n            excludeMode: false,\r\n            allSelected: false,\r\n            indetermine: false,\r\n            preserveSelectionsOnFilter: false,\r\n            disabled: [],\r\n            selected: [],\r\n            excluded: [],\r\n            fieldClass: {\r\n                'data-grid-checkbox-cell': true\r\n            },\r\n            actions: [{\r\n                value: 'selectAll',\r\n                label: $t('Select All')\r\n            }, {\r\n                value: 'deselectAll',\r\n                label: $t('Deselect All')\r\n            }, {\r\n                value: 'selectPage',\r\n                label: $t('Select All on This Page')\r\n            }, {\r\n                value: 'deselectPage',\r\n                label: $t('Deselect All on This Page')\r\n            }],\r\n\r\n            imports: {\r\n                totalRecords: '${ $.provider }:data.totalRecords',\r\n                rows: '${ $.provider }:data.items'\r\n            },\r\n\r\n            listens: {\r\n                '${ $.provider }:params.filters': 'onFilter',\r\n                selected: 'onSelectedChange',\r\n                rows: 'onRowsChange'\r\n            },\r\n\r\n            modules: {\r\n                source: '${ $.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe([\r\n                    'disabled',\r\n                    'selected',\r\n                    'excluded',\r\n                    'excludeMode',\r\n                    'totalSelected',\r\n                    'allSelected',\r\n                    'indetermine',\r\n                    'totalRecords',\r\n                    'rows'\r\n                ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects specified record.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        select: function (id, isIndex) {\r\n            this._setSelection(id, isIndex, true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Deselects specified record.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        deselect: function (id, isIndex) {\r\n            this._setSelection(id, isIndex, false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles selection of a specified record.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        toggleSelect: function (id, isIndex) {\r\n            this._setSelection(id, isIndex, !this.isSelected(id, isIndex));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified record is selected.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @returns {Boolean}\r\n         */\r\n        isSelected: function (id, isIndex) {\r\n            id = this.getId(id, isIndex);\r\n\r\n            return this.selected.contains(id);\r\n        },\r\n\r\n        /**\r\n         * Selects/deselects specified record base on a 'select' parameter value.\r\n         *\r\n         * @param {*} id - See definition of 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See definition of 'getId' method.\r\n         * @param {Boolean} select - Whether to select/deselect record.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        _setSelection: function (id, isIndex, select) {\r\n            var selected = this.selected;\r\n\r\n            id = this.getId(id, isIndex);\r\n\r\n            if (!select && this.isSelected(id)) {\r\n                selected.remove(id);\r\n            } else if (select) {\r\n                selected.push(id);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects all records, even those that\r\n         * are not visible on the page.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        selectAll: function () {\r\n            this.excludeMode(true);\r\n\r\n            this.clearExcluded()\r\n                .selectPage();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Deselects all records.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        deselectAll: function () {\r\n            this.excludeMode(false);\r\n\r\n            this.clearExcluded();\r\n            this.selected.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects or deselects all records.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        toggleSelectAll: function () {\r\n            this.allSelected() ?\r\n                this.deselectAll() :\r\n                this.selectAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Selects all records on the current page.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        selectPage: function () {\r\n            var selected = _.union(this.selected(), this.getIds());\r\n\r\n            selected = _.difference(selected, this.disabled());\r\n\r\n            this.selected(selected);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Deselects all records on the current page.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        deselectPage: function () {\r\n            var pageIds = this.getIds();\r\n\r\n            this.selected.remove(function (value) {\r\n                return !!~pageIds.indexOf(value);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n        * Selects or deselects all records on the current page.\r\n        *\r\n        * @returns {Multiselect} Chainable.\r\n        */\r\n        togglePage: function () {\r\n            return this.isPageSelected() ? this.deselectPage() : this.selectPage();\r\n        },\r\n\r\n        /**\r\n         * Clears the array of not selected records.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        clearExcluded: function () {\r\n            this.excluded.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieve all id's from available records.\r\n         *\r\n         * @param {Boolean} [exclude] - Whether to exclude not selected ids' from result.\r\n         * @returns {Array} An array of ids'.\r\n         */\r\n        getIds: function (exclude) {\r\n            var items = this.rows(),\r\n                ids = _.pluck(items, this.indexField);\r\n\r\n            return exclude ?\r\n                _.difference(ids, this.excluded()) :\r\n                ids;\r\n        },\r\n\r\n        /**\r\n         * Returns identifier of a record.\r\n         *\r\n         * @param {*} id - Id of a record or its' index in a rows array.\r\n         * @param {Boolean} [isIndex=false] - Flag that specifies with what\r\n         *      kind of identifier we are dealing with.\r\n         * @returns {*}\r\n         */\r\n        getId: function (id, isIndex) {\r\n            var record = this.rows()[id];\r\n\r\n            if (isIndex && record) {\r\n                id = record[this.indexField];\r\n            }\r\n\r\n            return id;\r\n        },\r\n\r\n        /**\r\n         * Recalculates list of the excluded records.\r\n         * Changes value of `excluded`.\r\n         *\r\n         * @param {Array} selected - List of the currently selected records.\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        updateExcluded: function (selected) {\r\n            var excluded = this.excluded(),\r\n                fromPage = _.difference(this.getIds(), selected);\r\n\r\n            excluded = _.union(excluded, fromPage);\r\n            excluded = _.difference(excluded, selected);\r\n\r\n            this.excluded(excluded);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calculates number of selected records and\r\n         * updates 'totalSelected' property.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        countSelected: function () {\r\n            var total = this.totalRecords(),\r\n                excluded = this.excluded().length,\r\n                selected = this.selected().length;\r\n\r\n            if (this.excludeMode()) {\r\n                selected = total - excluded;\r\n            }\r\n\r\n            this.totalSelected(selected);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns selected items on a current page.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getPageSelections: function () {\r\n            var ids = this.getIds();\r\n\r\n            return this.selected.filter(function (id) {\r\n                return _.contains(ids, id);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Returns selections data.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getSelections: function () {\r\n            return {\r\n                excluded: this.excluded(),\r\n                selected: this.selected(),\r\n                total: this.totalSelected(),\r\n                excludeMode: this.excludeMode(),\r\n                params: this.getFiltering()\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Extracts filtering data from data provider.\r\n         *\r\n         * @returns {Object} Current filters state.\r\n         */\r\n        getFiltering: function () {\r\n            var source = this.source(),\r\n                keys = ['filters', 'search', 'namespace'];\r\n\r\n            if (!source) {\r\n                return {};\r\n            }\r\n\r\n            return _.pick(source.get('params'), keys);\r\n        },\r\n\r\n        /**\r\n         * Defines if provided select/deselect actions is relevant.\r\n         * E.g. there is no need in a 'select page' action if only one\r\n         * page is available.\r\n         *\r\n         * @param {String} actionId - Id of the action to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isActionRelevant: function (actionId) {\r\n            var pageIds         = this.getIds().length,\r\n                multiplePages   = pageIds < this.totalRecords(),\r\n                relevant        = true;\r\n\r\n            switch (actionId) {\r\n                case 'selectPage':\r\n                    relevant = multiplePages && !this.isPageSelected(true);\r\n                    break;\r\n\r\n                case 'deselectPage':\r\n                    relevant =  multiplePages && this.isPageSelected();\r\n                    break;\r\n\r\n                case 'selectAll':\r\n                    relevant = !this.allSelected();\r\n                    break;\r\n\r\n                case 'deselectAll':\r\n                    relevant = this.totalSelected() > 0;\r\n            }\r\n\r\n            return relevant;\r\n        },\r\n\r\n        /**\r\n         * Checks if current page has selected records.\r\n         *\r\n         * @param {Boolean} [all=false] - If set to 'true' checks that every\r\n         *      record on the page is selected. Otherwise checks that\r\n         *      page has some selected records.\r\n         * @returns {Boolean}\r\n         */\r\n        isPageSelected: function (all) {\r\n            var pageIds = this.getIds(),\r\n                selected = this.selected(),\r\n                excluded = this.excluded(),\r\n                iterator = all ? 'every' : 'some';\r\n\r\n            if (this.allSelected()) {\r\n                return true;\r\n            }\r\n\r\n            if (this.excludeMode()) {\r\n                return pageIds[iterator](function (id) {\r\n                    return !~excluded.indexOf(id);\r\n                });\r\n            }\r\n\r\n            return pageIds[iterator](function (id) {\r\n                return !!~selected.indexOf(id);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Updates values of the 'allSelected'\r\n         * and 'indetermine' properties.\r\n         *\r\n         * @returns {Multiselect} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var selected        = this.selected().length,\r\n                excluded        = this.excluded().length,\r\n                totalSelected   = this.totalSelected(),\r\n                totalRecords    = this.totalRecords(),\r\n                allSelected     = totalRecords && totalSelected === totalRecords;\r\n\r\n            if (this.excludeMode()) {\r\n                if (excluded === totalRecords && !this.preserveSelectionsOnFilter) {\r\n                    this.deselectAll();\r\n                }\r\n            } else if (totalRecords && selected === totalRecords && !this.preserveSelectionsOnFilter) {\r\n                this.selectAll();\r\n            }\r\n\r\n            this.allSelected(allSelected);\r\n            this.indetermine(totalSelected && !allSelected);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Overrides base method, because this component\r\n         * can't have global field action.\r\n         *\r\n         * @returns {Boolean} False.\r\n         */\r\n        hasFieldAction: function () {\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Callback method to handle changes of selected items.\r\n         *\r\n         * @param {Array} selected - An array of currently selected items.\r\n         */\r\n        onSelectedChange: function (selected) {\r\n            this.updateExcluded(selected)\r\n                .countSelected()\r\n                .updateState();\r\n        },\r\n\r\n        /**\r\n         * Is invoked when rows has changed. Recalculates selected items\r\n         * based on \"selectMode\" property.\r\n         */\r\n        onRowsChange: function () {\r\n            var newSelections;\r\n\r\n            if (this.excludeMode()) {\r\n                newSelections = _.union(this.getIds(true), this.selected());\r\n\r\n                this.selected(newSelections);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Is invoked when filtration is applied or removed\r\n         */\r\n        onFilter: function () {\r\n            if (!this.preserveSelectionsOnFilter) {\r\n                this.deselectAll();\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/onoff.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mage/translate',\r\n    './multiselect',\r\n    'uiRegistry'\r\n], function (_, $t, Column, registry) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            headerTmpl: 'ui/grid/columns/onoff',\r\n            bodyTmpl: 'ui/grid/cells/onoff',\r\n            fieldClass: {\r\n                'admin__scope-old': true,\r\n                'data-grid-onoff-cell': true,\r\n                'data-grid-checkbox-cell': false\r\n            },\r\n            imports: {\r\n                selectedData: '${ $.provider }:data.selectedData'\r\n            },\r\n            listens: {\r\n                '${ $.provider }:reloaded': 'setDefaultSelections'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {Number} id\r\n         * @returns {*}\r\n         */\r\n        getLabel: function (id) {\r\n            return this.selected.indexOf(id) !== -1 ? $t('On') : $t('Off');\r\n        },\r\n\r\n        /**\r\n         * Sets the ids for preselected elements\r\n         * @returns void\r\n         */\r\n        setDefaultSelections: function () {\r\n            var positionCacheValid = registry.get('position_cache_valid'),\r\n                selectedFromCache = registry.get('selected_cache'),\r\n                key,\r\n                i;\r\n\r\n            if (positionCacheValid && this.selected().length === 0) {\r\n                // Check selected data\r\n                selectedFromCache = JSON.parse(selectedFromCache);\r\n\r\n                for (i = 0; i < selectedFromCache.length; i++) {\r\n                    this.selected.push(selectedFromCache[i]);\r\n                }\r\n\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify(this.selected()));\r\n\r\n                return;\r\n            }\r\n\r\n            if (positionCacheValid && this.selected().length > 0) {\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify(this.selected()));\r\n\r\n                return;\r\n            }\r\n\r\n            if (this.selectedData.length === 0) {\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify([]));\r\n\r\n                return;\r\n            }\r\n\r\n            // Check selected data\r\n            for (key in this.selectedData) {\r\n                if (this.selectedData.hasOwnProperty(key) && this.selected().indexOf(key) === -1) {\r\n                    this.selected.push(key);\r\n                }\r\n            }\r\n            // Uncheck unselected data\r\n            for (i = 0; i < this.selected().length; i++) {\r\n                key = this.selected()[i];\r\n                this.selectedData.hasOwnProperty(key) || this.selected.splice(this.selected().indexOf(key), 1);\r\n                this.selectedData.hasOwnProperty(key) || i--;\r\n            }\r\n            registry.set('position_cache_valid', true);\r\n            registry.set('selected_cache', JSON.stringify(this.selected()));\r\n        },\r\n\r\n        /**\r\n         * Show/hide action in the massaction menu\r\n         * @param {Number} actionId\r\n         * @returns {Boolean}\r\n         */\r\n        isActionRelevant: function (actionId) {\r\n            var relevant = true;\r\n\r\n            switch (actionId) {\r\n                case 'selectPage':\r\n                    relevant = !this.isPageSelected(true);\r\n                    break;\r\n\r\n                case 'deselectPage':\r\n                    relevant =  this.isPageSelected();\r\n                    break;\r\n            }\r\n\r\n            return relevant;\r\n        },\r\n\r\n        /**\r\n         * Updates values of the 'allSelected'\r\n         * and 'indetermine' properties.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var positionCacheValid = registry.get('position_cache_valid'),\r\n                totalRecords    = this.totalRecords(),\r\n                selected        = this.selected().length,\r\n                excluded        = this.excluded().length,\r\n                totalSelected   = this.totalSelected(),\r\n                allSelected;\r\n\r\n            if (positionCacheValid && this.selected().length > 0) {\r\n                registry.set('position_cache_valid', true);\r\n                registry.set('selected_cache', JSON.stringify(this.selected()));\r\n            }\r\n\r\n            // When filters are enabled then totalRecords is unknown\r\n            if (this.getFiltering()) {\r\n                if (this.getFiltering().search !== '') {\r\n                    totalRecords = -1;\r\n                }\r\n            }\r\n\r\n            allSelected = totalRecords && totalSelected === totalRecords;\r\n\r\n            if (this.excludeMode()) {\r\n                if (excluded === totalRecords) {\r\n                    this.deselectAll();\r\n                }\r\n            } else if (totalRecords && selected === totalRecords) {\r\n                this.selectAll();\r\n            }\r\n\r\n            this.allSelected(allSelected);\r\n            this.indetermine(totalSelected && !allSelected);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/select.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    './column'\r\n], function (_, Column) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        /**\r\n         * Retrieves label associated with a provided value.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getLabel: function () {\r\n            var options = this.options || [],\r\n                values = this._super(),\r\n                label = [];\r\n\r\n            if (_.isString(values)) {\r\n                values = values.split(',');\r\n            }\r\n\r\n            if (!_.isArray(values)) {\r\n                values = [values];\r\n            }\r\n\r\n            values = values.map(function (value) {\r\n                return value + '';\r\n            });\r\n\r\n            options = this.flatOptions(options);\r\n\r\n            options.forEach(function (item) {\r\n                if (_.contains(values, item.value + '')) {\r\n                    label.push(item.label);\r\n                }\r\n            });\r\n\r\n            return label.join(', ');\r\n        },\r\n\r\n        /**\r\n         * Transformation tree options structure to liner array.\r\n         *\r\n         * @param {Array} options\r\n         * @returns {Array}\r\n         */\r\n        flatOptions: function (options) {\r\n            var self = this;\r\n\r\n            if (!_.isArray(options)) {\r\n                options = _.values(options);\r\n            }\r\n\r\n            return options.reduce(function (opts, option) {\r\n                if (_.isArray(option.value)) {\r\n                    opts = opts.concat(self.flatOptions(option.value));\r\n                } else {\r\n                    opts.push(option);\r\n                }\r\n\r\n                return opts;\r\n            }, []);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/columns/thumbnail.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    './column',\r\n    'jquery',\r\n    'mage/template',\r\n    'text!Magento_Ui/templates/grid/cells/thumbnail/preview.html',\r\n    'underscore',\r\n    'Magento_Ui/js/modal/modal',\r\n    'mage/translate'\r\n], function (Column, $, mageTemplate, thumbnailPreviewTemplate, _) {\r\n    'use strict';\r\n\r\n    return Column.extend({\r\n        defaults: {\r\n            bodyTmpl: 'ui/grid/cells/thumbnail',\r\n            fieldClass: {\r\n                'data-grid-thumbnail-cell': true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get image source data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getSrc: function (row) {\r\n            return row[this.index + '_src'];\r\n        },\r\n\r\n        /**\r\n         * Get original image source data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getOrigSrc: function (row) {\r\n            return row[this.index + '_orig_src'];\r\n        },\r\n\r\n        /**\r\n         * Get link data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getLink: function (row) {\r\n            return row[this.index + '_link'];\r\n        },\r\n\r\n        /**\r\n         * Get alternative text data per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {String}\r\n         */\r\n        getAlt: function (row) {\r\n            return _.escape(row[this.index + '_alt']);\r\n        },\r\n\r\n        /**\r\n         * Check if preview available.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isPreviewAvailable: function () {\r\n            return this['has_preview'] || false;\r\n        },\r\n\r\n        /**\r\n         * Build preview.\r\n         *\r\n         * @param {Object} row\r\n         */\r\n        preview: function (row) {\r\n            var modalHtml = mageTemplate(\r\n                    thumbnailPreviewTemplate,\r\n                    {\r\n                        src: this.getOrigSrc(row), alt: this.getAlt(row), link: this.getLink(row),\r\n                        linkText: $.mage.__('Go to Details Page')\r\n                    }\r\n                ),\r\n                previewPopup = $('<div/>').html(modalHtml);\r\n\r\n            previewPopup.modal({\r\n                title: this.getAlt(row),\r\n                innerScroll: true,\r\n                modalClass: '_image-box',\r\n                buttons: []\r\n            }).trigger('openModal');\r\n        },\r\n\r\n        /**\r\n         * Get field handler per row.\r\n         *\r\n         * @param {Object} row\r\n         * @returns {Function}\r\n         */\r\n        getFieldHandler: function (row) {\r\n            if (this.isPreviewAvailable()) {\r\n                return this.preview.bind(this, row);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/columns.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'mage/translate',\r\n    'uiCollection'\r\n], function (_, utils, $t, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/controls/columns',\r\n            minVisible: 1,\r\n            maxVisible: 30,\r\n            viewportSize: 18,\r\n            displayArea: 'dataGridActions',\r\n            columnsProvider: 'ns = ${ $.ns }, componentType = columns',\r\n            imports: {\r\n                addColumns: '${ $.columnsProvider }:elems'\r\n            },\r\n            templates: {\r\n                headerMsg: $t('${ $.visible } out of ${ $.total } visible')\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Resets columns visibility to theirs default state.\r\n         *\r\n         * @returns {Columns} Chainable.\r\n         */\r\n        reset: function () {\r\n            this.elems.each('applyState', 'default', 'visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies last saved state of columns visibility.\r\n         *\r\n         * @returns {Columns} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.elems.each('applyState', '', 'visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds columns whose visibility can be controlled to the component.\r\n         *\r\n         * @param {Array} columns - Elements array that will be added to component.\r\n         * @returns {Columns} Chainable.\r\n         */\r\n        addColumns: function (columns) {\r\n            columns = _.where(columns, {\r\n                controlVisibility: true\r\n            });\r\n\r\n            this.insertChild(columns);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines whether child elements array length\r\n         * is greater than the 'viewportSize' property.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasOverflow: function () {\r\n            return this.elems().length > this.viewportSize;\r\n        },\r\n\r\n        /**\r\n         * Helper, checks\r\n         *  - if less than one item choosen\r\n         *  - if more then viewportMaxSize choosen\r\n         *\r\n         * @param {Object} elem\r\n         * @returns {Boolean}\r\n         */\r\n        isDisabled: function (elem) {\r\n            var visible = this.countVisible();\r\n\r\n            return elem.visible ?\r\n                    visible === this.minVisible :\r\n                    visible === this.maxVisible;\r\n        },\r\n\r\n        /**\r\n         * Counts number of visible columns.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countVisible: function () {\r\n            return this.elems.filter('visible').length;\r\n        },\r\n\r\n        /**\r\n         * Compile header message from headerMessage setting.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getHeaderMessage: function () {\r\n            return utils.template(this.templates.headerMsg, {\r\n                visible: this.countVisible(),\r\n                total: this.elems().length\r\n            });\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/bookmarks/bookmarks.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'mage/translate',\r\n    'rjsResolver',\r\n    'uiLayout',\r\n    'uiCollection'\r\n], function (_, utils, $t, resolver, layout, Collection) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes 'current' namespace from a 'path' string.\r\n     *\r\n     * @param {String} path\r\n     * @returns {String} Path without namespace.\r\n     */\r\n    function removeStateNs(path) {\r\n        path = typeof path == 'string' ? path.split('.') : [];\r\n\r\n        if (path[0] === 'current') {\r\n            path.shift();\r\n        }\r\n\r\n        return path.join('.');\r\n    }\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/controls/bookmarks/bookmarks',\r\n            viewTmpl: 'ui/grid/controls/bookmarks/view',\r\n            newViewLabel: $t('New View'),\r\n            defaultIndex: 'default',\r\n            activeIndex: 'default',\r\n            viewsArray: [],\r\n            storageConfig: {\r\n                provider: '${ $.storageConfig.name }',\r\n                name: '${ $.name }_storage',\r\n                component: 'Magento_Ui/js/grid/controls/bookmarks/storage'\r\n            },\r\n            views: {\r\n                default: {\r\n                    label: $t('Default View'),\r\n                    index: 'default',\r\n                    editable: false\r\n                }\r\n            },\r\n            tracks: {\r\n                editing: true,\r\n                viewsArray: true,\r\n                activeView: true,\r\n                hasChanges: true,\r\n                customLabel: true,\r\n                customVisible: true\r\n            },\r\n            listens: {\r\n                activeIndex: 'onActiveIndexChange',\r\n                activeView: 'checkState',\r\n                current: 'onStateChange'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes bookmarks component.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        initialize: function () {\r\n            utils.limit(this, 'checkState', 5);\r\n            utils.limit(this, 'saveState', 2000);\r\n\r\n            this._super()\r\n                .restore()\r\n                .initStorage()\r\n                .initViews();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates custom storage instance.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        initStorage: function () {\r\n            layout([this.storageConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Defines default data if it wasn't gathered previously.\r\n         *\r\n         * @private\r\n         * @returns {Bookmarks} Chainbale.\r\n         */\r\n        initDefaultView: function () {\r\n            var data = this.getViewData(this.defaultIndex);\r\n\r\n            if (!_.size(data)) {\r\n                this.setViewData(this.defaultIndex, this.current)\r\n                    .saveView(this.defaultIndex);\r\n            }\r\n\r\n            this.defaultDefined = true;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instances of a previously saved views.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        initViews: function () {\r\n            _.each(this.views, function (config) {\r\n                this.addView(config);\r\n            }, this);\r\n\r\n            this.activeView = this.getActiveView();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates complete configuration for a view.\r\n         *\r\n         * @param {Object} [config] - Additional configuration object.\r\n         * @returns {Object}\r\n         */\r\n        buildView: function (config) {\r\n            var view = {\r\n                label: this.newViewLabel,\r\n                index: '_' + Date.now(),\r\n                editable: true\r\n            };\r\n\r\n            utils.extend(view, config || {});\r\n\r\n            view.data   = view.data || utils.copy(this.current);\r\n            view.value  = view.label;\r\n\r\n            this.observe.call(view, true, 'label value');\r\n\r\n            return view;\r\n        },\r\n\r\n        /**\r\n         * Creates instance of a view with a provided configuration.\r\n         *\r\n         * @param {Object} [config] - View configuration.\r\n         * @param {Boolean} [saveView=false] - Whether to save created view automatically or not.\r\n         * @param {Boolean} [applyView=false] - Whether to apply created view automatically or not.\r\n         * @returns {View} Created view.\r\n         */\r\n        addView: function (config, saveView, applyView) {\r\n            var view    = this.buildView(config),\r\n                index   = view.index;\r\n\r\n            this.views[index] = view;\r\n\r\n            if (saveView) {\r\n                this.saveView(index);\r\n            }\r\n\r\n            if (applyView) {\r\n                this.applyView(index);\r\n            }\r\n\r\n            this.updateArray();\r\n\r\n            return view;\r\n        },\r\n\r\n        /**\r\n         * Removes specified view.\r\n         *\r\n         * @param {String} index - Index of a view to be removed.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        removeView: function (index) {\r\n            var viewPath = this.getViewPath(index);\r\n\r\n            if (this.isViewActive(index)) {\r\n                this.applyView(this.defaultIndex);\r\n            }\r\n\r\n            this.endEdit(index)\r\n                .remove(viewPath)\r\n                .removeStored(viewPath)\r\n                .updateArray();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Saves data of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view to be saved.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        saveView: function (index) {\r\n            var viewPath = this.getViewPath(index);\r\n\r\n            this.updateViewLabel(index)\r\n                .endEdit(index)\r\n                .store(viewPath)\r\n                .checkState();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets specified view as active\r\n         * and applies its' state.\r\n         *\r\n         * @param {String} index - Index of a view to be applied.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        applyView: function (index) {\r\n            this.applyStateOf(index)\r\n                .set('activeIndex', index);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates data of a specified view if it's\r\n         * currently active and saves its' data.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        updateAndSave: function (index) {\r\n            if (this.isViewActive(index)) {\r\n                this.updateActiveView(index);\r\n            }\r\n\r\n            this.saveView(index);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view to be retrieved.\r\n         * @returns {View}\r\n         */\r\n        getView: function (index) {\r\n            return this.views[index];\r\n        },\r\n\r\n        /**\r\n         * Returns instance of an active view.\r\n         *\r\n         * @returns {View}\r\n         */\r\n        getActiveView: function () {\r\n            return this.views[this.activeIndex];\r\n        },\r\n\r\n        /**\r\n         * Checks if specified view is active.\r\n         *\r\n         * @param {String} index - Index of a view to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isViewActive: function (index) {\r\n            return this.activeView === this.getView(index);\r\n        },\r\n\r\n        /**\r\n         * Sets current state as a data of an active view.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        updateActiveView: function () {\r\n            this.setViewData(this.activeIndex, this.current);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Replaces label a view with a provided one.\r\n         * If new label is not specified, then views'\r\n         * 'value' property will be taken.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @param {String} [label=view.value] - New labels' value.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        updateViewLabel: function (index, label) {\r\n            var view    = this.getView(index),\r\n                current = view.label;\r\n\r\n            label = (label || view.value).trim() || current;\r\n            label = this.uniqueLabel(label, current);\r\n\r\n            view.label = view.value = label;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Retrieves data of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view whose data should be retrieved.\r\n         * @param {String} [property] - If not specified then whole views' data will be retrieved.\r\n         * @returns {Object} Views' data.\r\n         */\r\n        getViewData: function (index, property) {\r\n            var view = this.getView(index),\r\n                data = view.data;\r\n\r\n            if (property) {\r\n                data = utils.nested(data, property);\r\n            }\r\n\r\n            return utils.copy(data);\r\n        },\r\n\r\n        /**\r\n         * Sets data to the specified view.\r\n         *\r\n         * @param {String} index - Index of a view whose data will be replaced.\r\n         * @param {Object} data - New view data.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        setViewData: function (index, data) {\r\n            var path = this.getViewPath(index) + '.data';\r\n\r\n            this.set(path, utils.copy(data));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Starts editing of a specified view.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        editView: function (index) {\r\n            this.editing = index;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Ends editing of specified view\r\n         * and restores its' label.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        endEdit: function (index) {\r\n            var view;\r\n\r\n            if (!this.isEditing(index)) {\r\n                return this;\r\n            }\r\n\r\n            index   = index || this.editing;\r\n            view    = this.getView(index);\r\n\r\n            view.value = view.label;\r\n\r\n            this.editing = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified view is in editing state.\r\n         *\r\n         * @param {String} index - Index of a view to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isEditing: function (index) {\r\n            return this.editing === index;\r\n        },\r\n\r\n        /**\r\n         * Generates label unique among present views, based\r\n         * on the incoming label pattern.\r\n         *\r\n         * @param {String} [label=this.newViewLabel] - Label pattern.\r\n         * @param {String} [exclude]\r\n         * @returns {String}\r\n         */\r\n        uniqueLabel: function (label, exclude) {\r\n            var labels      = _.pluck(this.views, 'label'),\r\n                hasParenth  = _.last(label) === ')',\r\n                index       = 2,\r\n                result,\r\n                suffix;\r\n\r\n            labels = _.without(labels, exclude);\r\n            result = label = label || this.newViewLabel;\r\n\r\n            for (index = 2; _.contains(labels, result); index++) {\r\n                suffix = '(' + index + ')';\r\n\r\n                if (!hasParenth) {\r\n                    suffix = ' ' + suffix;\r\n                }\r\n\r\n                result = label + suffix;\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Applies state of a specified view, without\r\n         * making it active.\r\n         *\r\n         * @param {String} [state=this.activeIndex]\r\n         * @param {String} [property]\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        applyStateOf: function (state, property) {\r\n            var index    = state || this.activeIndex,\r\n                dataPath = removeStateNs(property),\r\n                viewData = this.getViewData(index, dataPath);\r\n\r\n            dataPath = dataPath ?\r\n                'current.' + dataPath :\r\n                'current';\r\n\r\n            this.set(dataPath, viewData);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Saves current state.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        saveState: function () {\r\n            this.store('current');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies state of an active view.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        resetState: function () {\r\n            this.applyStateOf(this.activeIndex);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if current state is different\r\n         * from the state of an active view.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        checkState: function () {\r\n            var viewData = this.getViewData(this.activeIndex),\r\n                diff     = utils.compare(viewData, this.current);\r\n\r\n            this.hasChanges = !diff.equal;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns path to the view instance,\r\n         * based on a provided index.\r\n         *\r\n         * @param {String} index - Index of a view.\r\n         * @returns {String}\r\n         */\r\n        getViewPath: function (index) {\r\n            return 'views.' + index;\r\n        },\r\n\r\n        /**\r\n         * Updates the array of views.\r\n         *\r\n         * @returns {Bookmarks} Chainable\r\n         */\r\n        updateArray: function () {\r\n            this.viewsArray = _.values(this.views);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Shows custom view field and creates unique label for it.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        showCustom: function () {\r\n            this.customLabel    = this.uniqueLabel();\r\n            this.customVisible  = true;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides custom view field.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        hideCustom: function () {\r\n            this.customVisible = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if custom view field is visible.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isCustomVisible: function () {\r\n            return this.customVisible;\r\n        },\r\n\r\n        /**\r\n         * Creates new view instance with a label specified\r\n         * in a custom view field.\r\n         *\r\n         * @returns {Bookmarks} Chainable.\r\n         */\r\n        applyCustom: function () {\r\n            var label = this.customLabel.trim();\r\n\r\n            this.hideCustom()\r\n                .addView({\r\n                    label: this.uniqueLabel(label)\r\n                }, true, true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Listener of the activeIndex property.\r\n         */\r\n        onActiveIndexChange: function () {\r\n            this.activeView = this.getActiveView();\r\n\r\n            this.store('activeIndex');\r\n        },\r\n\r\n        /**\r\n         * Listener of the activeIndex property.\r\n         */\r\n        onStateChange: function () {\r\n            this.checkState();\r\n            this.saveState();\r\n\r\n            if (!this.defaultDefined) {\r\n                resolver(this.initDefaultView, this);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/bookmarks/storage.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mageUtils',\r\n    'Magento_Ui/js/lib/core/storage/local',\r\n    'uiClass'\r\n], function ($, utils, storage, Class) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes ns prefix for path.\r\n     *\r\n     * @param {String} ns\r\n     * @param {String} path\r\n     * @returns {String}\r\n     */\r\n    function removeNs(ns, path) {\r\n        return path.replace(ns + '.', '');\r\n    }\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            ajaxSettings: {\r\n                method: 'POST',\r\n                data: {\r\n                    namespace: '${ $.namespace }'\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Delegates call to the localStorage adapter.\r\n         */\r\n        get: function () {\r\n            return {};\r\n        },\r\n\r\n        /**\r\n         * Sends request to store specified data.\r\n         *\r\n         * @param {String} path - Path by which data should be stored.\r\n         * @param {*} value - Value to be sent.\r\n         */\r\n        set: function (path, value) {\r\n            var property = removeNs(this.namespace, path),\r\n                data = {},\r\n                config;\r\n\r\n            utils.nested(data, property, value);\r\n\r\n            config = utils.extend({\r\n                url: this.saveUrl,\r\n                data: {\r\n                    data: JSON.stringify(data)\r\n                }\r\n            }, this.ajaxSettings);\r\n\r\n            $.ajax(config);\r\n        },\r\n\r\n        /**\r\n         * Sends request to remove specified data.\r\n         *\r\n         * @param {String} path - Path to the property to be removed.\r\n         */\r\n        remove: function (path) {\r\n            var property = removeNs(this.namespace, path),\r\n                config;\r\n\r\n            config = utils.extend({\r\n                url: this.deleteUrl,\r\n                data: {\r\n                    data: property\r\n                }\r\n            }, this.ajaxSettings);\r\n\r\n            $.ajax(config);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/controls/button/split.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    return function (data, element) {\r\n\r\n        $(element).on('click.splitDefault', '.action-default', function () {\r\n            $(this).siblings('.dropdown-menu').find('.item-default').trigger('click');\r\n        });\r\n    };\r\n});\r\n","Magento_Ui/js/grid/editing/bulk.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    './record'\r\n], function (_, utils, Record) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes empty properties from the provided object.\r\n     *\r\n     * @param {Object} data - Object to be processed.\r\n     * @returns {Object}\r\n     */\r\n    function removeEmpty(data) {\r\n        data = utils.flatten(data);\r\n        data = _.omit(data, utils.isEmpty);\r\n\r\n        return utils.unflatten(data);\r\n    }\r\n\r\n    return Record.extend({\r\n        defaults: {\r\n            template: 'ui/grid/editing/bulk',\r\n            active: false,\r\n            templates: {\r\n                fields: {\r\n                    select: {\r\n                        caption: ' '\r\n                    }\r\n                }\r\n            },\r\n            imports: {\r\n                active: '${ $.editorProvider }:isMultiEditing'\r\n            },\r\n            listens: {\r\n                data: 'updateState',\r\n                active: 'updateState'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track({\r\n                    hasData: false\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extends original method to disable possible\r\n         * 'required-entry' validation rule.\r\n         *\r\n         * @returns {Object} Columns' field definition.\r\n         */\r\n        buildField: function () {\r\n            var field = this._super(),\r\n                rules = field.validation;\r\n\r\n            if (rules) {\r\n                delete rules['required-entry'];\r\n            }\r\n\r\n            return field;\r\n        },\r\n\r\n        /**\r\n         * Applies current data to all active records.\r\n         *\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        apply: function () {\r\n            if (this.isValid()) {\r\n                this.applyData()\r\n                    .clear();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets available data to all active records.\r\n         *\r\n         * @param {Object} [data] -  If not specified, then current fields data will be used.\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        applyData: function (data) {\r\n            data = data || this.getData();\r\n\r\n            this.editor('setData', data, true);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns data of all non-empty fields.\r\n         *\r\n         * @returns {Object} Fields data without empty values.\r\n         */\r\n        getData: function () {\r\n            return removeEmpty(this._super());\r\n        },\r\n\r\n        /**\r\n         * Updates own 'hasData' property and defines\r\n         * whether regular rows editing can be resumed.\r\n         *\r\n         * @returns {Bulk} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var fields  = _.keys(this.getData()),\r\n                hasData = !!fields.length;\r\n\r\n            this.hasData = hasData;\r\n\r\n            if (!this.active()) {\r\n                fields = [];\r\n            }\r\n\r\n            this.editor('disableFields', fields);\r\n            this.editor('canSave', !fields.length);\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/client.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiClass'\r\n], function ($, _, utils, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            validateBeforeSave: true,\r\n            requestConfig: {\r\n                dataType: 'json',\r\n                type: 'POST'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes client instance.\r\n         *\r\n         * @returns {Client} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'onSuccess', 'onError');\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Sends XMLHttpRequest with a provided configuration.\r\n         *\r\n         * @param {Object} config - Configuration of request.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        send: function (config) {\r\n            var deffer  = $.Deferred();\r\n\r\n            config = utils.extend({}, this.requestConfig, config);\r\n\r\n            $.ajax(config)\r\n                .done(_.partial(this.onSuccess, deffer))\r\n                .fail(_.partial(this.onError, deffer));\r\n\r\n            return deffer.promise();\r\n        },\r\n\r\n        /**\r\n         * Proxy save method which might invoke\r\n         * data validation prior to its' saving.\r\n         *\r\n         * @param {Object} data - Data to be processed.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        save: function (data) {\r\n            var save = this._save.bind(this, data);\r\n\r\n            return this.validateBeforeSave ?\r\n                this.validate(data).pipe(save) :\r\n                save();\r\n        },\r\n\r\n        /**\r\n         * Sends request to validate provided data.\r\n         *\r\n         * @param {Object} data - Data to be validated.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        validate: function (data) {\r\n            return this.send({\r\n                url: this.validateUrl,\r\n                data: data\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Sends request to save provided data.\r\n         *\r\n         * @private\r\n         * @param {Object} data - Data to be validated.\r\n         * @returns {jQueryPromise}\r\n         */\r\n        _save: function (data) {\r\n            return this.send({\r\n                url: this.saveUrl,\r\n                data: data\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Creates error object with a provided message.\r\n         *\r\n         * @param {String} msg - Errors' message.\r\n         * @returns {Object}\r\n         */\r\n        createError: function (msg) {\r\n            return {\r\n                type: 'error',\r\n                message: msg\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Handles ajax error callback.\r\n         *\r\n         * @param {jQueryPromise} promise - Promise to be rejected.\r\n         * @param {jQueryXHR} xhr - See 'jquery' ajax error callback.\r\n         * @param {String} status - See 'jquery' ajax error callback.\r\n         * @param {(String|Object)} err - See 'jquery' ajax error callback.\r\n         */\r\n        onError: function (promise, xhr, status, err) {\r\n            var msg;\r\n\r\n            msg = xhr.status !== 200 ?\r\n                xhr.status + ' (' + xhr.statusText + ')' :\r\n                err;\r\n\r\n            promise.reject(this.createError(msg));\r\n        },\r\n\r\n        /**\r\n         * Handles ajax success callback.\r\n         *\r\n         * @param {jQueryPromise} promise - Promise to be resolved.\r\n         * @param {*} data - See 'jquery' ajax success callback.\r\n         */\r\n        onSuccess: function (promise, data) {\r\n            var errors;\r\n\r\n            if (data.error) {\r\n                errors = _.map(data.messages, this.createError, this);\r\n\r\n                promise.reject(errors);\r\n            } else {\r\n                promise.resolve(data);\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/editor-view.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'uiRegistry',\r\n    'uiClass'\r\n], function (ko, $, _, registry, Class) {\r\n    'use strict';\r\n\r\n    return Class.extend({\r\n        defaults: {\r\n            rootSelector: '${ $.columnsProvider }:.admin__data-grid-wrap',\r\n            tableSelector: '${ $.rootSelector } -> table',\r\n            rowSelector: '${ $.tableSelector } tbody tr.data-row',\r\n            headerButtonsTmpl:\r\n                '<!-- ko template: headerButtonsTmpl --><!-- /ko -->',\r\n            bulkTmpl:\r\n                '<!-- ko scope: bulk -->' +\r\n                    '<!-- ko template: getTemplate() --><!-- /ko -->' +\r\n                '<!-- /ko -->',\r\n            rowTmpl:\r\n                '<!-- ko with: _editor -->' +\r\n                    '<!-- ko if: isActive($row()._rowIndex, true) -->' +\r\n                        '<!-- ko with: getRecord($row()._rowIndex, true) -->' +\r\n                            '<!-- ko template: rowTmpl --><!-- /ko -->' +\r\n                        '<!-- /ko -->' +\r\n                        '<!-- ko if: isSingleEditing && singleEditingButtons -->' +\r\n                            '<!-- ko template: rowButtonsTmpl --><!-- /ko -->' +\r\n                        '<!-- /ko -->' +\r\n                    '<!-- /ko -->' +\r\n               '<!-- /ko -->'\r\n        },\r\n\r\n        /**\r\n         * Initializes view component.\r\n         *\r\n         * @returns {View} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(\r\n                this,\r\n                'initRoot',\r\n                'initTable',\r\n                'initRow',\r\n                'rowBindings',\r\n                'tableBindings'\r\n            );\r\n\r\n            this._super();\r\n\r\n            this.model = registry.get(this.model);\r\n\r\n            $.async(this.rootSelector, this.initRoot);\r\n            $.async(this.tableSelector, this.initTable);\r\n            $.async(this.rowSelector, this.initRow);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes columns root container.\r\n         *\r\n         * @param {HTMLElement} node\r\n         * @returns {View} Chainable.\r\n         */\r\n        initRoot: function (node) {\r\n            $(this.headerButtonsTmpl)\r\n                .insertBefore(node)\r\n                .applyBindings(this.model);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes table element.\r\n         *\r\n         * @param {HTMLTableElement} table\r\n         * @returns {View} Chainable.\r\n         */\r\n        initTable: function (table) {\r\n            $(table).bindings(this.tableBindings);\r\n\r\n            this.initBulk(table);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes bulk editor element\r\n         * for the provided table.\r\n         *\r\n         * @param {HTMLTableElement} table\r\n         * @returns {View} Chainable.\r\n         */\r\n        initBulk: function (table) {\r\n            var tableBody = $('tbody', table)[0];\r\n\r\n            $(this.bulkTmpl)\r\n                .prependTo(tableBody)\r\n                .applyBindings(this.model);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes table row.\r\n         *\r\n         * @param {HTMLTableRowElement} row\r\n         * @returns {View} Chainable.\r\n         */\r\n        initRow: function (row) {\r\n            var $editingRow;\r\n\r\n            $(row).extendCtx({\r\n                    _editor: this.model\r\n                }).bindings(this.rowBindings);\r\n\r\n            $editingRow = $(this.rowTmpl)\r\n                .insertBefore(row)\r\n                .applyBindings(row);\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(row, this.removeEditingRow.bind(this, $editingRow));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns row bindings.\r\n         *\r\n         * @param {Object} ctx - Current context of a row.\r\n         * @returns {Object}\r\n         */\r\n        rowBindings: function (ctx) {\r\n            var model = this.model;\r\n\r\n            return {\r\n                visible: ko.computed(function () {\r\n                    var record = ctx.$row(),\r\n                        index = record && record._rowIndex;\r\n\r\n                    return !model.isActive(index, true);\r\n                })\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Returns table bindings.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        tableBindings: function () {\r\n            var model = this.model;\r\n\r\n            return {\r\n                css: {\r\n                    '_in-edit': ko.computed(function () {\r\n                        return model.hasActive() && !model.permanentlyActive;\r\n                    })\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Removes specified array of nodes.\r\n         *\r\n         * @param {ArrayLike} row\r\n         */\r\n        removeEditingRow: function (row) {\r\n            _.toArray(row).forEach(ko.removeNode);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/editor.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'mage/translate',\r\n    'uiCollection'\r\n], function (_, utils, layout, $t, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            rowButtonsTmpl: 'ui/grid/editing/row-buttons',\r\n            headerButtonsTmpl: 'ui/grid/editing/header-buttons',\r\n            successMsg: $t('You have successfully saved your edits.'),\r\n            errorsCount: 0,\r\n            bulkEnabled: true,\r\n            multiEditingButtons: true,\r\n            singleEditingButtons: true,\r\n            isMultiEditing: false,\r\n            isSingleEditing: false,\r\n            permanentlyActive: false,\r\n            rowsData: [],\r\n            fields: {},\r\n\r\n            templates: {\r\n                record: {\r\n                    parent: '${ $.$data.editor.name }',\r\n                    name: '${ $.$data.recordId }',\r\n                    component: 'Magento_Ui/js/grid/editing/record',\r\n                    columnsProvider: '${ $.$data.editor.columnsProvider }',\r\n                    editorProvider: '${ $.$data.editor.name }',\r\n                    preserveFields: {\r\n                        '${ $.$data.editor.indexField }': true\r\n                    }\r\n                }\r\n            },\r\n            bulkConfig: {\r\n                component: 'Magento_Ui/js/grid/editing/bulk',\r\n                name: '${ $.name }_bulk',\r\n                editorProvider: '${ $.name }',\r\n                columnsProvider: '${ $.columnsProvider }'\r\n            },\r\n            clientConfig: {\r\n                component: 'Magento_Ui/js/grid/editing/client',\r\n                name: '${ $.name }_client'\r\n            },\r\n            viewConfig: {\r\n                component: 'Magento_Ui/js/grid/editing/editor-view',\r\n                name: '${ $.name }_view',\r\n                model: '${ $.name }',\r\n                columnsProvider: '${ $.columnsProvider }'\r\n            },\r\n            imports: {\r\n                rowsData: '${ $.dataProvider }:data.items'\r\n            },\r\n            listens: {\r\n                '${ $.dataProvider }:reloaded': 'cancel',\r\n                '${ $.selectProvider }:selected': 'onSelectionsChange'\r\n            },\r\n            modules: {\r\n                source: '${ $.dataProvider }',\r\n                client: '${ $.clientConfig.name }',\r\n                columns: '${ $.columnsProvider }',\r\n                bulk: '${ $.bulkConfig.name }',\r\n                selections: '${ $.selectProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes editor component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'updateState', 'countErrors', 'onDataSaved', 'onSaveError');\r\n\r\n            this._super()\r\n                .initBulk()\r\n                .initClient()\r\n                .initView();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'errorsCount',\r\n                    'isMultiEditing',\r\n                    'isSingleEditing',\r\n                    'isSingleColumnEditing',\r\n                    'changed'\r\n                ])\r\n                .observe({\r\n                    canSave: true,\r\n                    activeRecords: [],\r\n                    messages: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes bulk editing component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initBulk: function () {\r\n            if (this.bulkEnabled) {\r\n                layout([this.bulkConfig]);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes editors' view component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initView: function () {\r\n            layout([this.viewConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes client component.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initClient: function () {\r\n            layout([this.clientConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instance of a new record.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initRecord: function (id, isIndex) {\r\n            var record = this.buildRecord(id, isIndex);\r\n\r\n            layout([record]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds listeners on a new record.\r\n         *\r\n         * @param {Record} record\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        initElement: function (record) {\r\n            record.on({\r\n                'active': this.updateState,\r\n                'errorsCount': this.countErrors\r\n            });\r\n\r\n            this.updateState();\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Creates configuration for a new record associated with a row data.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Object} Record configuration.\r\n         */\r\n        buildRecord: function (id, isIndex) {\r\n            var recordId = this.getId(id, isIndex),\r\n                recordTmpl = this.templates.record,\r\n                record;\r\n\r\n            if (this.getRecord(recordId)) {\r\n                return this;\r\n            }\r\n\r\n            record = utils.template(recordTmpl, {\r\n                editor: this,\r\n                recordId: id\r\n            });\r\n\r\n            record.recordId = id;\r\n            record.data     = this.getRowData(id);\r\n\r\n            return record;\r\n        },\r\n\r\n        /**\r\n         * Starts editing of a specified record. If records'\r\n         * instance doesn't exist, than it will be created.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        edit: function (id, isIndex) {\r\n            var recordId = this.getId(id, isIndex),\r\n                record   = this.getRecord(recordId);\r\n\r\n            record ?\r\n                record.active(true) :\r\n                this.initRecord(recordId);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Drops list of selections while activating only the specified record.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        startEdit: function (id, isIndex) {\r\n            var recordId = this.getId(id, isIndex);\r\n\r\n            this.selections()\r\n                .deselectAll()\r\n                .select(recordId);\r\n\r\n            return this.edit(recordId);\r\n        },\r\n\r\n        /**\r\n         * Hides records and resets theirs data.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.reset()\r\n                .hide()\r\n                .clearMessages()\r\n                .bulk('clear');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides records.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        hide: function () {\r\n            this.activeRecords.each('active', false);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resets active records.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        reset: function () {\r\n            this.elems.each(function (record) {\r\n                this.resetRecord(record.recordId);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validates and saves data of active records.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        save: function () {\r\n            var data;\r\n\r\n            if (!this.isValid()) {\r\n                return this;\r\n            }\r\n\r\n            data = {\r\n                items: this.getData()\r\n            };\r\n\r\n            this.clearMessages()\r\n                .columns('showLoader');\r\n\r\n            this.client()\r\n                .save(data)\r\n                .done(this.onDataSaved)\r\n                .fail(this.onSaveError);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validates all active records.\r\n         *\r\n         * @returns {Array} An array of records and theirs validation results.\r\n         */\r\n        validate: function () {\r\n            return this.activeRecords.map(function (record) {\r\n                return {\r\n                    target: record,\r\n                    valid: record.isValid()\r\n                };\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Checks if all active records are valid.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isValid: function () {\r\n            return _.every(this.validate(), 'valid');\r\n        },\r\n\r\n        /**\r\n         * Returns active records data, indexed by a theirs ids.\r\n         *\r\n         * @returns {Object} Collection of records data.\r\n         */\r\n        getData: function () {\r\n            var data = this.activeRecords.map('getData');\r\n\r\n            return _.indexBy(data, this.indexField);\r\n        },\r\n\r\n        /**\r\n         * Sets provided data to all active records.\r\n         *\r\n         * @param {Object} data - See 'setData' method of a 'Record'.\r\n         * @param {Boolean} partial - See 'setData' method of a 'Record'.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        setData: function (data, partial) {\r\n            this.activeRecords.each('setData', data, partial);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resets specific records' data\r\n         * to the data present in associated row.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        resetRecord: function (id, isIndex) {\r\n            var record  = this.getRecord(id, isIndex),\r\n                data    = this.getRowData(id, isIndex);\r\n\r\n            if (record && data) {\r\n                record.setData(data);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a specified record.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Record}\r\n         */\r\n        getRecord: function (id, isIndex) {\r\n            return this.elems.findWhere({\r\n                recordId: this.getId(id, isIndex)\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Creates record name based on a provided id.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {String}\r\n         */\r\n        formRecordName: function (id, isIndex) {\r\n            id = this.getId(id, isIndex);\r\n\r\n            return this.name + '.' + id;\r\n        },\r\n\r\n        /**\r\n         * Disables editing of specified fields.\r\n         *\r\n         * @param {Array} fields - An array of fields indexes to be disabled.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        disableFields: function (fields) {\r\n            var columns = this.columns().elems(),\r\n                data    = utils.copy(this.fields);\r\n\r\n            columns.forEach(function (column) {\r\n                var index = column.index,\r\n                    field = data[index] = data[index] || {};\r\n\r\n                field.disabled = _.contains(fields, index);\r\n            });\r\n\r\n            this.set('fields', data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Converts index of a row into the record id.\r\n         *\r\n         * @param {(Number|String)} id - Records' identifier or its' index in the rows array.\r\n         * @param {Boolean} [isIndex=false] - Flag that indicates if first\r\n         *      parameter is an index or identifier.\r\n         * @returns {String} Records' id.\r\n         */\r\n        getId: function (id, isIndex) {\r\n            var rowsData = this.rowsData,\r\n                record;\r\n\r\n            if (isIndex === true) {\r\n                record  = rowsData[id];\r\n                id      = record ? record[this.indexField] : false;\r\n            }\r\n\r\n            return id;\r\n        },\r\n\r\n        /**\r\n         * Returns data of a specified row.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See 'getId' method.\r\n         * @returns {Object}\r\n         */\r\n        getRowData: function (id, isIndex) {\r\n            id = this.getId(id, isIndex);\r\n\r\n            return _.find(this.rowsData, function (row) {\r\n                return row[this.indexField] === id;\r\n            }, this);\r\n        },\r\n\r\n        /**\r\n         * Checks if specified record is active.\r\n         *\r\n         * @param {(Number|String)} id - See 'getId' method.\r\n         * @param {Boolean} [isIndex=false] - See'getId' method.\r\n         * @returns {Boolean}\r\n         */\r\n        isActive: function (id, isIndex) {\r\n            var record = this.getRecord(id, isIndex);\r\n\r\n            return _.contains(this.activeRecords(), record);\r\n        },\r\n\r\n        /**\r\n         * Checks if editor has active records.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasActive: function () {\r\n            return !!this.activeRecords().length || this.permanentlyActive;\r\n        },\r\n\r\n        /**\r\n         * Counts number of active records.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countActive: function () {\r\n            return this.activeRecords().length;\r\n        },\r\n\r\n        /**\r\n         * Counts number of invalid fields across all active records.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countErrors: function () {\r\n            var errorsCount = 0;\r\n\r\n            this.activeRecords.each(function (record) {\r\n                errorsCount += record.errorsCount;\r\n            });\r\n\r\n            this.errorsCount = errorsCount;\r\n\r\n            return errorsCount;\r\n        },\r\n\r\n        /**\r\n         * Translatable error message text.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        countErrorsMessage: function () {\r\n            return $t('There are {placeholder} messages requires your attention.')\r\n                .replace('{placeholder}', this.countErrors());\r\n        },\r\n\r\n        /**\r\n         * Checks if editor has any errors.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasErrors: function () {\r\n            return !!this.countErrors();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the records 'active' property.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var active      = this.elems.filter('active'),\r\n                activeCount = active.length,\r\n                columns     = this.columns().elems;\r\n\r\n            columns.each('disableAction', !!activeCount);\r\n\r\n            this.isMultiEditing = activeCount > 1;\r\n            this.isSingleEditing = activeCount === 1;\r\n\r\n            this.activeRecords(active);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns list of selections from a current page.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getSelections: function () {\r\n            return this.selections().getPageSelections();\r\n        },\r\n\r\n        /**\r\n         * Starts editing of selected records. If record\r\n         * is not in the selections list, then it will get hidden.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        editSelected: function () {\r\n            var selections = this.getSelections();\r\n\r\n            this.elems.each(function (record) {\r\n                if (!_.contains(selections, record.recordId)) {\r\n                    record.active(false);\r\n                }\r\n            });\r\n\r\n            selections.forEach(function (id) {\r\n                this.edit(id);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if there is any additional messages.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasMessages: function () {\r\n            return this.messages().length;\r\n        },\r\n\r\n        /**\r\n         * Adds new additional message or a set of messages.\r\n         *\r\n         * @param {(Object|Array)} message - Messages to be added.\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        addMessage: function (message) {\r\n            var messages = this.messages();\r\n\r\n            Array.isArray(message) ?\r\n                messages.push.apply(messages, message) :\r\n                messages.push(message);\r\n\r\n            this.messages(messages);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes all additional messages.\r\n         *\r\n         * @returns {Editor} Chainable.\r\n         */\r\n        clearMessages: function () {\r\n            this.messages.removeAll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Listener of the selections data changes.\r\n         */\r\n        onSelectionsChange: function () {\r\n            if (this.hasActive()) {\r\n                this.editSelected();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles successful save request.\r\n         */\r\n        onDataSaved: function () {\r\n            var msg = {\r\n                type: 'success',\r\n                message: this.successMsg\r\n            };\r\n\r\n            this.addMessage(msg)\r\n                .source('reload', {\r\n                    refresh: true\r\n                });\r\n        },\r\n\r\n        /**\r\n         * Handles failed save request.\r\n         *\r\n         * @param {(Array|Object)} errors - List of errors or a single error object.\r\n         */\r\n        onSaveError: function (errors) {\r\n            this.addMessage(errors)\r\n                .columns('hideLoader');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/editing/record.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiCollection'\r\n], function (_, utils, layout, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            active: true,\r\n            hasChanges: false,\r\n            fields: [],\r\n            errorsCount: 0,\r\n            fieldTmpl: 'ui/grid/editing/field',\r\n            rowTmpl: 'ui/grid/editing/row',\r\n            templates: {\r\n                fields: {\r\n                    base: {\r\n                        parent: '${ $.$data.record.name }',\r\n                        name: '${ $.$data.column.index }',\r\n                        provider: '${ $.$data.record.name }',\r\n                        dataScope: 'data.${ $.$data.column.index }',\r\n                        imports: {\r\n                            disabled: '${ $.$data.record.parentName }:fields.${ $.$data.column.index }.disabled'\r\n                        },\r\n                        isEditor: true\r\n                    },\r\n                    text: {\r\n                        component: 'Magento_Ui/js/form/element/abstract',\r\n                        template: 'ui/form/element/input'\r\n                    },\r\n                    date: {\r\n                        component: 'Magento_Ui/js/form/element/date',\r\n                        template: 'ui/form/element/date',\r\n                        dateFormat: 'MMM d, y h:mm:ss a'\r\n                    },\r\n                    select: {\r\n                        component: 'Magento_Ui/js/form/element/select',\r\n                        template: 'ui/form/element/select',\r\n                        options: '${ JSON.stringify($.$data.column.options) }'\r\n                    }\r\n                }\r\n            },\r\n            ignoreTmpls: {\r\n                data: true\r\n            },\r\n            listens: {\r\n                elems: 'updateFields',\r\n                data: 'updateState'\r\n            },\r\n            imports: {\r\n                onColumnsUpdate: '${ $.columnsProvider }:elems'\r\n            },\r\n            modules: {\r\n                columns: '${ $.columnsProvider }',\r\n                editor: '${ $.editorProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes record component.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'countErrors');\r\n            utils.limit(this, 'updateState', 10);\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('errorsCount hasChanges')\r\n                .observe('active fields');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds listeners on a field.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initElement: function (field) {\r\n            field.on('error', this.countErrors);\r\n\r\n            return this._super();\r\n        },\r\n\r\n        /**\r\n         * Creates new instance of a field.\r\n         *\r\n         * @param {Column} column - Column instance which contains field definition.\r\n         * @returns {Record} Chainable.\r\n         */\r\n        initField: function (column) {\r\n            var field = this.buildField(column);\r\n\r\n            layout([field]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Builds fields' configuration described in a provided column.\r\n         *\r\n         * @param {Column} column - Column instance which contains field definition.\r\n         * @returns {Object} Complete fields' configuration.\r\n         */\r\n        buildField: function (column) {\r\n            var fields = this.templates.fields,\r\n                field  = column.editor;\r\n\r\n            if (_.isObject(field) && field.editorType) {\r\n                field = utils.extend({}, fields[field.editorType], field);\r\n            } else if (_.isString(field)) {\r\n                field = fields[field];\r\n            }\r\n\r\n            field = utils.extend({}, fields.base, field);\r\n\r\n            return utils.template(field, {\r\n                record: this,\r\n                column: column\r\n            }, true, true);\r\n        },\r\n\r\n        /**\r\n         * Creates fields for the specified columns.\r\n         *\r\n         * @param {Array} columns - An array of column instances.\r\n         * @returns {Record} Chainable.\r\n         */\r\n        createFields: function (columns) {\r\n            columns.forEach(function (column) {\r\n                if (column.editor && !this.hasChild(column.index)) {\r\n                    this.initField(column);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a column found by provided index.\r\n         *\r\n         * @param {String} index - Index of a column (e.g. 'title').\r\n         * @returns {Column}\r\n         */\r\n        getColumn: function (index) {\r\n            return this.columns().getChild(index);\r\n        },\r\n\r\n        /**\r\n         * Returns records' current data object.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        getData: function () {\r\n            return this.filterData(this.data);\r\n        },\r\n\r\n        /**\r\n         * Returns saved records' data. Data will be processed\r\n         * with a 'filterData' and 'normalizeData' methods.\r\n         *\r\n         * @returns {Object} Saved records' data.\r\n         */\r\n        getSavedData: function () {\r\n            var editor      = this.editor(),\r\n                savedData   = editor.getRowData(this.index);\r\n\r\n            savedData = this.filterData(savedData);\r\n\r\n            return this.normalizeData(savedData);\r\n        },\r\n\r\n        /**\r\n         * Replaces current records' data with the provided one.\r\n         *\r\n         * @param {Object} data - New records data.\r\n         * @param {Boolean} [partial=false] - Flag that defines whether\r\n         *      to completely replace current data or to extend it.\r\n         * @returns {Record} Chainable.\r\n         */\r\n        setData: function (data, partial) {\r\n            var currentData = partial ? this.data : {};\r\n\r\n            data = this.normalizeData(data);\r\n            data = utils.extend({}, currentData, data);\r\n\r\n            this.set('data', data)\r\n                .updateState();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Filters provided object extracting from it values\r\n         * that can be matched with an existing fields.\r\n         *\r\n         * @param {Object} data - Object to be processed.\r\n         * @returns {Object}\r\n         */\r\n        filterData: function (data) {\r\n            var fields = _.pluck(this.elems(), 'index');\r\n\r\n            _.each(this.preserveFields, function (enabled, field) {\r\n                if (enabled && !_.contains(fields, field)) {\r\n                    fields.push(field);\r\n                }\r\n            });\r\n\r\n            return _.pick(data, fields);\r\n        },\r\n\r\n        /**\r\n         * Parses values of a provided object with\r\n         * a 'normalizeData' method of a corresponding field.\r\n         *\r\n         * @param {Object} data - Data to be processed.\r\n         * @returns {Object}\r\n         */\r\n        normalizeData: function (data) {\r\n            var index;\r\n\r\n            this.elems.each(function (elem) {\r\n                index = elem.index;\r\n\r\n                if (data.hasOwnProperty(index)) {\r\n                    data[index] = elem.normalizeData(data[index]);\r\n                }\r\n            });\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Clears values of all fields.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.elems.each('clear');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Validates all of the available fields.\r\n         *\r\n         * @returns {Array} An array with validation results.\r\n         */\r\n        validate: function () {\r\n            return this.elems.map('validate');\r\n        },\r\n\r\n        /**\r\n         * Checks if all fields are valid.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isValid: function () {\r\n            return _.every(this.validate(), 'valid');\r\n        },\r\n\r\n        /**\r\n         * Counts total errors amount across all fields.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countErrors: function () {\r\n            var errorsCount = this.elems.filter('error').length;\r\n\r\n            this.errorsCount = errorsCount;\r\n\r\n            return errorsCount;\r\n        },\r\n\r\n        /**\r\n         * Returns difference between current data and its'\r\n         * initial state, retrieved from the records collection.\r\n         *\r\n         * @returns {Object} Object with changes descriptions.\r\n         */\r\n        checkChanges: function () {\r\n            var savedData   = this.getSavedData(),\r\n                data        = this.normalizeData(this.getData());\r\n\r\n            return utils.compare(savedData, data);\r\n        },\r\n\r\n        /**\r\n         * Updates 'fields' array filling it with available editors\r\n         * or with column instances if associated field is not present.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        updateFields: function () {\r\n            var fields;\r\n\r\n            fields = this.columns().elems.map(function (column) {\r\n                return this.getChild(column.index) || column;\r\n            }, this);\r\n\r\n            this.fields(fields);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates state of a 'hasChanges' property.\r\n         *\r\n         * @returns {Record} Chainable.\r\n         */\r\n        updateState: function () {\r\n            var diff = this.checkChanges(),\r\n                changed = {};\r\n\r\n            this.hasChanges = !diff.equal;\r\n            changed[this.index] = this.data;\r\n            this.editor().set('changed', [changed]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided column is an actions column.\r\n         *\r\n         * @param {Column} column - Column to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isActionsColumn: function (column) {\r\n            return column.dataType === 'actions';\r\n        },\r\n\r\n        /**\r\n         * Listener of columns provider child array changes.\r\n         *\r\n         * @param {Array} columns - Modified child elements array.\r\n         */\r\n        onColumnsUpdate: function (columns) {\r\n            this.createFields(columns)\r\n                .updateFields();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/filters/chips.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiCollection'\r\n], function (_, Collection) {\r\n    'use strict';\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/filters/chips',\r\n            componentType: 'filtersChips'\r\n        },\r\n\r\n        /**\r\n         * Defines if some of components' children has available previews.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasPreviews: function () {\r\n            return this.elems().some(function (elem) {\r\n                return !!elem.previews.length;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Calls clear method on all of its' children.\r\n         *\r\n         * @returns {Chips} Chainable.\r\n         */\r\n        clear: function () {\r\n            _.invoke(this.elems(), 'clear');\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/filters/filters.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiCollection',\r\n    'mage/translate',\r\n    'jquery'\r\n], function (_, utils, layout, Collection, $t, $) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Extracts and formats preview of an element.\r\n     *\r\n     * @param {Object} elem - Element whose preview should be extracted.\r\n     * @returns {Object} Formatted data.\r\n     */\r\n    function extractPreview(elem) {\r\n        return {\r\n            label: elem.label,\r\n            preview: elem.getPreview(),\r\n            elem: elem\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Removes empty properties from the provided object.\r\n     *\r\n     * @param {Object} data - Object to be processed.\r\n     * @returns {Object}\r\n     */\r\n    function removeEmpty(data) {\r\n        var result = utils.mapRecursive(data, utils.removeEmptyValues.bind(utils));\r\n\r\n        return utils.mapRecursive(result, function (value) {\r\n            return _.isString(value) ? value.trim() : value;\r\n        });\r\n    }\r\n\r\n    return Collection.extend({\r\n        defaults: {\r\n            template: 'ui/grid/filters/filters',\r\n            stickyTmpl: 'ui/grid/sticky/filters',\r\n            _processed: [],\r\n            columnsProvider: 'ns = ${ $.ns }, componentType = columns',\r\n            bookmarksProvider: 'ns = ${ $.ns }, componentType = bookmark',\r\n            applied: {\r\n                placeholder: true\r\n            },\r\n            filters: {\r\n                placeholder: true\r\n            },\r\n            templates: {\r\n                filters: {\r\n                    base: {\r\n                        parent: '${ $.$data.filters.name }',\r\n                        name: '${ $.$data.column.index }',\r\n                        provider: '${ $.$data.filters.name }',\r\n                        dataScope: '${ $.$data.column.index }',\r\n                        label: '${ $.$data.column.label }',\r\n                        imports: {\r\n                            visible: '${ $.$data.column.name }:visible'\r\n                        }\r\n                    },\r\n                    text: {\r\n                        component: 'Magento_Ui/js/form/element/abstract',\r\n                        template: 'ui/grid/filters/field'\r\n                    },\r\n                    select: {\r\n                        component: 'Magento_Ui/js/form/element/select',\r\n                        template: 'ui/grid/filters/field',\r\n                        options: '${ JSON.stringify($.$data.column.options) }',\r\n                        caption: ' '\r\n                    },\r\n                    dateRange: {\r\n                        component: 'Magento_Ui/js/grid/filters/range',\r\n                        rangeType: 'date'\r\n                    },\r\n                    textRange: {\r\n                        component: 'Magento_Ui/js/grid/filters/range',\r\n                        rangeType: 'text'\r\n                    }\r\n                }\r\n            },\r\n            chipsConfig: {\r\n                name: '${ $.name }_chips',\r\n                provider: '${ $.chipsConfig.name }',\r\n                component: 'Magento_Ui/js/grid/filters/chips'\r\n            },\r\n            listens: {\r\n                active: 'updatePreviews',\r\n                applied: 'cancel updateActive'\r\n            },\r\n            statefull: {\r\n                applied: true\r\n            },\r\n            exports: {\r\n                applied: '${ $.provider }:params.filters'\r\n            },\r\n            imports: {\r\n                onColumnsUpdate: '${ $.columnsProvider }:elems',\r\n                onBackendError: '${ $.provider }:lastError',\r\n                bookmarksActiveIndex: '${ $.bookmarksProvider }:activeIndex'\r\n            },\r\n            modules: {\r\n                columns: '${ $.columnsProvider }',\r\n                chips: '${ $.chipsConfig.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes filters component.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initialize: function () {\r\n            _.bindAll(this, 'updateActive');\r\n\r\n            this._super()\r\n                .initChips()\r\n                .cancel();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track({\r\n                    active: [],\r\n                    previews: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes chips component.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initChips: function () {\r\n            layout([this.chipsConfig]);\r\n\r\n            this.chips('insertChild', this.name);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when another element was added to filters collection.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        initElement: function (elem) {\r\n            this._super();\r\n\r\n            elem.on('elems', this.updateActive);\r\n\r\n            this.updateActive();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears filters data.\r\n         *\r\n         * @param {Object} [filter] - If provided, then only specified\r\n         *      filter will be cleared. Otherwise, clears all data.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        clear: function (filter) {\r\n            filter ?\r\n                filter.clear() :\r\n                _.invoke(this.active, 'clear');\r\n\r\n            this.apply();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets filters data to the applied state.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        apply: function () {\r\n            this.set('applied', removeEmpty(this.filters));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resets filters to the last applied state.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.set('filters', utils.copy(this.applied));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets provided data to filter components (without applying it).\r\n         *\r\n         * @param {Object} data - Filters data.\r\n         * @param {Boolean} [partial=false] - Flag that defines whether\r\n         *      to completely replace current filters data or to extend it.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        setData: function (data, partial) {\r\n            var filters = partial ? this.filters : {};\r\n\r\n            data = utils.extend({}, filters, data);\r\n\r\n            this.set('filters', data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instance of a filter associated with the provided column.\r\n         *\r\n         * @param {Column} column - Column component for which to create a filter.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        addFilter: function (column) {\r\n            var index       = column.index,\r\n                processed   = this._processed,\r\n                filter;\r\n\r\n            if (!column.filter || _.contains(processed, index)) {\r\n                return this;\r\n            }\r\n\r\n            filter = this.buildFilter(column);\r\n\r\n            processed.push(index);\r\n\r\n            layout([filter]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates filter component configuration associated with the provided column.\r\n         *\r\n         * @param {Column} column - Column component with a basic filter declaration.\r\n         * @returns {Object} Filters' configuration.\r\n         */\r\n        buildFilter: function (column) {\r\n            var filters = this.templates.filters,\r\n                filter  = column.filter,\r\n                type    = filters[filter.filterType];\r\n\r\n            if (_.isObject(filter) && type) {\r\n                filter = utils.extend({}, type, filter);\r\n            } else if (_.isString(filter)) {\r\n                filter = filters[filter];\r\n            }\r\n\r\n            filter = utils.extend({}, filters.base, filter);\r\n\r\n            return utils.template(filter, {\r\n                filters: this,\r\n                column: column\r\n            }, true, true);\r\n        },\r\n\r\n        /**\r\n         * Returns an array of range filters.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getRanges: function () {\r\n            return this.elems.filter(function (filter) {\r\n                return filter.isRange;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Returns an array of non-range filters.\r\n         *\r\n         * @returns {Array}\r\n         */\r\n        getPlain: function () {\r\n            return this.elems.filter(function (filter) {\r\n                return !filter.isRange;\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Tells wether specified filter should be visible.\r\n         *\r\n         * @param {Object} filter\r\n         * @returns {Boolean}\r\n         */\r\n        isFilterVisible: function (filter) {\r\n            return filter.visible() || this.isFilterActive(filter);\r\n        },\r\n\r\n        /**\r\n         * Checks if specified filter is active.\r\n         *\r\n         * @param {Object} filter\r\n         * @returns {Boolean}\r\n         */\r\n        isFilterActive: function (filter) {\r\n            return _.contains(this.active, filter);\r\n        },\r\n\r\n        /**\r\n         * Checks if collection has visible filters.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasVisible: function () {\r\n            return this.elems.some(this.isFilterVisible, this);\r\n        },\r\n\r\n        /**\r\n         * Finds filters with a not empty data\r\n         * and sets them to the 'active' filters array.\r\n         *\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        updateActive: function () {\r\n            var applied = _.keys(this.applied);\r\n\r\n            this.active = this.elems.filter(function (elem) {\r\n                return _.contains(applied, elem.index);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns number of applied filters.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        countActive: function () {\r\n            return this.active.length;\r\n        },\r\n\r\n        /**\r\n         * Extract previews of a specified filters.\r\n         *\r\n         * @param {Array} filters - Filters to be processed.\r\n         * @returns {Filters} Chainable.\r\n         */\r\n        updatePreviews: function (filters) {\r\n            var previews = filters.map(extractPreview);\r\n\r\n            this.previews = _.compact(previews);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Listener of the columns provider children array changes.\r\n         *\r\n         * @param {Array} columns - Current columns list.\r\n         */\r\n        onColumnsUpdate: function (columns) {\r\n            columns.forEach(this.addFilter, this);\r\n        },\r\n\r\n        /**\r\n         * Provider ajax error listener.\r\n         *\r\n         * @param {bool} isError - Selected index of the filter.\r\n         */\r\n        onBackendError: function (isError) {\r\n            var defaultMessage = 'Something went wrong with processing the default view and we have restored the ' +\r\n                    'filter to its original state.',\r\n                customMessage  = 'Something went wrong with processing current custom view and filters have been ' +\r\n                    'reset to its original state. Please edit filters then click apply.';\r\n\r\n            if (isError) {\r\n                this.clear();\r\n\r\n                $('body').notification('clear')\r\n                    .notification('add', {\r\n                        error: true,\r\n                        message: $.mage.__(this.bookmarksActiveIndex !== 'default' ? customMessage : defaultMessage),\r\n\r\n                        /**\r\n                         * @param {String} message\r\n                         */\r\n                        insertMethod: function (message) {\r\n                            var $wrapper = $('<div/>').html(message);\r\n\r\n                            $('.page-main-actions').after($wrapper);\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/filters/range.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiLayout',\r\n    'mageUtils',\r\n    'Magento_Ui/js/form/components/group',\r\n    'mage/translate'\r\n], function (_, layout, utils, Group, $t) {\r\n    'use strict';\r\n\r\n    return Group.extend({\r\n        defaults: {\r\n            template: 'ui/grid/filters/elements/group',\r\n            isRange: true,\r\n            templates: {\r\n                base: {\r\n                    parent: '${ $.$data.group.name }',\r\n                    provider: '${ $.$data.group.provider }',\r\n                    template: 'ui/grid/filters/field'\r\n                },\r\n                date: {\r\n                    component: 'Magento_Ui/js/form/element/date',\r\n                    dateFormat: 'MM/dd/YYYY',\r\n                    shiftedValue: 'filter'\r\n                },\r\n                text: {\r\n                    component: 'Magento_Ui/js/form/element/abstract'\r\n                },\r\n                ranges: {\r\n                    from: {\r\n                        label: $t('from'),\r\n                        dataScope: 'from'\r\n                    },\r\n                    to: {\r\n                        label: $t('to'),\r\n                        dataScope: 'to'\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes range component.\r\n         *\r\n         * @returns {Range} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initChildren();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates instances of child components.\r\n         *\r\n         * @returns {Range} Chainable.\r\n         */\r\n        initChildren: function () {\r\n            var children = this.buildChildren();\r\n\r\n            layout(children);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates configuration for the child components.\r\n         *\r\n         * @returns {Object}\r\n         */\r\n        buildChildren: function () {\r\n            var templates   = this.templates,\r\n                typeTmpl    = templates[this.rangeType],\r\n                tmpl        = utils.extend({}, templates.base, typeTmpl),\r\n                children    = {};\r\n\r\n            _.each(templates.ranges, function (range, key) {\r\n                children[key] = utils.extend({}, tmpl, range);\r\n            });\r\n\r\n            return utils.template(children, {\r\n                group: this\r\n            }, true, true);\r\n        },\r\n\r\n        /**\r\n         * Clears childrens data.\r\n         *\r\n         * @returns {Range} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.elems.each('clear');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if some children has data.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasData: function () {\r\n            return this.elems.some('hasData');\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/paging/paging.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiLayout',\r\n    'uiElement'\r\n], function (ko, _, utils, layout, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/paging/paging',\r\n            totalTmpl: 'ui/grid/paging-total',\r\n            pageSize: 20,\r\n            current: 1,\r\n            selectProvider: 'ns = ${ $.ns }, index = ids',\r\n\r\n            sizesConfig: {\r\n                component: 'Magento_Ui/js/grid/paging/sizes',\r\n                name: '${ $.name }_sizes',\r\n                storageConfig: {\r\n                    provider: '${ $.storageConfig.provider }',\r\n                    namespace: '${ $.storageConfig.namespace }'\r\n                }\r\n            },\r\n\r\n            imports: {\r\n                pageSize: '${ $.sizesConfig.name }:value',\r\n                totalSelected: '${ $.selectProvider }:totalSelected',\r\n                totalRecords: '${ $.provider }:data.totalRecords'\r\n            },\r\n\r\n            exports: {\r\n                pageSize: '${ $.provider }:params.paging.pageSize',\r\n                current: '${ $.provider }:params.paging.current'\r\n            },\r\n\r\n            listens: {\r\n                'pages': 'onPagesChange',\r\n                'pageSize': 'onPageSizeChange',\r\n                'totalRecords': 'updateCounter',\r\n                '${ $.provider }:params.filters': 'goFirst'\r\n            },\r\n\r\n            modules: {\r\n                sizes: '${ $.sizesConfig.name }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes paging component.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initSizes()\r\n                .updateCounter();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'totalSelected',\r\n                    'totalRecords',\r\n                    'pageSize',\r\n                    'pages',\r\n                    'current'\r\n                ]);\r\n\r\n            this._current = ko.pureComputed({\r\n                read: ko.getObservable(this, 'current'),\r\n\r\n                /**\r\n                 * Validates page change according to user's input.\r\n                 * Sets current observable to result of validation.\r\n                 * Calls reload method then.\r\n                 */\r\n                write: function (value) {\r\n                    this.setPage(value)\r\n                        ._current.notifySubscribers(this.current);\r\n                },\r\n\r\n                owner: this\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes sizes component.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        initSizes: function () {\r\n            layout([this.sizesConfig]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Gets first item index on current page.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getFirstItemIndex: function () {\r\n            return this.pageSize * (this.current - 1) + 1;\r\n        },\r\n\r\n        /**\r\n         * Gets last item index on current page.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getLastItemIndex: function () {\r\n            var lastItem = this.getFirstItemIndex() + this.pageSize - 1;\r\n\r\n            return this.totalRecords < lastItem ? this.totalRecords : lastItem;\r\n        },\r\n\r\n        /**\r\n         * Sets cursor to the provied value.\r\n         *\r\n         * @param {(Number|String)} value - New value of the cursor.\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        setPage: function (value) {\r\n            this.current = this.normalize(value);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Increments current page value.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        next: function () {\r\n            this.setPage(this.current + 1);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Decrements current page value.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        prev: function () {\r\n            this.setPage(this.current - 1);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Goes to the first page.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        goFirst: function () {\r\n            this.current = 1;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Goes to the last page.\r\n         *\r\n         * @returns {Paging} Chainable.\r\n         */\r\n        goLast: function () {\r\n            this.current = this.pages;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if current page is the first one.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isFirst: function () {\r\n            return this.current === 1;\r\n        },\r\n\r\n        /**\r\n         * Checks if current page is the last one.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isLast: function () {\r\n            return this.current === this.pages;\r\n        },\r\n\r\n        /**\r\n         * Updates number of pages.\r\n         */\r\n        updateCounter: function () {\r\n            this.pages = Math.ceil(this.totalRecords / this.pageSize) || 1;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Calculates new page cursor based on the\r\n         * previous and current page size values.\r\n         *\r\n         * @returns {Number} Updated cursor value.\r\n         */\r\n        updateCursor: function () {\r\n            var cursor  = this.current - 1,\r\n                size    = this.pageSize,\r\n                oldSize = this.previousSize,\r\n                delta   = cursor * (oldSize  - size) / size;\r\n\r\n            delta = size > oldSize ?\r\n                Math.ceil(delta) :\r\n                Math.floor(delta);\r\n\r\n            cursor += delta + 1;\r\n\r\n            this.previousSize = size;\r\n\r\n            this.setPage(cursor);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Converts provided value to a number and puts\r\n         * it in range between 1 and total amount of pages.\r\n         *\r\n         * @param {(Number|String)} value - Value to be normalized.\r\n         * @returns {Number}\r\n         */\r\n        normalize: function (value) {\r\n            value = +value;\r\n\r\n            if (isNaN(value)) {\r\n                return 1;\r\n            }\r\n\r\n            return utils.inRange(Math.round(value), 1, this.pages);\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the page size.\r\n         */\r\n        onPageSizeChange: function () {\r\n            this.updateCounter()\r\n                .updateCursor();\r\n        },\r\n\r\n        /**\r\n         * Handles changes of the pages amount.\r\n         */\r\n        onPagesChange: function () {\r\n            this.updateCursor();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/paging/sizes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiElement'\r\n], function (ko, _, utils, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/paging/sizes',\r\n            value: 20,\r\n            minSize: 1,\r\n            maxSize: 999,\r\n            options: {\r\n                '20': {\r\n                    value: 20,\r\n                    label: 20\r\n                },\r\n                '30': {\r\n                    value: 30,\r\n                    label: 30\r\n                },\r\n                '50': {\r\n                    value: 50,\r\n                    label: 50\r\n                },\r\n                '100': {\r\n                    value: 100,\r\n                    label: 100\r\n                },\r\n                '200': {\r\n                    value: 200,\r\n                    label: 200\r\n                }\r\n            },\r\n            statefull: {\r\n                options: true,\r\n                value: true\r\n            },\r\n            listens: {\r\n                value: 'onValueChange',\r\n                options: 'onSizesChange'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes sizes component.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .updateArray();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track([\r\n                    'value',\r\n                    'editing',\r\n                    'customVisible',\r\n                    'customValue'\r\n                ])\r\n                .track({\r\n                    optionsArray: []\r\n                });\r\n\r\n            this._value = ko.pureComputed({\r\n                read: ko.getObservable(this, 'value'),\r\n\r\n                /**\r\n                 * Validates input field prior to updating 'value' property.\r\n                 */\r\n                write: function (value) {\r\n                    value = this.normalize(value);\r\n\r\n                    this.value = value;\r\n                    this._value.notifySubscribers(value);\r\n                },\r\n\r\n                owner: this\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Starts editing of the specified size.\r\n         *\r\n         * @param {Number} value - Value of the size.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        edit: function (value) {\r\n            this.editing = value;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Discards changes made to the currently editable size.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        discardEditing: function () {\r\n            var value = this.editing;\r\n\r\n            if (value) {\r\n                this.updateSize(value, value);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Invokes 'discardEditing' and 'discardCustom' actions.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        discardAll: function () {\r\n            this.discardEditing()\r\n                .discardCustom();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns value of the first size.\r\n         *\r\n         * @returns {Number}\r\n         */\r\n        getFirst: function () {\r\n            return this.optionsArray[0].value;\r\n        },\r\n\r\n        /**\r\n         * Returns size which matches specified value.\r\n         *\r\n         * @param {Number} value - Value of the item.\r\n         * @returns {Object|Undefined}\r\n         */\r\n        getSize: function (value) {\r\n            return this.options[value];\r\n        },\r\n\r\n        /**\r\n         * Sets current size to the specified value.\r\n         *\r\n         * @param {Number} value - Value of the size.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        setSize: function (value) {\r\n            this.value = value;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds a new value to sizes list.\r\n         *\r\n         * @param {Number} value - Value to be added.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        addSize: function (value) {\r\n            var size;\r\n\r\n            if (!this.hasSize(value)) {\r\n                size = this.createSize(value);\r\n\r\n                this.set('options.' + value, size);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes provided value from the sizes list.\r\n         *\r\n         * @param {Number} value - Value to be removed.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        removeSize: function (value) {\r\n            if (!this.hasSize(value)) {\r\n                return this;\r\n            }\r\n\r\n            this.remove('options.' + value);\r\n\r\n            if (this.isSelected(value)) {\r\n                this.setSize(this.getFirst());\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates existing value to the provided one. If new value\r\n         * is not specified, then sizes' '_value' property will be taken.\r\n         *\r\n         * @param {Number} value - Existing value that should be updated.\r\n         * @param {(Number|String)} [newValue=size._value] - New size value.\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        updateSize: function (value, newValue) {\r\n            var size = this.getSize(value);\r\n\r\n            if (!size) {\r\n                return this;\r\n            }\r\n\r\n            newValue = newValue || size._value;\r\n\r\n            if (isNaN(+newValue)) {\r\n                this.discardEditing();\r\n\r\n                return this;\r\n            }\r\n\r\n            newValue = this.normalize(newValue);\r\n\r\n            this.remove('options.' + value)\r\n                .addSize(newValue);\r\n\r\n            if (this.isSelected(value)) {\r\n                this.setSize(newValue);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates new editable size instance with the provided value.\r\n         *\r\n         * @param {Number} value - Value of the size.\r\n         * @returns {Object}\r\n         */\r\n        createSize: function (value) {\r\n            return {\r\n                value: value,\r\n                label: value,\r\n                _value: value,\r\n                editable: true\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Checks if provided value exists in the sizes list.\r\n         *\r\n         * @param {Number} value - Value to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        hasSize: function (value) {\r\n            return !!this.getSize(value);\r\n        },\r\n\r\n        /**\r\n         * Hides and clears custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        discardCustom: function () {\r\n            this.hideCustom()\r\n                .clearCustom();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Shows custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        showCustom: function () {\r\n            this.customVisible = true;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        hideCustom: function () {\r\n            this.customVisible = false;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Empties value of the custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        clearCustom: function () {\r\n            this.customValue = '';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adds a new size specified in the custom field.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        applyCustom: function () {\r\n            var value = this.customValue;\r\n\r\n            value = this.normalize(value);\r\n\r\n            this.addSize(value)\r\n                .setSize(value)\r\n                .discardCustom();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if custom field is visible.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        isCustomVisible: function () {\r\n            return this.customVisible;\r\n        },\r\n\r\n        /**\r\n         * Converts provided value to a number and puts\r\n         * it in range between 'minSize' and 'maxSize' properties.\r\n         *\r\n         * @param {(Number|String)} value - Value to be normalized.\r\n         * @returns {Number}\r\n         */\r\n        normalize: function (value) {\r\n            value = +value;\r\n\r\n            if (isNaN(value)) {\r\n                return this.getFirst();\r\n            }\r\n\r\n            return utils.inRange(Math.round(value), this.minSize, this.maxSize);\r\n        },\r\n\r\n        /**\r\n         * Updates the array of options.\r\n         *\r\n         * @returns {Sizes} Chainable.\r\n         */\r\n        updateArray: function () {\r\n            var array = _.values(this.options);\r\n\r\n            this.optionsArray = _.sortBy(array, 'value');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided value is in editing state.\r\n         *\r\n         * @param {Number} value - Value to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isEditing: function (value) {\r\n            return this.editing === value;\r\n        },\r\n\r\n        /**\r\n         * Checks if provided value is selected.\r\n         *\r\n         * @param {Number} value - Value to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isSelected: function (value) {\r\n            return this.value === value;\r\n        },\r\n\r\n        /**\r\n         * Listener of the 'value' property changes.\r\n         */\r\n        onValueChange: function () {\r\n            this.discardAll()\r\n                .trigger('close');\r\n        },\r\n\r\n        /**\r\n         * Listener of the 'options' object changes.\r\n         */\r\n        onSizesChange: function () {\r\n            this.editing = false;\r\n\r\n            this.updateArray();\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/search/search.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiLayout',\r\n    'mage/translate',\r\n    'mageUtils',\r\n    'uiElement'\r\n], function (_, layout, $t, utils, Element) {\r\n    'use strict';\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/grid/search/search',\r\n            placeholder: 'Search by keyword',\r\n            label: $t('Keyword'),\r\n            value: '',\r\n            previews: [],\r\n            chipsProvider: 'componentType = filtersChips, ns = ${ $.ns }',\r\n            statefull: {\r\n                value: true\r\n            },\r\n            tracks: {\r\n                value: true,\r\n                previews: true,\r\n                inputValue: true\r\n            },\r\n            imports: {\r\n                inputValue: 'value',\r\n                updatePreview: 'value'\r\n            },\r\n            exports: {\r\n                value: '${ $.provider }:params.search'\r\n            },\r\n            modules: {\r\n                chips: '${ $.chipsProvider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes search component.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        initialize: function () {\r\n            var urlParams = window.location.href.slice(window.location.href.search('[\\&\\?](search=)')).split('&'),\r\n                searchTerm = [];\r\n\r\n            this._super()\r\n                .initChips();\r\n\r\n            if (urlParams[0]) {\r\n                searchTerm = urlParams[0].split('=');\r\n\r\n                if (searchTerm[1]) {\r\n                    this.apply(decodeURIComponent(searchTerm[1]));\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes chips component.\r\n         *\r\n         * @returns {Search} Chainbale.\r\n         */\r\n        initChips: function () {\r\n            this.chips('insertChild', this, 0);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Clears search.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        clear: function () {\r\n            this.value = '';\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resets input value to the last applied state.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        cancel: function () {\r\n            this.inputValue = this.value;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Applies search query.\r\n         *\r\n         * @param {String} [value=inputValue] - If not specified, then\r\n         *      value of the input field will be used.\r\n         * @returns {Search} Chainable.\r\n         */\r\n        apply: function (value) {\r\n            value = value || this.inputValue;\r\n\r\n            this.value = this.inputValue = value.trim();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates preview data.\r\n         *\r\n         * @returns {Search} Chainable.\r\n         */\r\n        updatePreview: function () {\r\n            var preview = [];\r\n\r\n            if (this.value) {\r\n                preview.push({\r\n                    elem: this,\r\n                    label: this.label,\r\n                    preview: this.value\r\n                });\r\n            }\r\n\r\n            this.previews = preview;\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/grid/sticky/sticky.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'underscore',\r\n    'uiComponent',\r\n    'Magento_Ui/js/lib/view/utils/raf'\r\n], function ($, _, Component, raf) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            listingSelector: '${ $.listingProvider }::not([data-role = \"sticky-el-root\"])',\r\n            toolbarSelector: '${ $.toolbarProvider }::not([data-role = \"sticky-el-root\"])',\r\n            bulkRowSelector: '[data-role = \"data-grid-bulk-row\"]',\r\n            bulkRowHeaderSelector: '.data-grid-info-panel:visible',\r\n            tableSelector: 'table',\r\n            columnSelector: 'thead tr th',\r\n            rowSelector: 'tbody tr',\r\n            toolbarCollapsiblesSelector: '[data-role=\"toolbar-menu-item\"]',\r\n            toolbarCollapsiblesActiveClass: '_active',\r\n            template: 'ui/grid/sticky/sticky',\r\n            stickyContainerSelector: '.sticky-header',\r\n            stickyElementSelector: '[data-role = \"sticky-el-root\"]',\r\n            leftDataGridCapSelector: '.data-grid-cap-left',\r\n            rightDataGridCapSelector: '.data-grid-cap-right',\r\n            visible: false,\r\n            enableToolbar: true,\r\n            enableHeader: true,\r\n            modules: {\r\n                toolbar: '${ $.toolbarProvider }',\r\n                listing: '${ $.listingProvider }'\r\n            },\r\n            otherStickyElsSize: 77,\r\n            containerNode: null,\r\n            listingNode: null,\r\n            toolbarNode: null,\r\n            stickyListingNode: null,\r\n            stickyToolbarNode: null,\r\n            storedOriginalToolbarElements: [],\r\n            cache: {},\r\n            flags: {},\r\n            dirtyFlag: 'dirty'\r\n        },\r\n\r\n        /**\r\n         * Initializes Sticky component.\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super();\r\n            _.bindAll(this,\r\n                'adjustStickyElems',\r\n                'initListingNode',\r\n                'initToolbarNode',\r\n                'initContainerNode',\r\n                'initColumns',\r\n                'initStickyListingNode',\r\n                'initStickyToolbarNode',\r\n                'initLeftDataGridCap',\r\n                'initRightDataGridCap'\r\n            );\r\n\r\n            $.async(this.listingSelector,\r\n                this.initListingNode);\r\n            $.async(this.toolbarSelector,\r\n                this.initToolbarNode);\r\n\r\n            $.async(this.stickyContainerSelector,\r\n                this,\r\n                this.initContainerNode);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init observables\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .track('visible');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Init original listing node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initListingNode: function (node) {\r\n            if ($(node).is(this.stickyElementSelector)) {\r\n                return;\r\n            }\r\n            this.listingNode = $(node);\r\n            $.async(this.columnSelector, node, this.initColumns);\r\n        },\r\n\r\n        /**\r\n         * Init original toolbar node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initToolbarNode: function (node) {\r\n            if ($(node).is(this.stickyElementSelector)) {\r\n                return;\r\n            }\r\n            this.toolbarNode = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init sticky listing node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initStickyListingNode: function (node) {\r\n            this.stickyListingNode = $(node);\r\n            this.checkPos();\r\n            this.initListeners();\r\n        },\r\n\r\n        /**\r\n         * Init sticky toolbar node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initStickyToolbarNode: function (node) {\r\n            this.stickyToolbarNode = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init sticky header container node\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initContainerNode: function (node) {\r\n            this.containerNode = $(node);\r\n\r\n            $.async(this.leftDataGridCapSelector,\r\n                node,\r\n                this.initLeftDataGridCap);\r\n            $.async(this.rightDataGridCapSelector,\r\n                node,\r\n                this.initRightDataGridCap);\r\n\r\n            $.async(this.stickyElementSelector,\r\n                this.listing(),\r\n                this.initStickyListingNode);\r\n            $.async(this.stickyElementSelector,\r\n                this.toolbar(),\r\n                this.initStickyToolbarNode);\r\n        },\r\n\r\n        /**\r\n         * Init columns (each time when amount of columns is changed)\r\n         *\r\n         */\r\n        initColumns: function () {\r\n            this.columns = this.listingNode.find(this.columnSelector);\r\n        },\r\n\r\n        /**\r\n         * Init left DataGridCap\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initLeftDataGridCap: function (node) {\r\n            this.leftDataGridCap = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init right DataGridCap\r\n         *\r\n         * @param {HTMLElement} node\r\n         */\r\n        initRightDataGridCap: function (node) {\r\n            this.rightDataGridCap = $(node);\r\n        },\r\n\r\n        /**\r\n         * Init listeners\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initListeners: function () {\r\n            this.adjustStickyElems();\r\n            this.initOnResize()\r\n                .initOnScroll()\r\n                .initOnListingScroll();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Start to listen to window scroll event\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initOnScroll: function () {\r\n            this.lastHorizontalScrollPos = $(window).scrollLeft();\r\n            document.addEventListener('scroll', function () {\r\n                this.flags.scrolled = true;\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Start to listen to original listing scroll event\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initOnListingScroll: function () {\r\n            $(this.listingNode).scroll(function (e) {\r\n                this.flags.listingScrolled = true;\r\n                this.flags.listingScrolledValue = $(e.target).scrollLeft();\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Start to listen to window resize event\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        initOnResize: function () {\r\n            $(window).resize(function () {\r\n                this.flags.resized = true;\r\n            }.bind(this));\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust sticky header elements according to flags of the events that have happened in the endless RAF loop\r\n         */\r\n        adjustStickyElems: function () {\r\n            if (this.flags.resized ||\r\n                this.flags.scrolled) {\r\n                this.checkPos();\r\n            }\r\n\r\n            if (this.visible) {\r\n                this.checkTableElemsWidth();\r\n\r\n                if (this.flags.originalWidthChanged) {\r\n                    this.adjustContainerElemsWidth();\r\n                }\r\n\r\n                if (this.flags.resized) {\r\n                    this.onResize();\r\n                }\r\n\r\n                if (this.flags.scrolled) {\r\n                    this.onWindowScroll();\r\n                }\r\n\r\n                if (this.flags.listingScrolled) {\r\n                    this.onListingScroll(this.flags.listingScrolledValue);\r\n                }\r\n            }\r\n            _.each(this.flags, function (val, key) {\r\n                if (val === this.dirtyFlag) {\r\n                    this.flags[key] = false;\r\n                } else if (val) {\r\n                    this.flags[key] = this.dirtyFlag;\r\n                }\r\n            }, this);\r\n\r\n            raf(this.adjustStickyElems);\r\n        },\r\n\r\n        /**\r\n         * Handles window scroll\r\n         */\r\n        onWindowScroll: function () {\r\n            var scrolled = $(window).scrollLeft(),\r\n                horizontal = this.lastHorizontalScrollPos !== scrolled;\r\n\r\n            if (horizontal) {\r\n                this.adjustOffset()\r\n                    .adjustDataGridCapPositions();\r\n                this.lastHorizontalScrollPos = scrolled;\r\n            } else {\r\n                this.checkPos();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles original listing scroll\r\n         *\r\n         * @param {Number} scrolled\r\n         */\r\n        onListingScroll: function (scrolled) {\r\n            this.adjustOffset(scrolled);\r\n        },\r\n\r\n        /**\r\n         * Handles window resize\r\n         */\r\n        onResize: function () {\r\n            this.checkPos();\r\n            this.adjustContainerElemsWidth()\r\n                .adjustDataGridCapPositions();\r\n        },\r\n\r\n        /**\r\n         * Check if original table or columns change it dimensions and sets appropriate flag\r\n         */\r\n        checkTableElemsWidth: function () {\r\n            var newWidth = this.getTableWidth();\r\n\r\n            if (this.cache.tableWidth !== newWidth) {\r\n                this.cache.tableWidth = newWidth;\r\n                this.flags.originalWidthChanged = true;\r\n            } else if (this.cache.colChecksum !== this.getColsChecksum()) {\r\n                this.cache.colChecksum = this.getColsChecksum();\r\n                this.flags.originalWidthChanged = true;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get the checksum of original columns width\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getColsChecksum: function () {\r\n            return _.reduce(this.columns,\r\n            function (pv, cv) {\r\n                return ($(pv).width() || pv) + '' + $(cv).width();\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Get the width of the sticky table wrapper\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getListingWidth: function () {\r\n            return this.listingNode.width();\r\n        },\r\n\r\n        /**\r\n         * Get the width of the original table\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getTableWidth: function () {\r\n            return this.listingNode.find(this.tableSelector).width();\r\n        },\r\n\r\n        /**\r\n         * Get the top elem: header or toolbar\r\n         *\r\n         * @returns {HTMLElement}.\r\n         */\r\n        getTopElement: function () {\r\n            return this.toolbarNode || this.listingNode;\r\n        },\r\n\r\n        /**\r\n         * Get the height of the other sticky elem (Page header)\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getOtherStickyElementsSize: function () {\r\n            return this.otherStickyElsSize;\r\n        },\r\n\r\n        /**\r\n         * Get original bulk row height, if is visible\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getBulkRowHeight: function () {\r\n            return this.listingNode.find(this.bulkRowSelector).filter(':visible').height();\r\n        },\r\n\r\n        /**\r\n         * Get top Y coord of the sticky header\r\n         *\r\n         * @returns {Number}.\r\n         */\r\n        getListingTopYCoord: function () {\r\n            var bulkRowHeight = this.getBulkRowHeight();\r\n\r\n            return this.listingNode.find('tbody').offset().top -\r\n                this.containerNode.height() -\r\n                $(window).scrollTop() +\r\n                bulkRowHeight;\r\n        },\r\n\r\n        /**\r\n         * Check if sticky header must be visible\r\n         *\r\n         * @returns {Boolean}.\r\n         */\r\n        getMustBeSticky: function () {\r\n            var stickyTopCondition = this.getListingTopYCoord() - this.getOtherStickyElementsSize(),\r\n                stickyBottomCondition = this.listingNode.offset().top +\r\n                    this.listingNode.height() -\r\n                    $(window).scrollTop() +\r\n                    this.getBulkRowHeight() -\r\n                    this.getOtherStickyElementsSize();\r\n\r\n            return stickyTopCondition < 0 && stickyBottomCondition > 0;\r\n        },\r\n\r\n        /**\r\n         * Resize sticky header and cols\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustContainerElemsWidth: function () {\r\n            this.resizeContainer()\r\n                .resizeCols()\r\n                .resizeBulk();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resize sticky header\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        resizeContainer: function () {\r\n            var listingWidth = this.getListingWidth();\r\n\r\n            this.stickyListingNode.innerWidth(listingWidth);\r\n            this.stickyListingNode.find(this.tableSelector).innerWidth(this.getTableWidth());\r\n\r\n            if (this.stickyToolbarNode) {\r\n                this.stickyToolbarNode.innerWidth(listingWidth);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resize sticky cols\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        resizeCols: function () {\r\n            var cols = this.listingNode.find(this.columnSelector);\r\n\r\n            this.stickyListingNode.find(this.columnSelector).each(function (ind) {\r\n                var originalColWidth =  $(cols[ind]).width();\r\n\r\n                $(this).width(originalColWidth);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Resize bulk row header\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        resizeBulk: function () {\r\n            var bulk = this.containerNode.find(this.bulkRowHeaderSelector)[0];\r\n\r\n            if (bulk) {\r\n                $(bulk).innerWidth(this.getListingWidth());\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Reset viewport to the top of listing\r\n         */\r\n        resetToTop: function () {\r\n            var posOfTopEl = this.getTopElement().offset().top - this.getOtherStickyElementsSize() || 0;\r\n\r\n            $(window).scrollTop(posOfTopEl);\r\n        },\r\n\r\n        /**\r\n         * Adjust sticky header offset\r\n         *\r\n         * @param {Number} val\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustOffset: function (val) {\r\n            val = val || this.listingNode.scrollLeft();\r\n            this.stickyListingNode.offset({\r\n                left: this.listingNode.offset().left - val\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust both DataGridCap position\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustDataGridCapPositions: function () {\r\n            this.adjustLeftDataGridCapPos()\r\n                .adjustRightDataGridCapPos();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust left DataGridCap position\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustLeftDataGridCapPos: function () {\r\n            this.leftDataGridCap.offset({\r\n                left: this.listingNode.offset().left - this.leftDataGridCap.width()\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Adjust right DataGridCap position\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        adjustRightDataGridCapPos: function () {\r\n            this.rightDataGridCap.offset({\r\n                left: this.listingNode.offset().left + this.listingNode.width()\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Hides the oiginal toolbar opened dropdowns/collapsibles etc\r\n         */\r\n        collapseOriginalElements: function () {\r\n            this.toolbarNode\r\n                .find(this.toolbarCollapsiblesSelector)\r\n                .css('visibility', 'hidden');\r\n            $(this.listingNode.find(this.bulkRowSelector)[0]).css('visibility', 'hidden');\r\n        },\r\n\r\n        /**\r\n         * Restores the oiginal toolbar opened dropdowns/collapsibles etc\r\n         */\r\n        restoreOriginalElements: function () {\r\n            this.toolbarNode\r\n                .find(this.toolbarCollapsiblesSelector)\r\n                .css('visibility', 'visible');\r\n            $(this.listingNode.find(this.bulkRowSelector)[0]).css('visibility', 'visible');\r\n        },\r\n\r\n        /**\r\n         * Toggle the visibility of sticky header\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        toggleContainerVisibility: function () {\r\n            this.visible = !this.visible;\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks position of the listing to know if need to show/hide sticky header\r\n         *\r\n         * @returns {Boolean} whether the visibility of the sticky header was toggled.\r\n         */\r\n        checkPos: function () {\r\n            var isSticky = this.visible,\r\n                mustBeSticky = this.getMustBeSticky(),\r\n                needChange = isSticky !== mustBeSticky;\r\n\r\n            if (needChange) {\r\n                if (mustBeSticky) {\r\n                    this.collapseOriginalElements();\r\n                    this.toggleContainerVisibility();\r\n                    this.adjustContainerElemsWidth()\r\n                        .adjustOffset()\r\n                        .adjustDataGridCapPositions();\r\n\r\n                } else {\r\n                    this.toggleContainerVisibility();\r\n                    this.restoreOriginalElements();\r\n                }\r\n            }\r\n\r\n            return needChange;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/collapsible.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'uiComponent'\r\n], function (Component) {\r\n    'use strict';\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            opened: false,\r\n            collapsible: true\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe('opened');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles value of the 'opened' property.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        toggleOpened: function () {\r\n            this.opened() ?\r\n                this.close() :\r\n                this.open();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets 'opened' flag to false.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        close: function () {\r\n            if (this.collapsible) {\r\n                this.opened(false);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets 'opened' flag to true.\r\n         *\r\n         * @returns {Collapsible} Chainable.\r\n         */\r\n        open: function () {\r\n            if (this.collapsible) {\r\n                this.opened(true);\r\n            }\r\n\r\n            return this;\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/key-codes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([], function () {\r\n    'use strict';\r\n\r\n    return {\r\n        13: 'enterKey',\r\n        27: 'escapeKey',\r\n        40: 'pageDownKey',\r\n        38: 'pageUpKey',\r\n        32: 'spaceKey',\r\n        9:  'tabKey',\r\n        37: 'pageLeftKey',\r\n        39: 'pageRightKey',\r\n        17: 'ctrlKey',\r\n        18: 'altKey',\r\n        16: 'shiftKey',\r\n        66: 'bKey',\r\n        73: 'iKey',\r\n        85: 'uKey'\r\n    };\r\n});\r\n","Magento_Ui/js/lib/spinner.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    var selector = '[data-role=\"spinner\"]',\r\n        spinner = $(selector);\r\n\r\n    return {\r\n        /**\r\n         * Show spinner.\r\n         */\r\n        show: function () {\r\n            spinner.show();\r\n        },\r\n\r\n        /**\r\n         * Hide spinner.\r\n         */\r\n        hide: function () {\r\n            spinner.hide();\r\n        },\r\n\r\n        /**\r\n         * Get spinner by selector.\r\n         *\r\n         * @param {String} id\r\n         * @return {jQuery}\r\n         */\r\n        get: function (id) {\r\n            return $(selector + '[data-component=\"' + id + '\"]');\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/step-wizard.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'uiRegistry',\r\n    'uiComponent',\r\n    'jquery',\r\n    'underscore',\r\n    'ko',\r\n    'mage/backend/notification',\r\n    'mage/translate'\r\n], function (uiRegistry, Component, $, _, ko) {\r\n    'use strict';\r\n\r\n    var Wizard;\r\n\r\n    ko.utils.domNodeDisposal.cleanExternalData = _.wrap(\r\n        ko.utils.domNodeDisposal.cleanExternalData,\r\n        function (func, node) {\r\n            if (!$(node).closest('[data-type=skipKO]').length) {\r\n                func(node);\r\n            }\r\n        }\r\n    );\r\n\r\n    /**\r\n     * Wizard constructor.\r\n     *\r\n     * @param {Array} steps\r\n     * @param {String} modalClass\r\n     * @constructor\r\n     */\r\n    Wizard = function (steps, modalClass) {\r\n        this.steps = steps;\r\n        this.index = 0;\r\n        this.data = {};\r\n        this.nextLabelText = $.mage.__('Next');\r\n        this.prevLabelText = $.mage.__('Back');\r\n        this.elementSelector = '[data-role=steps-wizard-main]';\r\n        this.element = modalClass ? $('.' + modalClass + this.elementSelector) : $(this.elementSelector);\r\n        this.nextLabel = '[data-role=\"step-wizard-next\"]';\r\n        this.prevLabel = '[data-role=\"step-wizard-prev\"]';\r\n        this.element.notification();\r\n\r\n        /**\r\n         * Move to newIndex.\r\n         *\r\n         * @param {Number} newIndex\r\n         * @return {String}\r\n         */\r\n        this.move = function (newIndex) {\r\n            if (!this.preventSwitch(newIndex)) {\r\n                if (newIndex > this.index) {\r\n                    this._next(newIndex);\r\n                } else if (newIndex < this.index) {\r\n                    this._prev(newIndex);\r\n                }\r\n            }\r\n            this.updateLabels(this.getStep());\r\n            this.showNotificationMessage();\r\n\r\n            return this.getStep().name;\r\n        };\r\n\r\n        /**\r\n         * Move wizard to next step.\r\n         *\r\n         * @return {String}\r\n         */\r\n        this.next = function () {\r\n            this.move(this.index + 1);\r\n\r\n            return this.getStep().name;\r\n        };\r\n\r\n        /**\r\n         * Move wizard to previous step.\r\n         *\r\n         * @return {String}\r\n         */\r\n        this.prev = function () {\r\n            this.move(this.index - 1);\r\n\r\n            return this.getStep().name;\r\n        };\r\n\r\n        /**\r\n         * @return {*}\r\n         */\r\n        this.preventSwitch = function (newIndex) {\r\n            return newIndex < 0 || (newIndex - this.index) > 1;//eslint-disable-line no-extra-parens\r\n        };\r\n\r\n        /**\r\n         * @param {Number} newIndex\r\n         * @return {Boolean}\r\n         * @private\r\n         */\r\n        this._next = function (newIndex) {\r\n            newIndex = _.isNumber(newIndex) ? newIndex : this.index + 1;\r\n\r\n            try {\r\n                this.getStep().force(this);\r\n\r\n                if (newIndex >= steps.length) {\r\n                    return false;\r\n                }\r\n            } catch (e) {\r\n                this.setNotificationMessage(e.message, true);\r\n\r\n                return false;\r\n            }\r\n            this.cleanErrorNotificationMessage();\r\n            this.index = newIndex;\r\n            this.cleanNotificationMessage();\r\n            this.render();\r\n        };\r\n\r\n        /**\r\n         * @param {Number} newIndex\r\n         * @private\r\n         */\r\n        this._prev = function (newIndex) {\r\n            newIndex = _.isNumber(newIndex) ? newIndex : this.index - 1;\r\n            this.getStep().back(this);\r\n            this.index = newIndex;\r\n        };\r\n\r\n        /**\r\n         * @param {Number} stepIndex\r\n         * @return {Object}\r\n         */\r\n        this.getStep = function (stepIndex) {\r\n            return this.steps[stepIndex || this.index] || {};\r\n        };\r\n\r\n        /**\r\n         * @param {String} message\r\n         * @param {String} error\r\n         */\r\n        this.notifyMessage = function (message, error) {\r\n            $(this.element).notification('clear').notification('add', {\r\n                error: error,\r\n                message: message\r\n            });\r\n        };\r\n\r\n        /**\r\n         * @param {Object} step\r\n         */\r\n        this.updateLabels = function (step) {\r\n            this.element.find(this.nextLabel).find('button').text(step.nextLabelText || this.nextLabelText);\r\n            this.element.find(this.prevLabel).find('button').text(step.prevLabelText || this.prevLabelText);\r\n        };\r\n\r\n        /**\r\n         * Show notification message.\r\n         */\r\n        this.showNotificationMessage = function () {\r\n            if (!_.isEmpty(this.getStep())) {\r\n                this.hideNotificationMessage();\r\n\r\n                if (this.getStep().notificationMessage.text !== null) {\r\n                    this.notifyMessage(\r\n                        this.getStep().notificationMessage.text,\r\n                        this.getStep().notificationMessage.error\r\n                    );\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Remove notification message.\r\n         */\r\n        this.cleanNotificationMessage = function () {\r\n            this.getStep().notificationMessage.text = null;\r\n            this.hideNotificationMessage();\r\n        };\r\n\r\n        /**\r\n         * Remove error message.\r\n         */\r\n        this.cleanErrorNotificationMessage = function () {\r\n            if (this.getStep().notificationMessage.error === true) {\r\n                this.cleanNotificationMessage();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * @param {String} text\r\n         * @param {String} error\r\n         */\r\n        this.setNotificationMessage = function (text, error) {\r\n            error = error !== undefined;\r\n\r\n            if (!_.isEmpty(this.getStep())) {\r\n                this.getStep().notificationMessage.text = text;\r\n                this.getStep().notificationMessage.error = error;\r\n                this.showNotificationMessage();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Hide notification message.\r\n         */\r\n        this.hideNotificationMessage = function () {\r\n            $(this.element).notification('clear');\r\n        };\r\n\r\n        /**\r\n         * Render step.\r\n         */\r\n        this.render = function () {\r\n            this.hideNotificationMessage();\r\n            this.getStep().render(this);\r\n        };\r\n\r\n        /**\r\n         * Initialize step.\r\n         */\r\n        this.init = function () {\r\n            this.updateLabels(this.getStep());\r\n            this.render();\r\n        };\r\n        this.init();\r\n    };\r\n\r\n    return Component.extend({\r\n        defaults: {\r\n            modalClass: '',\r\n            initData: [],\r\n            stepsNames: [],\r\n            selectedStep: '',\r\n            steps: [],\r\n            disabled: true\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initialize: function () {\r\n            this._super();\r\n            this.selectedStep.subscribe(this.wrapDisabledBackButton.bind(this));\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initElement: function (step) {\r\n            step.initData = this.initData;\r\n            step.mode = _.all(this.initData, _.isEmpty) ? 'create' : 'edit';\r\n            this.steps[this.getStepIndexByName(step.name)] = step;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        initObservable: function () {\r\n            this._super().observe([\r\n                'selectedStep',\r\n                'disabled'\r\n            ]);\r\n\r\n            return this;\r\n        },\r\n\r\n        /** @inheritdoc */\r\n        destroy: function () {\r\n            _.each(this.steps, function (step) {\r\n                step.destroy();\r\n            });\r\n\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Toggle disable property.\r\n         *\r\n         * @param {String} stepName\r\n         */\r\n        wrapDisabledBackButton: function (stepName) {\r\n            if (_.first(this.stepsNames) === stepName) {\r\n                this.disabled(true);\r\n            } else {\r\n                this.disabled(false);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get step by index name.\r\n         *\r\n         * @param {String} stepName\r\n         */\r\n        getStepIndexByName: function (stepName) {\r\n            return _.indexOf(this.stepsNames, stepName);\r\n        },\r\n        //controls, todo to another object\r\n        /**\r\n         * Select next step.\r\n         */\r\n        next: function () {\r\n            this.selectedStep(this.wizard.next());\r\n        },\r\n\r\n        /**\r\n         * Select previous step.\r\n         */\r\n        back: function () {\r\n            this.selectedStep(this.wizard.prev());\r\n        },\r\n\r\n        /**\r\n         * Open wizard.\r\n         */\r\n        open: function () {\r\n            this.selectedStep(this.stepsNames.first());\r\n            this.wizard = new Wizard(this.steps, this.modalClass);\r\n        },\r\n\r\n        /**\r\n         * Close wizard.\r\n         */\r\n        close: function () {\r\n            var modal =  uiRegistry.get(this.initData.configurableModal);\r\n\r\n            if (!_.isUndefined(modal)) {\r\n                modal.closeModal();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @param {Object} data\r\n         * @param {Object} event\r\n         */\r\n        showSpecificStep: function (data, event) {\r\n            var index = _.indexOf(this.stepsNames, event.target.hash.substr(1)),\r\n                stepName = this.wizard.move(index);\r\n\r\n            this.selectedStep(stepName);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/core/class.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'mage/utils/wrapper'\r\n], function (_, utils, wrapper) {\r\n    'use strict';\r\n\r\n    var Class;\r\n\r\n    /**\r\n     * Returns property of an object if\r\n     * it's his own property.\r\n     *\r\n     * @param {Object} obj - Object whose property should be retrieved.\r\n     * @param {String} prop - Name of the property.\r\n     * @returns {*} Value of the property or false.\r\n     */\r\n    function getOwn(obj, prop) {\r\n        return _.isObject(obj) && obj.hasOwnProperty(prop) && obj[prop];\r\n    }\r\n\r\n    /**\r\n     * Creates constructor function which allows\r\n     * initialization without usage of a 'new' operator.\r\n     *\r\n     * @param {Object} protoProps - Prototypal properties of a new constructor.\r\n     * @param {Function} constructor\r\n     * @returns {Function} Created constructor.\r\n     */\r\n    function createConstructor(protoProps, constructor) {\r\n        var UiClass = constructor;\r\n\r\n        if (!UiClass) {\r\n\r\n            /**\r\n             * Default constructor function.\r\n             */\r\n            UiClass = function () {\r\n                var obj = this;\r\n\r\n                if (!_.isObject(obj) || Object.getPrototypeOf(obj) !== UiClass.prototype) {\r\n                    obj = Object.create(UiClass.prototype);\r\n                }\r\n\r\n                obj.initialize.apply(obj, arguments);\r\n\r\n                return obj;\r\n            };\r\n        }\r\n\r\n        UiClass.prototype = protoProps;\r\n        UiClass.prototype.constructor = UiClass;\r\n\r\n        return UiClass;\r\n    }\r\n\r\n    Class = createConstructor({\r\n\r\n        /**\r\n         * Entry point to the initialization of constructor's instance.\r\n         *\r\n         * @param {Object} [options={}]\r\n         * @returns {Class} Chainable.\r\n         */\r\n        initialize: function (options) {\r\n            this.initConfig(options);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Recursively extends data specified in constructors' 'defaults'\r\n         * property with provided options object. Evaluates resulting\r\n         * object using string templates (see: mage/utils/template.js).\r\n         *\r\n         * @param {Object} [options={}]\r\n         * @returns {Class} Chainable.\r\n         */\r\n        initConfig: function (options) {\r\n            var defaults    = this.constructor.defaults,\r\n                config      = utils.extend({}, defaults, options || {}),\r\n                ignored     = config.ignoreTmpls || {},\r\n                cached      = utils.omit(config, ignored);\r\n\r\n            config = utils.template(config, this, false, true);\r\n\r\n            _.each(cached, function (value, key) {\r\n                utils.nested(config, key, value);\r\n            });\r\n\r\n            return _.extend(this, config);\r\n        }\r\n    });\r\n\r\n    _.extend(Class, {\r\n        defaults: {\r\n            ignoreTmpls: {\r\n                templates: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Creates new constructor based on a current prototype properties,\r\n         * extending them with properties specified in 'exender' object.\r\n         *\r\n         * @param {Object} [extender={}]\r\n         * @returns {Function} New constructor.\r\n         */\r\n        extend: function (extender) {\r\n            var parent      = this,\r\n                parentProto = parent.prototype,\r\n                childProto  = Object.create(parentProto),\r\n                child       = createConstructor(childProto, getOwn(extender, 'constructor')),\r\n                defaults;\r\n\r\n            extender = extender || {};\r\n            defaults = extender.defaults;\r\n\r\n            delete extender.defaults;\r\n\r\n            _.each(extender, function (method, name) {\r\n                childProto[name] = wrapper.wrapSuper(parentProto[name], method);\r\n            });\r\n\r\n            child.defaults = utils.extend({}, parent.defaults || {});\r\n\r\n            if (defaults) {\r\n                utils.extend(child.defaults, defaults);\r\n                extender.defaults = defaults;\r\n            }\r\n\r\n            return _.extend(child, {\r\n                __super__:  parentProto,\r\n                extend:     parent.extend\r\n            });\r\n        }\r\n    });\r\n\r\n    return Class;\r\n});\r\n","Magento_Ui/js/lib/core/collection.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    'uiElement'\r\n], function (_, utils, registry, Element) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Removes non plain object items from the specified array.\r\n     *\r\n     * @param {Array} container - Array whose value should be filtered.\r\n     * @returns {Array}\r\n     */\r\n    function compact(container) {\r\n        return container.filter(utils.isObject);\r\n    }\r\n\r\n    return Element.extend({\r\n        defaults: {\r\n            template: 'ui/collection',\r\n            _elems: [],\r\n            ignoreTmpls: {\r\n                childDefaults: true\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Model} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            this._super()\r\n                .observe({\r\n                    elems: []\r\n                });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when another element was added to current component.\r\n         *\r\n         * @param {Object} elem - Instance of an element that was added.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        initElement: function (elem) {\r\n            elem.initContainer(this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Returns instance of a child found by provided index.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {Object}\r\n         */\r\n        getChild: function (index) {\r\n            return _.findWhere(this.elems(), {\r\n                index: index\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Requests specified components to insert\r\n         * them into 'elems' array starting from provided position.\r\n         *\r\n         * @param {(String|Array)} elems - Name of the component to insert.\r\n         * @param {Number} [position=-1] - Position at which to insert elements.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        insertChild: function (elems, position) {\r\n            var container   = this._elems,\r\n                insert      = this._insert.bind(this),\r\n                update;\r\n\r\n            if (!Array.isArray(elems)) {\r\n                elems = [elems];\r\n            }\r\n\r\n            elems.map(function (item) {\r\n                return item.elem ?\r\n                    utils.insert(item.elem, container, item.position) :\r\n                    utils.insert(item, container, position);\r\n            }).forEach(function (item) {\r\n                if (item === true) {\r\n                    update = true;\r\n                } else if (_.isString(item)) {\r\n                    registry.get(item, insert);\r\n                } else if (utils.isObject(item)) {\r\n                    insert(item);\r\n                }\r\n            });\r\n\r\n            if (update) {\r\n                this._updateCollection();\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes specified child from collection.\r\n         *\r\n         * @param {(Object|String)} elem - Child or index of a child to be removed.\r\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\r\n         *\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        removeChild: function (elem, skipUpdate) {\r\n            if (_.isString(elem)) {\r\n                elem = this.getChild(elem);\r\n            }\r\n\r\n            if (elem) {\r\n                utils.remove(this._elems, elem);\r\n\r\n                if (!skipUpdate) {\r\n                    this._updateCollection();\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys collection children with its' elements.\r\n         */\r\n        destroyChildren: function () {\r\n            this.elems.each(function (elem) {\r\n                elem.destroy(true);\r\n            });\r\n\r\n            this._updateCollection();\r\n        },\r\n\r\n        /**\r\n         * Clear data. Call method \"clear\"\r\n         * in child components\r\n         *\r\n         * @returns {Object} Chainable.\r\n         */\r\n        clear: function () {\r\n            var elems = this.elems();\r\n\r\n            _.each(elems, function (elem) {\r\n                if (_.isFunction(elem.clear)) {\r\n                    elem.clear();\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified child exists in collection.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {Boolean}\r\n         */\r\n        hasChild: function (index) {\r\n            return !!this.getChild(index);\r\n        },\r\n\r\n        /**\r\n         * Creates 'async' wrapper for the specified child\r\n         * using uiRegistry 'async' method and caches it\r\n         * in a '_requested' components  object.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {Function} Async module wrapper.\r\n         */\r\n        requestChild: function (index) {\r\n            var name = this.formChildName(index);\r\n\r\n            return this.requestModule(name);\r\n        },\r\n\r\n        /**\r\n         * Creates complete child name based on a provided index.\r\n         *\r\n         * @param {String} index - Index of a child.\r\n         * @returns {String}\r\n         */\r\n        formChildName: function (index) {\r\n            return this.name + '.' + index;\r\n        },\r\n\r\n        /**\r\n         * Retrieves requested region.\r\n         * Creates region if it was not created yet\r\n         *\r\n         * @returns {ObservableArray}\r\n         */\r\n        getRegion: function (name) {\r\n            var regions = this.regions = this.regions || {};\r\n\r\n            if (!regions[name]) {\r\n                regions[name] = [];\r\n\r\n                this.observe.call(regions, name);\r\n            }\r\n\r\n            return regions[name];\r\n        },\r\n\r\n        /**\r\n         * Replaces specified regions' data with a provided one.\r\n         * Creates region if it was not created yet.\r\n         *\r\n         * @param {Array} items - New regions' data.\r\n         * @param {String} name - Name of the region.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        updateRegion: function (items, name) {\r\n            this.getRegion(name)(items);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys collection along with its' elements.\r\n         */\r\n        destroy: function () {\r\n            this._super();\r\n\r\n            this.elems.each('destroy');\r\n        },\r\n\r\n        /**\r\n         * Inserts provided component into 'elems' array at a specified position.\r\n         * @private\r\n         *\r\n         * @param {Object} elem - Element to insert.\r\n         */\r\n        _insert: function (elem) {\r\n            var index = this._elems.indexOf(elem.name);\r\n\r\n            if (~index) {\r\n                this._elems[index] = elem;\r\n            }\r\n\r\n            this._updateCollection()\r\n                .initElement(elem);\r\n        },\r\n\r\n        /**\r\n         * Synchronizes multiple elements arrays with a core '_elems' container.\r\n         * Performs elemets grouping by theirs 'displayArea' property.\r\n         * @private\r\n         *\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        _updateCollection: function () {\r\n            var _elems = compact(this._elems),\r\n                grouped;\r\n\r\n            grouped = _elems.filter(function (elem) {\r\n                return elem.displayArea && _.isString(elem.displayArea);\r\n            });\r\n            grouped = _.groupBy(grouped, 'displayArea');\r\n\r\n            _.each(grouped, this.updateRegion, this);\r\n\r\n            _.each(this.regions, function (items) {\r\n                var hasObsoleteComponents = items().length && !_.intersection(_elems, items()).length;\r\n\r\n                if (hasObsoleteComponents) {\r\n                    items.removeAll();\r\n                }\r\n            });\r\n\r\n            this.elems(_elems);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Tries to call specified method of a current component,\r\n         * otherwise delegates attempt to its' children.\r\n         *\r\n         * @param {String} target - Name of the method.\r\n         * @param {...*} parameters - Arguments that will be passed to method.\r\n         * @returns {*} Result of the method calls.\r\n         */\r\n        delegate: function (target) {\r\n            var args = _.toArray(arguments);\r\n\r\n            target = this[target];\r\n\r\n            if (_.isFunction(target)) {\r\n                return target.apply(this, args.slice(1));\r\n            }\r\n\r\n            return this._delegate(args);\r\n        },\r\n\r\n        /**\r\n         * Calls 'delegate' method of all of it's children components.\r\n         * @private\r\n         *\r\n         * @param {Array} args - An array of arguments to pass to the next delegation call.\r\n         * @returns {Array} An array of delegation results.\r\n         */\r\n        _delegate: function (args) {\r\n            var result;\r\n\r\n            result = this.elems.map(function (elem) {\r\n                var target;\r\n\r\n                if (!_.isFunction(elem.delegate)) {\r\n                    target = elem[args[0]];\r\n\r\n                    if (_.isFunction(target)) {\r\n                        return target.apply(elem, args.slice(1));\r\n                    }\r\n                } else {\r\n                    return elem.delegate.apply(elem, args);\r\n                }\r\n            });\r\n\r\n            return _.flatten(result);\r\n        }\r\n    });\r\n});\r\n","Magento_Ui/js/lib/core/events.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global WeakMap, Map*/\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'es6-collections'\r\n], function (ko, _) {\r\n    'use strict';\r\n\r\n    var eventsMap = new WeakMap();\r\n\r\n    /**\r\n     * Returns events map or a specific event\r\n     * data associated with a provided object.\r\n     *\r\n     * @param {Object} obj - Key in the events weakmap.\r\n     * @param {String} [name] - Name of the event.\r\n     * @returns {Map|Array|Boolean}\r\n     */\r\n    function getEvents(obj, name) {\r\n        var events = eventsMap.get(obj);\r\n\r\n        if (!events) {\r\n            return false;\r\n        }\r\n\r\n        return name ? events.get(name) : events;\r\n    }\r\n\r\n    /**\r\n     * Adds new event handler.\r\n     *\r\n     * @param {Object} obj - Key in the events weakmap.\r\n     * @param {String} ns - Callback namespace.\r\n     * @param {Function} callback - Event callback.\r\n     * @param {String} name - Name of the event.\r\n     */\r\n    function addHandler(obj, ns, callback, name) {\r\n        var events      = getEvents(obj),\r\n            observable,\r\n            data;\r\n\r\n        observable = !ko.isObservable(obj[name]) ?\r\n            ko.getObservable(obj, name) :\r\n            obj[name];\r\n\r\n        if (observable) {\r\n            observable.subscribe(callback);\r\n\r\n            return;\r\n        }\r\n\r\n        if (!events) {\r\n            events = new Map();\r\n\r\n            eventsMap.set(obj, events);\r\n        }\r\n\r\n        data = {\r\n            callback: callback,\r\n            ns: ns\r\n        };\r\n\r\n        events.has(name) ?\r\n            events.get(name).push(data) :\r\n            events.set(name, [data]);\r\n    }\r\n\r\n    /**\r\n     * Invokes provided callbacks with a specified arguments.\r\n     *\r\n     * @param {Array} handlers\r\n     * @param {Array} args\r\n     * @returns {Boolean}\r\n     */\r\n    function trigger(handlers, args) {\r\n        var bubble = true,\r\n            callback;\r\n\r\n        handlers.forEach(function (handler) {\r\n            callback = handler.callback;\r\n\r\n            if (callback.apply(null, args) === false) {\r\n                bubble = false;\r\n            }\r\n        });\r\n\r\n        return bubble;\r\n    }\r\n\r\n    return {\r\n\r\n        /**\r\n         * Calls callback when name event is triggered.\r\n         * @param  {String}   events\r\n         * @param  {Function} callback\r\n         * @param  {Function} ns\r\n         * @return {Object} reference to this\r\n         */\r\n        on: function (events, callback, ns) {\r\n            var iterator;\r\n\r\n            if (arguments.length < 2) {\r\n                ns = callback;\r\n            }\r\n\r\n            iterator = addHandler.bind(null, this, ns);\r\n\r\n            _.isObject(events) ?\r\n                _.each(events, iterator) :\r\n                iterator(callback, events);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removed callback from listening to target event\r\n         * @param  {String} ns\r\n         * @return {Object} reference to this\r\n         */\r\n        off: function (ns) {\r\n            var storage = getEvents(this);\r\n\r\n            if (!storage) {\r\n                return this;\r\n            }\r\n\r\n            storage.forEach(function (handlers, name) {\r\n                handlers = handlers.filter(function (handler) {\r\n                    return !ns ? false : handler.ns !== ns;\r\n                });\r\n\r\n                handlers.length ?\r\n                    storage.set(name, handlers) :\r\n                    storage.delete(name);\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Triggers event and executes all attached callbacks.\r\n         *\r\n         * @param {String} name - Name of the event to be triggered.\r\n         * @returns {Boolean}\r\n         */\r\n        trigger: function (name) {\r\n            var handlers,\r\n                args;\r\n\r\n            handlers = getEvents(this, name),\r\n            args = _.toArray(arguments).slice(1);\r\n\r\n            if (!handlers || !name) {\r\n                return true;\r\n            }\r\n\r\n            return trigger(handlers, args);\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/core/element/element.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/**\r\n * @api\r\n */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry',\r\n    'uiEvents',\r\n    'uiClass',\r\n    './links',\r\n    '../storage/local'\r\n], function (ko, _, utils, registry, Events, Class, links) {\r\n    'use strict';\r\n\r\n    var Element;\r\n\r\n    /**\r\n     * Creates observable property using knockouts'\r\n     * 'observableArray' or 'observable' methods,\r\n     * depending on a type of 'value' parameter.\r\n     *\r\n     * @param {Object} obj - Object to whom property belongs.\r\n     * @param {String} key - Key of the property.\r\n     * @param {*} value - Initial value.\r\n     */\r\n    function observable(obj, key, value) {\r\n        var method = Array.isArray(value) ? 'observableArray' : 'observable';\r\n\r\n        if (_.isFunction(obj[key]) && !ko.isObservable(obj[key])) {\r\n            return;\r\n        }\r\n\r\n        if (ko.isObservable(value)) {\r\n            value = value();\r\n        }\r\n\r\n        ko.isObservable(obj[key]) ?\r\n            obj[key](value) :\r\n            obj[key] = ko[method](value);\r\n    }\r\n\r\n    /**\r\n     * Creates observable property using 'track' method.\r\n     *\r\n     * @param {Object} obj - Object to whom property belongs.\r\n     * @param {String} key - Key of the property.\r\n     * @param {*} value - Initial value.\r\n     */\r\n    function accessor(obj, key, value) {\r\n        if (_.isFunction(obj[key]) || ko.isObservable(obj[key])) {\r\n            return;\r\n        }\r\n\r\n        obj[key] = value;\r\n\r\n        if (!ko.es5.isTracked(obj, key)) {\r\n            ko.track(obj, [key]);\r\n        }\r\n    }\r\n\r\n    Element = _.extend({\r\n        defaults: {\r\n            _requested: {},\r\n            containers: [],\r\n            exports: {},\r\n            imports: {},\r\n            links: {},\r\n            listens: {},\r\n            name: '',\r\n            ns: '${ $.name.split(\".\")[0] }',\r\n            provider: '',\r\n            registerNodes: true,\r\n            source: null,\r\n            statefull: {},\r\n            template: '',\r\n            tracks: {},\r\n            storageConfig: {\r\n                provider: 'localStorage',\r\n                namespace: '${ $.name }',\r\n                path: '${ $.storageConfig.provider }:${ $.storageConfig.namespace }'\r\n            },\r\n            maps: {\r\n                imports: {},\r\n                exports: {}\r\n            },\r\n            modules: {\r\n                storage: '${ $.storageConfig.provider }'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Initializes model instance.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initialize: function () {\r\n            this._super()\r\n                .initObservable()\r\n                .initModules()\r\n                .initStatefull()\r\n                .initLinks()\r\n                .initUnique();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes observable properties.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initObservable: function () {\r\n            _.each(this.tracks, function (enabled, key) {\r\n                if (enabled) {\r\n                    this.track(key);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Parses 'modules' object and creates\r\n         * async wrappers for specified components.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initModules: function () {\r\n            _.each(this.modules, function (name, property) {\r\n                if (name) {\r\n                    this[property] = this.requestModule(name);\r\n                }\r\n            }, this);\r\n\r\n            if (!_.isFunction(this.source)) {\r\n                this.source = registry.get(this.provider);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Called when current element was injected to another component.\r\n         *\r\n         * @param {Object} parent - Instance of a 'parent' component.\r\n         * @returns {Collection} Chainable.\r\n         */\r\n        initContainer: function (parent) {\r\n            this.containers.push(parent);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes statefull properties\r\n         * based on the keys of 'statefull' object.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initStatefull: function () {\r\n            _.each(this.statefull, function (path, key) {\r\n                if (path) {\r\n                    this.setStatefull(key, path);\r\n                }\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Initializes links between properties.\r\n         *\r\n         * @returns {Element} Chainbale.\r\n         */\r\n        initLinks: function () {\r\n            return this.setListeners(this.listens)\r\n                       .setLinks(this.links, 'imports')\r\n                       .setLinks(this.links, 'exports')\r\n                       .setLinks(this.exports, 'exports')\r\n                       .setLinks(this.imports, 'imports');\r\n        },\r\n\r\n        /**\r\n         * Initializes listeners of the unique property.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        initUnique: function () {\r\n            var update = this.onUniqueUpdate.bind(this),\r\n                uniqueNs = this.uniqueNs;\r\n\r\n            this.hasUnique = this.uniqueProp && uniqueNs;\r\n\r\n            if (this.hasUnique) {\r\n                this.source.on(uniqueNs, update, this.name);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Makes specified property to be stored automatically.\r\n         *\r\n         * @param {String} key - Name of the property\r\n         *      that will be stored.\r\n         * @param {String} [path=key] - Path to the property in storage.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        setStatefull: function (key, path) {\r\n            var link = {};\r\n\r\n            path        = !_.isString(path) || !path ? key : path;\r\n            link[key]   = this.storageConfig.path + '.' + path;\r\n\r\n            this.setLinks(link, 'imports')\r\n                .setLinks(link, 'exports');\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates property specified in uniqueNs\r\n         * if elements' unique property is set to 'true'.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        setUnique: function () {\r\n            var property = this.uniqueProp;\r\n\r\n            if (this[property]()) {\r\n                this.source.set(this.uniqueNs, this.name);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates 'async' wrapper for the specified component\r\n         * using uiRegistry 'async' method and caches it\r\n         * in a '_requested' components  object.\r\n         *\r\n         * @param {String} name - Name of requested component.\r\n         * @returns {Function} Async module wrapper.\r\n         */\r\n        requestModule: function (name) {\r\n            var requested = this._requested;\r\n\r\n            if (!requested[name]) {\r\n                requested[name] = registry.async(name);\r\n            }\r\n\r\n            return requested[name];\r\n        },\r\n\r\n        /**\r\n         * Returns path to elements' template.\r\n         *\r\n         * @returns {String}\r\n         */\r\n        getTemplate: function () {\r\n            return this.template;\r\n        },\r\n\r\n        /**\r\n         * Checks if template was specified for an element.\r\n         *\r\n         * @returns {Boolean}\r\n         */\r\n        hasTemplate: function () {\r\n            return !!this.template;\r\n        },\r\n\r\n        /**\r\n         * Returns value of the nested property.\r\n         *\r\n         * @param {String} path - Path to the property.\r\n         * @returns {*} Value of the property.\r\n         */\r\n        get: function (path) {\r\n            return utils.nested(this, path);\r\n        },\r\n\r\n        /**\r\n         * Sets provided value as a value of the specified nested property.\r\n         * Triggers changes notifications, if value has mutated.\r\n         *\r\n         * @param {String} path - Path to property.\r\n         * @param {*} value - New value of the property.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        set: function (path, value) {\r\n            var data = this.get(path),\r\n                diffs;\r\n\r\n            diffs = !_.isFunction(data) && !this.isTracked(path) ?\r\n                utils.compare(data, value, path) :\r\n                false;\r\n\r\n            utils.nested(this, path, value);\r\n\r\n            if (diffs) {\r\n                this._notifyChanges(diffs);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes nested property from the object.\r\n         *\r\n         * @param {String} path - Path to the property.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        remove: function (path) {\r\n            var data = utils.nested(this, path),\r\n                diffs;\r\n\r\n            if (_.isUndefined(data) || _.isFunction(data)) {\r\n                return this;\r\n            }\r\n\r\n            diffs = utils.compare(data, undefined, path);\r\n\r\n            utils.nestedRemove(this, path);\r\n\r\n            this._notifyChanges(diffs);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates observable properties for the current object.\r\n         *\r\n         * If 'useTrack' flag is set to 'true' then each property will be\r\n         * created with a ES5 get/set accessor descriptors, instead of\r\n         * making them an observable functions.\r\n         * See 'knockout-es5' library for more information.\r\n         *\r\n         * @param {Boolean} [useAccessors=false] - Whether to create an\r\n         *      observable function or to use property accesessors.\r\n         * @param {(Object|String|Array)} properties - List of observable properties.\r\n         * @returns {Element} Chainable.\r\n         *\r\n         * @example Sample declaration and equivalent knockout methods.\r\n         *      this.key = 'value';\r\n         *      this.array = ['value'];\r\n         *\r\n         *      this.observe(['key', 'array']);\r\n         *      =>\r\n         *          this.key = ko.observable('value');\r\n         *          this.array = ko.observableArray(['value']);\r\n         *\r\n         * @example Another syntaxes of the previous example.\r\n         *      this.observe({\r\n         *          key: 'value',\r\n         *          array: ['value']\r\n         *      });\r\n         */\r\n        observe: function (useAccessors, properties) {\r\n            var model = this,\r\n                trackMethod;\r\n\r\n            if (typeof useAccessors !== 'boolean') {\r\n                properties   = useAccessors;\r\n                useAccessors = false;\r\n            }\r\n\r\n            trackMethod = useAccessors ? accessor : observable;\r\n\r\n            if (_.isString(properties)) {\r\n                properties = properties.split(' ');\r\n            }\r\n\r\n            if (Array.isArray(properties)) {\r\n                properties.forEach(function (key) {\r\n                    trackMethod(model, key, model[key]);\r\n                });\r\n            } else if (typeof properties === 'object') {\r\n                _.each(properties, function (value, key) {\r\n                    trackMethod(model, key, value);\r\n                });\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Delegates call to 'observe' method but\r\n         * with a predefined 'useAccessors' flag.\r\n         *\r\n         * @param {(String|Array|Object)} properties - List of observable properties.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        track: function (properties) {\r\n            this.observe(true, properties);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if specified property is tracked.\r\n         *\r\n         * @param {String} property - Property to be checked.\r\n         * @returns {Boolean}\r\n         */\r\n        isTracked: function (property) {\r\n            return ko.es5.isTracked(this, property);\r\n        },\r\n\r\n        /**\r\n         * Invokes subscribers for the provided changes.\r\n         *\r\n         * @param {Object} diffs - Object with changes descriptions.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        _notifyChanges: function (diffs) {\r\n            diffs.changes.forEach(function (change) {\r\n                this.trigger(change.path, change.value, change);\r\n            }, this);\r\n\r\n            _.each(diffs.containers, function (changes, name) {\r\n                var value = utils.nested(this, name);\r\n\r\n                this.trigger(name, value, changes);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extracts all stored data and sets it to element.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        restore: function () {\r\n            var ns = this.storageConfig.namespace,\r\n                storage = this.storage();\r\n\r\n            if (storage) {\r\n                utils.extend(this, storage.get(ns));\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stores value of the specified property in components' storage module.\r\n         *\r\n         * @param {String} property\r\n         * @param {*} [data=this[property]]\r\n         * @returns {Element} Chainable.\r\n         */\r\n        store: function (property, data) {\r\n            var ns = this.storageConfig.namespace,\r\n                path = utils.fullPath(ns, property);\r\n\r\n            if (arguments.length < 2) {\r\n                data = this.get(property);\r\n            }\r\n\r\n            this.storage('set', path, data);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Extracts specified property from storage.\r\n         *\r\n         * @param {String} [property] - Name of the property\r\n         *      to be extracted. If not specified then all of the\r\n         *      stored will be returned.\r\n         * @returns {*}\r\n         */\r\n        getStored: function (property) {\r\n            var ns = this.storageConfig.namespace,\r\n                path = utils.fullPath(ns, property),\r\n                storage = this.storage(),\r\n                data;\r\n\r\n            if (storage) {\r\n                data = storage.get(path);\r\n            }\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Removes stored property.\r\n         *\r\n         * @param {String} property - Property to be removed from storage.\r\n         * @returns {Element} Chainable.\r\n         */\r\n        removeStored: function (property) {\r\n            var ns = this.storageConfig.namespace,\r\n                path = utils.fullPath(ns, property);\r\n\r\n            this.storage('remove', path);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Destroys current instance along with all of its' children.\r\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\r\n         */\r\n        destroy: function (skipUpdate) {\r\n            this._dropHandlers()\r\n                ._clearRefs(skipUpdate);\r\n        },\r\n\r\n        /**\r\n         * Removes events listeners.\r\n         * @private\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        _dropHandlers: function () {\r\n            this.off();\r\n\r\n            if (_.isFunction(this.source)) {\r\n                this.source().off(this.name);\r\n            } else if (this.source) {\r\n                this.source.off(this.name);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes all references to current instance and\r\n         * calls 'destroy' method on all of its' children.\r\n         * @private\r\n         * @param {Boolean} skipUpdate - skip collection update when element to be destroyed.\r\n         *\r\n         * @returns {Element} Chainable.\r\n         */\r\n        _clearRefs: function (skipUpdate) {\r\n            registry.remove(this.name);\r\n\r\n            this.containers.forEach(function (parent) {\r\n                parent.removeChild(this, skipUpdate);\r\n            }, this);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Overrides 'EventsBus.trigger' method to implement events bubbling.\r\n         *\r\n         * @param {...*} arguments - Any number of arguments that should be passed to the events' handler.\r\n         * @returns {Boolean} False if event bubbling was canceled.\r\n         */\r\n        bubble: function () {\r\n            var args = _.toArray(arguments),\r\n                bubble = this.trigger.apply(this, args),\r\n                result;\r\n\r\n            if (!bubble) {\r\n                return false;\r\n            }\r\n\r\n            this.containers.forEach(function (parent) {\r\n                result = parent.bubble.apply(parent, args);\r\n\r\n                if (result === false) {\r\n                    bubble = false;\r\n                }\r\n            });\r\n\r\n            return !!bubble;\r\n        },\r\n\r\n        /**\r\n         * Callback which fires when property under uniqueNs has changed.\r\n         */\r\n        onUniqueUpdate: function (name) {\r\n            var active = name === this.name,\r\n                property = this.uniqueProp;\r\n\r\n            this[property](active);\r\n        },\r\n\r\n        /**\r\n         * Clean data form data source.\r\n         *\r\n         * @returns {Element}\r\n         */\r\n        cleanData: function () {\r\n            if (this.source && this.source.componentType === 'dataSource') {\r\n                if (this.elems) {\r\n                    _.each(this.elems(), function (val) {\r\n                        val.cleanData();\r\n                    });\r\n                } else {\r\n                    this.source.remove(this.dataScope);\r\n                }\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Fallback data.\r\n         */\r\n        cacheData: function () {\r\n            this.cachedComponent = utils.copy(this);\r\n        },\r\n\r\n        /**\r\n         * Update configuration in component.\r\n         *\r\n         * @param {*} oldValue\r\n         * @param {*} newValue\r\n         * @param {String} path - path to value.\r\n         * @returns {Element}\r\n         */\r\n        updateConfig: function (oldValue, newValue, path) {\r\n            var names = path.split('.'),\r\n                index = _.lastIndexOf(names, 'config') + 1;\r\n\r\n            names = names.splice(index, names.length - index).join('.');\r\n            this.set(names, newValue);\r\n\r\n            return this;\r\n        }\r\n    }, Events, links);\r\n\r\n    return Class.extend(Element);\r\n});\r\n","Magento_Ui/js/lib/core/element/links.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mageUtils',\r\n    'uiRegistry'\r\n], function (ko, _, utils, registry) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Parse provided data.\r\n     *\r\n     * @param {String} placeholder\r\n     * @param {String} data\r\n     * @param {String} direction\r\n     * @returns {Boolean|Object}\r\n     */\r\n    function parseData(placeholder, data, direction) {\r\n        if (typeof data !== 'string') {\r\n            return false;\r\n        }\r\n\r\n        data = data.split(':');\r\n\r\n        if (!data[0]) {\r\n            return false;\r\n        }\r\n\r\n        if (!data[1]) {\r\n            data[1] = data[0];\r\n            data[0] = placeholder;\r\n        }\r\n\r\n        return {\r\n            target: data[0],\r\n            property: data[1],\r\n            direction: direction\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Check if value not empty.\r\n     *\r\n     * @param {*} value\r\n     * @returns {Boolean}\r\n     */\r\n    function notEmpty(value) {\r\n        return typeof value !== 'undefined' && value != null;\r\n    }\r\n\r\n    /**\r\n     * Update value for linked component.\r\n     *\r\n     * @param {Object} data\r\n     * @param {Object} owner\r\n     * @param {Object} target\r\n     * @param {*} value\r\n     */\r\n    function updateValue(data, owner, target, value) {\r\n        var component = target.component,\r\n            property = target.property,\r\n            linked = data.linked;\r\n\r\n        if (data.mute) {\r\n            return;\r\n        }\r\n\r\n        if (linked) {\r\n            linked.mute = true;\r\n        }\r\n\r\n        if (owner.component !== target.component) {\r\n            value = data.inversionValue ? !utils.copy(value) : utils.copy(value);\r\n        }\r\n\r\n        component.set(property, value, owner);\r\n\r\n        if (linked) {\r\n            linked.mute = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get value form owner component property.\r\n     *\r\n     * @param {Object} owner\r\n     * @returns {*}\r\n     */\r\n    function getValue(owner) {\r\n        var component = owner.component,\r\n            property = owner.property;\r\n\r\n        return component.get(property);\r\n    }\r\n\r\n    /**\r\n     * Format provided params to object.\r\n     *\r\n     * @param {String} ownerComponent\r\n     * @param {String} targetComponent\r\n     * @param {String} ownerProp\r\n     * @param {String} targetProp\r\n     * @param {String} direction\r\n     * @returns {Object}\r\n     */\r\n    function form(ownerComponent, targetComponent, ownerProp, targetProp, direction) {\r\n        var result,\r\n            tmp;\r\n\r\n        result = {\r\n            owner: {\r\n                component: ownerComponent,\r\n                property: ownerProp\r\n            },\r\n            target: {\r\n                component: targetComponent,\r\n                property: targetProp\r\n            }\r\n        };\r\n\r\n        if (direction === 'exports') {\r\n            tmp = result.owner;\r\n            result.owner = result.target;\r\n            result.target = tmp;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Set data to linked property.\r\n     *\r\n     * @param {Object} map\r\n     * @param {Object} data\r\n     */\r\n    function setLinked(map, data) {\r\n        var match;\r\n\r\n        if (!map) {\r\n            return;\r\n        }\r\n\r\n        match = _.findWhere(map, {\r\n            linked: false,\r\n            target: data.target,\r\n            property: data.property\r\n        });\r\n\r\n        if (match) {\r\n            match.linked = data;\r\n            data.linked = match;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set data by direction.\r\n     *\r\n     * @param {Object} maps\r\n     * @param {String} property\r\n     * @param {Object} data\r\n     */\r\n    function setData(maps, property, data) {\r\n        var direction   = data.direction,\r\n            map         = maps[direction];\r\n\r\n        data.linked = false;\r\n\r\n        (map[property] = map[property] || []).push(data);\r\n\r\n        direction = direction === 'imports' ? 'exports' : 'imports';\r\n\r\n        setLinked(maps[direction][property], data);\r\n    }\r\n\r\n    /**\r\n     * Set links for components.\r\n     *\r\n     * @param {String} target\r\n     * @param {String} owner\r\n     * @param {Object} data\r\n     * @param {String} property\r\n     * @param {Boolean} immediate\r\n     */\r\n    function setLink(target, owner, data, property, immediate) {\r\n        var direction = data.direction,\r\n            formated = form(target, owner, data.property, property, direction),\r\n            callback,\r\n            value;\r\n\r\n        owner = formated.owner;\r\n        target = formated.target;\r\n\r\n        callback = updateValue.bind(null, data, owner, target);\r\n\r\n        owner.component.on(owner.property, callback, target.component.name);\r\n\r\n        if (immediate) {\r\n            value = getValue(owner);\r\n\r\n            if (notEmpty(value)) {\r\n                updateValue(data, owner, target, value);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Transfer data between components.\r\n     *\r\n     * @param {Object} owner\r\n     * @param {Object} data\r\n     */\r\n    function transfer(owner, data) {\r\n        var args = _.toArray(arguments);\r\n\r\n        if (data.target.substr(0, 1) === '!') {\r\n            data.target = data.target.substr(1);\r\n            data.inversionValue = true;\r\n        }\r\n\r\n        if (owner.name === data.target) {\r\n            args.unshift(owner);\r\n\r\n            setLink.apply(null, args);\r\n        } else {\r\n            registry.get(data.target, function (target) {\r\n                args.unshift(target);\r\n\r\n                setLink.apply(null, args);\r\n            });\r\n        }\r\n    }\r\n\r\n    return {\r\n        /**\r\n         * Assign listeners.\r\n         *\r\n         * @param {Object} listeners\r\n         * @returns {Object} Chainable\r\n         */\r\n        setListeners: function (listeners) {\r\n            var owner = this,\r\n                data;\r\n\r\n            _.each(listeners, function (callbacks, sources) {\r\n                sources = sources.split(' ');\r\n                callbacks = callbacks.split(' ');\r\n\r\n                sources.forEach(function (target) {\r\n                    callbacks.forEach(function (callback) {//eslint-disable-line max-nested-callbacks\r\n                        data = parseData(owner.name, target, 'imports');\r\n\r\n                        if (data) {\r\n                            setData(owner.maps, callback, data);\r\n                            transfer(owner, data, callback);\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set links in provided direction.\r\n         *\r\n         * @param {Object} links\r\n         * @param {String} direction\r\n         * @returns {Object} Chainable\r\n         */\r\n        setLinks: function (links, direction) {\r\n            var owner = this,\r\n                property,\r\n                data;\r\n\r\n            for (property in links) {\r\n                if (links.hasOwnProperty(property)) {\r\n                    data = parseData(owner.name, links[property], direction);\r\n\r\n                    if (data) {//eslint-disable-line max-depth\r\n                        setData(owner.maps, property, data);\r\n                        transfer(owner, data, property, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return this;\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/core/storage/local.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'underscore',\r\n    'uiRegistry',\r\n    'mageUtils',\r\n    'uiEvents'\r\n], function (_, registry, utils, EventsBus) {\r\n    'use strict';\r\n\r\n    var root = 'appData',\r\n        localStorage = window.localStorage,\r\n        hasSupport,\r\n        storage;\r\n\r\n    /**\r\n     * Flag which indicates whether localStorage is supported.\r\n     */\r\n    hasSupport = (function () {\r\n        var key = '_storageSupported';\r\n\r\n        try {\r\n            localStorage.setItem(key, 'true');\r\n\r\n            if (localStorage.getItem(key) === 'true') {\r\n                localStorage.removeItem(key);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    })();\r\n\r\n    if (!hasSupport) {\r\n        localStorage = {\r\n            _data: {},\r\n\r\n            /**\r\n             * Sets value of the specified item.\r\n             *\r\n             * @param {String} key - Key of the property.\r\n             * @param {*} value - Properties' value.\r\n             */\r\n            setItem: function (key, value) {\r\n                this._data[key] = value + '';\r\n            },\r\n\r\n            /**\r\n             * Retrieves specified item.\r\n             *\r\n             * @param {String} key - Key of the property to be retrieved.\r\n             */\r\n            getItem: function (key) {\r\n                return this._data[key];\r\n            },\r\n\r\n            /**\r\n             * Removes specified item.\r\n             *\r\n             * @param {String} key - Key of the property to be removed.\r\n             */\r\n            removeItem: function (key) {\r\n                delete this._data[key];\r\n            },\r\n\r\n            /**\r\n             * Removes all items.\r\n             */\r\n            clear: function () {\r\n                this._data = {};\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Extracts and parses data stored in localStorage by the\r\n     * key specified in 'root' varaible.\r\n     *\r\n     * @returns {Object}\r\n     */\r\n    function getRoot() {\r\n        var data = localStorage.getItem(root),\r\n            result = {};\r\n\r\n        if (!_.isNull(data) && typeof data != 'undefined') {\r\n            result = JSON.parse(data);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Writes provided data to the localStorage.\r\n     *\r\n     * @param {*} data - Data to be stored.\r\n     */\r\n    function setRoot(data) {\r\n        localStorage.setItem(root, JSON.stringify(data));\r\n    }\r\n\r\n    /**\r\n     * Provides methods to work with a localStorage\r\n     * as a single nested structure.\r\n     */\r\n    storage = _.extend({\r\n\r\n        /**\r\n         * Retrieves value of the specified property.\r\n         *\r\n         * @param {String} path - Path to the property.\r\n         *\r\n         * @example Retrieveing data.\r\n         *      localStoarge =>\r\n         *          'appData' => '\r\n         *              \"one\": {\"two\": \"three\"}\r\n         *          '\r\n         *      storage.get('one.two')\r\n         *      => \"three\"\r\n         *\r\n         *      storage.get('one')\r\n         *      => {\"two\": \"three\"}\r\n         */\r\n        get: function (path) {\r\n            var data = getRoot();\r\n\r\n            return utils.nested(data, path);\r\n        },\r\n\r\n        /**\r\n         * Sets specified data to the localStorage.\r\n         *\r\n         * @param {String} path - Path of the property.\r\n         * @param {*} value - Value of the property.\r\n         *\r\n         * @example Setting data.\r\n         *      storage.set('one.two', 'four');\r\n         *      => localStoarge =>\r\n         *          'appData' => '\r\n         *              \"one\": {\"two\": \"four\"}\r\n         *          '\r\n         */\r\n        set: function (path, value) {\r\n            var data = getRoot();\r\n\r\n            utils.nested(data, path, value);\r\n\r\n            setRoot(data);\r\n        },\r\n\r\n        /**\r\n         * Removes specified data from the localStorage.\r\n         *\r\n         * @param {String} path - Path to the property that should be removed.\r\n         *\r\n         * @example Removing data.\r\n         *      storage.remove('one.two', 'four');\r\n         *      => localStoarge =>\r\n         *          'appData' => '\r\n         *              \"one\": {}\r\n         *          '\r\n         */\r\n        remove: function (path) {\r\n            var data = getRoot();\r\n\r\n            utils.nestedRemove(data, path);\r\n\r\n            setRoot(data);\r\n        }\r\n    }, EventsBus);\r\n\r\n    registry.set('localStorage', storage);\r\n\r\n    return storage;\r\n});\r\n","Magento_Ui/js/lib/knockout/bootstrap.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Loads all available knockout bindings, sets custom template engine, initializes knockout on page */\r\n\r\ndefine([\r\n    'ko',\r\n    './template/engine',\r\n    'knockoutjs/knockout-es5',\r\n    './bindings/bootstrap',\r\n    './extender/observable_array',\r\n    './extender/bound-nodes',\r\n    'domReady!'\r\n], function (ko, templateEngine) {\r\n    'use strict';\r\n\r\n    ko.uid = 0;\r\n\r\n    ko.setTemplateEngine(templateEngine);\r\n    ko.applyBindings();\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/after-render.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.afterRender = {\r\n\r\n        /**\r\n         * Binding init callback.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel) {\r\n            var callback = valueAccessor();\r\n\r\n            if (typeof callback === 'function') {\r\n                callback.call(viewModel, element, viewModel);\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('afterRender');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/autoselect.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    '../template/renderer'\r\n], function (ko, $, renderer) {\r\n    'use strict';\r\n\r\n    /**\r\n     * 'Focus' event handler.\r\n     *\r\n     * @param {EventObject} e\r\n     */\r\n    function onFocus(e) {\r\n        e.target.select();\r\n    }\r\n\r\n    ko.bindingHandlers.autoselect = {\r\n\r\n        /**\r\n         * Adds event handler which automatically\r\n         * selects inputs' element text when field gets focused.\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var enabled = ko.unwrap(valueAccessor());\r\n\r\n            if (enabled !== false) {\r\n                $(element).on('focus', onFocus);\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('autoselect');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/bind-html.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mage/apply/main',\r\n    '../template/renderer'\r\n], function (ko, _, mage, renderer) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Set html to node element.\r\n     *\r\n     * @param {HTMLElement} el - Element to apply bindings to.\r\n     * @param {Function} html - Observable html content.\r\n     */\r\n    function setHtml(el, html) {\r\n        ko.utils.emptyDomNode(el);\r\n        html = ko.utils.unwrapObservable(html);\r\n\r\n        if (!_.isNull(html) && !_.isUndefined(html)) {\r\n            if (!_.isString(html)) {\r\n                html = html.toString();\r\n            }\r\n\r\n            el.innerHTML = html;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Apply bindings and call magento attributes parser.\r\n     *\r\n     * @param {HTMLElement} el - Element to apply bindings to.\r\n     * @param {ko.bindingContext} ctx - Instance of ko.bindingContext, passed to binding initially.\r\n     */\r\n    function applyComponents(el, ctx) {\r\n        ko.utils.arrayForEach(el.childNodes, ko.cleanNode);\r\n        ko.applyBindingsToDescendants(ctx, el);\r\n        mage.apply();\r\n    }\r\n\r\n    ko.bindingHandlers.bindHtml = {\r\n        /**\r\n         * Scope binding's init method.\r\n         *\r\n         * @returns {Object} - Knockout declaration for it to let binding control descendants.\r\n         */\r\n        init: function () {\r\n            return {\r\n                controlsDescendantBindings: true\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Reads params passed to binding.\r\n         * Set html to node element, apply bindings and call magento attributes parser.\r\n         *\r\n         * @param {HTMLElement} el - Element to apply bindings to.\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\r\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\r\n         * @param {Object} viewModel - Object, which represents view model binded to el.\r\n         * @param {ko.bindingContext} bindingContext - Instance of ko.bindingContext, passed to binding initially.\r\n         */\r\n        update: function (el, valueAccessor, allBindings, viewModel, bindingContext) {\r\n            setHtml(el, valueAccessor());\r\n            applyComponents(el, bindingContext);\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('bindHtml');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/bootstrap.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine(function (require) {\r\n    'use strict';\r\n\r\n    var renderer = require('../template/renderer');\r\n\r\n    renderer.addAttribute('repeat', renderer.handlers.wrapAttribute);\r\n\r\n    renderer.addAttribute('outerfasteach', {\r\n        binding: 'fastForEach',\r\n        handler: renderer.handlers.wrapAttribute\r\n    });\r\n\r\n    renderer\r\n        .addNode('repeat')\r\n        .addNode('fastForEach');\r\n\r\n    return {\r\n        resizable:      require('./resizable'),\r\n        i18n:           require('./i18n'),\r\n        scope:          require('./scope'),\r\n        range:          require('./range'),\r\n        mageInit:       require('./mage-init'),\r\n        keyboard:       require('./keyboard'),\r\n        optgroup:       require('./optgroup'),\r\n        afterRender:     require('./after-render'),\r\n        autoselect:     require('./autoselect'),\r\n        datepicker:     require('./datepicker'),\r\n        outerClick:     require('./outer_click'),\r\n        fadeVisible:    require('./fadeVisible'),\r\n        collapsible:    require('./collapsible'),\r\n        staticChecked:  require('./staticChecked'),\r\n        simpleChecked:  require('./simple-checked'),\r\n        bindHtml:       require('./bind-html'),\r\n        tooltip:        require('./tooltip'),\r\n        repeat:         require('knockoutjs/knockout-repeat'),\r\n        fastForEach:    require('knockoutjs/knockout-fast-foreach'),\r\n        colorPicker:    require('./color-picker')\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/collapsible.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    '../template/renderer'\r\n], function (ko, $, _, renderer) {\r\n    'use strict';\r\n\r\n    var collapsible,\r\n        defaults;\r\n\r\n    defaults = {\r\n        closeOnOuter: true,\r\n        onTarget: false,\r\n        openClass: '_active',\r\n        as: '$collapsible'\r\n    };\r\n\r\n    collapsible = {\r\n\r\n        /**\r\n         * Sets 'opened' property to true.\r\n         */\r\n        open: function () {\r\n            this.opened(true);\r\n        },\r\n\r\n        /**\r\n         * Sets 'opened' property to false.\r\n         */\r\n        close: function () {\r\n            this.opened(false);\r\n        },\r\n\r\n        /**\r\n         * Toggles value of the 'opened' property.\r\n         */\r\n        toggle: function () {\r\n            this.opened(!this.opened());\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Document click handler which in case if event target is not\r\n     * a descendant of provided container element, closes collapsible model.\r\n     *\r\n     * @param {HTMLElement} container\r\n     * @param {Object} model\r\n     * @param {EventObject} e\r\n     */\r\n    function onOuterClick(container, model, e) {\r\n        var target = e.target;\r\n\r\n        if (target !== container && !container.contains(target)) {\r\n            model.close();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Creates 'css' binding which toggles\r\n     * class specified in 'name' parameter.\r\n     *\r\n     * @param {Object} model\r\n     * @param {String} name\r\n     * @returns {Object}\r\n     */\r\n    function getClassBinding(model, name) {\r\n        var binding = {};\r\n\r\n        binding[name] = model.opened;\r\n\r\n        return {\r\n            css: binding\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Prepares configuration for the binding based\r\n     * on a default properties and provided options.\r\n     *\r\n     * @param {Object} [options={}]\r\n     * @returns {Object} Complete instance configuration.\r\n     */\r\n    function buildConfig(options) {\r\n        if (typeof options !== 'object') {\r\n            options = {};\r\n        }\r\n\r\n        return _.extend({}, defaults, options);\r\n    }\r\n\r\n    ko.bindingHandlers.collapsible = {\r\n\r\n        /**\r\n         * Initializes 'collapsible' binding.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var $collapsible = Object.create(collapsible),\r\n                config = buildConfig(valueAccessor()),\r\n                outerClick,\r\n                bindings;\r\n\r\n            _.bindAll($collapsible, 'open', 'close', 'toggle');\r\n\r\n            $collapsible.opened = ko.observable(!!config.opened);\r\n\r\n            bindingCtx[config.as] = $collapsible;\r\n\r\n            if (config.closeOnOuter) {\r\n                outerClick = onOuterClick.bind(null, element, $collapsible);\r\n\r\n                $(document).on('click', outerClick);\r\n\r\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n                    $(document).off('click', outerClick);\r\n                });\r\n            }\r\n\r\n            if (config.openClass) {\r\n                bindings = getClassBinding($collapsible, config.openClass);\r\n\r\n                ko.applyBindingsToNode(element, bindings, bindingCtx);\r\n            }\r\n\r\n            if (config.onTarget) {\r\n                $(element).on('click', $collapsible.toggle);\r\n            }\r\n\r\n            if (viewModel && _.isFunction(viewModel.on)) {\r\n                viewModel.on({\r\n                    close:          $collapsible.close,\r\n                    open:           $collapsible.open,\r\n                    toggleOpened:   $collapsible.toggle\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.closeCollapsible = {\r\n\r\n        /**\r\n         * Creates listener for the click event on provided DOM element,\r\n         * which closes associated with it collapsible model.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var name = valueAccessor() || defaults.as,\r\n                $collapsible = bindingCtx[name];\r\n\r\n            if ($collapsible) {\r\n                $(element).on('click', $collapsible.close);\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.openCollapsible = {\r\n\r\n        /**\r\n         * Creates listener for the click event on provided DOM element,\r\n         * which opens associated with it collapsible model.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var name = valueAccessor() || defaults.as,\r\n                $collapsible = bindingCtx[name];\r\n\r\n            if ($collapsible) {\r\n                $(element).on('click', $collapsible.open);\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.toggleCollapsible = {\r\n\r\n        /**\r\n         * Creates listener for the click event on provided DOM element,\r\n         * which toggles associated with it collapsible model.\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var name = valueAccessor() || defaults.as,\r\n                $collapsible = bindingCtx[name];\r\n\r\n            if ($collapsible) {\r\n                $(element).on('click', $collapsible.toggle);\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer\r\n        .addAttribute('collapsible')\r\n        .addAttribute('openCollapsible')\r\n        .addAttribute('closeCollapsible')\r\n        .addAttribute('toggleCollapsible');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/color-picker.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    '../template/renderer',\r\n    'spectrum',\r\n    'tinycolor'\r\n], function (ko, $, renderer, spectrum, tinycolor) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Change color picker status to be enabled or disabled\r\n     *\r\n     * @param {HTMLElement} element - Element to apply colorpicker enable/disable status to.\r\n     * @param {Object} viewModel - Object, which represents view model binded to el.\r\n     */\r\n    function changeColorPickerStateBasedOnViewModel(element, viewModel) {\r\n        $(element).spectrum(viewModel.disabled() ? 'disable' : 'enable');\r\n    }\r\n\r\n    ko.bindingHandlers.colorPicker = {\r\n        /**\r\n         * Binding init callback.\r\n         *\r\n         * @param {*} element\r\n         * @param {Function} valueAccessor\r\n         * @param {Function} allBindings\r\n         * @param {Object} viewModel\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel) {\r\n            var config = valueAccessor(),\r\n\r\n                /** change value */\r\n                changeValue = function (value) {\r\n                    if (value == null) {\r\n                        value = '';\r\n                    }\r\n                    config.value(value.toString());\r\n                };\r\n\r\n            config.change = changeValue;\r\n\r\n            config.hide = changeValue;\r\n\r\n            /** show value */\r\n            config.show = function () {\r\n                if (!viewModel.focused()) {\r\n                    viewModel.focused(true);\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            $(element).spectrum(config);\r\n\r\n            changeColorPickerStateBasedOnViewModel(element, viewModel);\r\n        },\r\n\r\n        /**\r\n         * Reads params passed to binding, parses component declarations.\r\n         * Fetches for those found and attaches them to the new context.\r\n         *\r\n         * @param {HTMLElement} element - Element to apply bindings to.\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\r\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\r\n         * @param {Object} viewModel - Object, which represents view model binded to element.\r\n         */\r\n        update: function (element, valueAccessor, allBindings, viewModel) {\r\n            var config = valueAccessor();\r\n\r\n            if (tinycolor(config.value()).isValid() || config.value() === '') {\r\n                $(element).spectrum('set', config.value());\r\n\r\n                if (config.value() !== '') {\r\n                    config.value($(element).spectrum('get').toString());\r\n                }\r\n            }\r\n\r\n            changeColorPickerStateBasedOnViewModel(element, viewModel);\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('colorPicker');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/datepicker.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Creates datepicker binding and registers in to ko.bindingHandlers object */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'jquery',\r\n    'mage/translate',\r\n    'mage/calendar',\r\n    'moment',\r\n    'mageUtils'\r\n], function (ko, _, $, $t, calendar, moment, utils) {\r\n    'use strict';\r\n\r\n    var defaults = {\r\n        dateFormat: 'mm\\/dd\\/yyyy',\r\n        showsTime: false,\r\n        timeFormat: null,\r\n        buttonImage: null,\r\n        buttonImageOnly: null,\r\n        buttonText: $t('Select Date')\r\n    };\r\n\r\n    ko.bindingHandlers.datepicker = {\r\n        /**\r\n         * Initializes calendar widget on element and stores it's value to observable property.\r\n         * Datepicker binding takes either observable property or object\r\n         *  { storage: {ko.observable}, options: {Object} }.\r\n         * For more info about options take a look at \"mage/calendar\" and jquery.ui.datepicker widget.\r\n         * @param {HTMLElement} el - Element, that binding is applied to\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding\r\n         */\r\n        init: function (el, valueAccessor) {\r\n            var config = valueAccessor(),\r\n                observable,\r\n                options = {};\r\n\r\n            _.extend(options, defaults);\r\n\r\n            if (typeof config === 'object') {\r\n                observable = config.storage;\r\n\r\n                _.extend(options, config.options);\r\n            } else {\r\n                observable = config;\r\n            }\r\n\r\n            $(el).calendar(options);\r\n\r\n            observable() && $(el).datepicker(\r\n                'setDate',\r\n                moment(\r\n                    observable(),\r\n                    utils.convertToMomentFormat(\r\n                        options.dateFormat + (options.showsTime ? ' ' + options.timeFormat : '')\r\n                    )\r\n                ).toDate()\r\n            );\r\n\r\n            $(el).blur();\r\n\r\n            ko.utils.registerEventHandler(el, 'change', function () {\r\n                observable(this.value);\r\n            });\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/fadeVisible.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'ko'\r\n], function ($, ko) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.fadeVisible = {\r\n        /**\r\n         * Initially set the element to be instantly visible/hidden depending on the value.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n\r\n            // Use \"unwrapObservable\" so we can handle values that may or may not be observable\r\n            $(element).toggle(ko.unwrap(value));\r\n        },\r\n\r\n        /**\r\n         * Whenever the value subsequently changes, slowly fade the element in or out.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        update: function (element, valueAccessor) {\r\n            var value = valueAccessor();\r\n\r\n            ko.unwrap(value) ? $(element).fadeIn() : $(element).fadeOut();\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/i18n.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'ko',\r\n    'module',\r\n    '../template/renderer',\r\n    'mage/translate'\r\n], function ($, ko, module, renderer) {\r\n    'use strict';\r\n\r\n    var locations = {\r\n            'legend': 'Caption for the fieldset element',\r\n            'label': 'Label for an input element.',\r\n            'button': 'Push button',\r\n            'a': 'Link label',\r\n            'b': 'Bold text',\r\n            'strong': 'Strong emphasized text',\r\n            'i': 'Italic text',\r\n            'em': 'Emphasized text',\r\n            'u': 'Underlined text',\r\n            'sup': 'Superscript text',\r\n            'sub': 'Subscript text',\r\n            'span': 'Span element',\r\n            'small': 'Smaller text',\r\n            'big': 'Bigger text',\r\n            'address': 'Contact information',\r\n            'blockquote': 'Long quotation',\r\n            'q': 'Short quotation',\r\n            'cite': 'Citation',\r\n            'caption': 'Table caption',\r\n            'abbr': 'Abbreviated phrase',\r\n            'acronym': 'An acronym',\r\n            'var': 'Variable part of a text',\r\n            'dfn': 'Term',\r\n            'strike': 'Strikethrough text',\r\n            'del': 'Deleted text',\r\n            'ins': 'Inserted text',\r\n            'h1': 'Heading level 1',\r\n            'h2': 'Heading level 2',\r\n            'h3': 'Heading level 3',\r\n            'h4': 'Heading level 4',\r\n            'h5': 'Heading level 5',\r\n            'h6': 'Heading level 6',\r\n            'center': 'Centered text',\r\n            'select': 'List options',\r\n            'img': 'Image',\r\n            'input': 'Form element'\r\n        },\r\n\r\n        /**\r\n         * Generates [data-translate] attribute's value\r\n         * @param {Object} translationData\r\n         * @param {String} location\r\n         */\r\n        composeTranslateAttr = function (translationData, location) {\r\n            var obj = [{\r\n                'shown': translationData.shown,\r\n                'translated': translationData.translated,\r\n                'original': translationData.original,\r\n                'location': locations[location] || 'Text'\r\n            }];\r\n\r\n            return JSON.stringify(obj);\r\n        },\r\n\r\n        /**\r\n         * Sets text for the element\r\n         * @param {Object} el\r\n         * @param {String} text\r\n         */\r\n        setText = function (el, text) {\r\n            $(el).text(text);\r\n        },\r\n\r\n        /**\r\n         * Sets [data-translate] attribute for the element\r\n         * @param {Object} el - The element which is binded\r\n         * @param {String} original - The original value of the element\r\n         */\r\n        setTranslateProp = function (el, original) {\r\n            var location = $(el).prop('tagName').toLowerCase(),\r\n                translated = $.mage.__(original),\r\n                translationData = {\r\n                    shown: translated,\r\n                    translated: translated,\r\n                    original: original\r\n                },\r\n                translateAttr = composeTranslateAttr(translationData, location);\r\n\r\n            $(el).attr('data-translate', translateAttr);\r\n\r\n            setText(el, translationData.shown);\r\n        },\r\n\r\n        /**\r\n         * Checks if node represents ko virtual node (nodeType === 8, nodeName === '#comment').\r\n         *\r\n         * @param {HTMLElement} node\r\n         * @returns {Boolean}\r\n         */\r\n        isVirtualElement = function (node) {\r\n            return node.nodeType === 8;\r\n        },\r\n\r\n        /**\r\n        * Checks if it's real DOM element\r\n        * in case of virtual element, returns span wrapper\r\n        * @param {Object} el\r\n        * @param {bool} isUpdate\r\n        * @return {Object} el\r\n        */\r\n        getRealElement = function (el, isUpdate) {\r\n            if (isVirtualElement(el)) {\r\n                if (isUpdate) {\r\n                    return $(el).next('span');\r\n                }\r\n\r\n                return $('<span/>').insertAfter(el);\r\n            }\r\n\r\n            return el;\r\n        },\r\n\r\n        /**\r\n         * execute i18n binding\r\n         * @param {Object} element\r\n         * @param {Function} valueAccessor\r\n         * @param {bool} isUpdate\r\n         */\r\n        execute = function (element, valueAccessor, isUpdate) {\r\n            var original = ko.unwrap(valueAccessor() || ''),\r\n                el = getRealElement(element, isUpdate),\r\n                inlineTranslation = (module.config() || {}).inlineTranslation;\r\n\r\n            if (inlineTranslation) {\r\n                setTranslateProp(el, original);\r\n            } else {\r\n                setText(el, $.mage.__(original));\r\n            }\r\n        };\r\n\r\n    /**\r\n     * i18n binding\r\n     * @property {Function}  init\r\n     * @property {Function}  update\r\n     */\r\n    ko.bindingHandlers.i18n = {\r\n\r\n        /**\r\n         * init i18n binding\r\n         * @param {Object} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            execute(element, valueAccessor);\r\n        },\r\n\r\n        /**\r\n         * update i18n binding\r\n         * @param {Object} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        update: function (element, valueAccessor) {\r\n            execute(element, valueAccessor, true);\r\n        }\r\n    };\r\n\r\n    ko.virtualElements.allowedBindings.i18n = true;\r\n\r\n    renderer\r\n        .addNode('translate', {\r\n            binding: 'i18n'\r\n        })\r\n        .addAttribute('translate', {\r\n            binding: 'i18n'\r\n        });\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/keyboard.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.keyboard = {\r\n\r\n        /**\r\n         * Attaches keypress handlers to element\r\n         * @param {HTMLElement} el - Element, that binding is applied to\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding\r\n         * @param  {Object} allBindings - all bindings object\r\n         * @param  {Object} viewModel - reference to viewmodel\r\n         */\r\n        init: function (el, valueAccessor, allBindings, viewModel) {\r\n            var map = valueAccessor();\r\n\r\n            ko.utils.registerEventHandler(el, 'keyup', function (e) {\r\n                var callback = map[e.keyCode];\r\n\r\n                if (callback) {\r\n                    return callback.call(viewModel, e);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('keyboard');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/mage-init.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mage/apply/main'\r\n], function (ko, _, mage) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.mageInit = {\r\n        /**\r\n         * Initializes components assigned to HTML elements.\r\n         *\r\n         * @param {HTMLElement} el\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (el, valueAccessor) {\r\n            var data = valueAccessor();\r\n\r\n            _.each(data, function (config, component) {\r\n                mage.applyFor(el, config, component);\r\n            });\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/optgroup.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'mageUtils'\r\n    ], function (ko, utils) {\r\n    'use strict';\r\n\r\n    var captionPlaceholder = {},\r\n        optgroupTmpl = '<optgroup label=\"${ $.label }\"></optgroup>',\r\n        nbspRe = /&nbsp;/g,\r\n        optionsText,\r\n        optionsValue,\r\n        optionTitle;\r\n\r\n    ko.bindingHandlers.optgroup = {\r\n        /**\r\n         * @param {*} element\r\n         * @returns {Object}\r\n         */\r\n        init: function (element) {\r\n            if (ko.utils.tagNameLower(element) !== 'select') {\r\n                throw new Error('options binding applies only to SELECT elements');\r\n            }\r\n\r\n            // Remove all existing <option>s.\r\n            while (element.length > 0) {\r\n                element.remove(0);\r\n            }\r\n\r\n            // Ensures that the binding processor doesn't try to bind the options\r\n            return {\r\n                'controlsDescendantBindings': true\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @param {*} element\r\n         * @param {*} valueAccessor\r\n         * @param {*} allBindings\r\n         */\r\n        update: function (element, valueAccessor, allBindings) {\r\n            var selectWasPreviouslyEmpty = element.length === 0,\r\n                previousScrollTop = !selectWasPreviouslyEmpty && element.multiple ? element.scrollTop : null,\r\n                includeDestroyed = allBindings.get('optionsIncludeDestroyed'),\r\n                arrayToDomNodeChildrenOptions = {},\r\n                captionValue,\r\n                unwrappedArray = ko.utils.unwrapObservable(valueAccessor()),\r\n                filteredArray,\r\n                previousSelectedValues,\r\n                itemUpdate = false,\r\n                callback = setSelectionCallback,//eslint-disable-line no-use-before-define\r\n                nestedOptionsLevel = -1;\r\n\r\n            optionsText = ko.utils.unwrapObservable(allBindings.get('optionsText')) || 'text';\r\n            optionsValue = ko.utils.unwrapObservable(allBindings.get('optionsValue')) || 'value';\r\n            optionTitle = optionsText + 'title';\r\n\r\n            if (element.multiple) {\r\n                previousSelectedValues = ko.utils.arrayMap(\r\n                    selectedOptions(),//eslint-disable-line no-use-before-define\r\n                    ko.selectExtensions.readValue\r\n                );\r\n            } else {\r\n                previousSelectedValues = element.selectedIndex >= 0 ?\r\n                    [ko.selectExtensions.readValue(element.options[element.selectedIndex])] :\r\n                    [];\r\n            }\r\n\r\n            if (unwrappedArray) {\r\n                if (typeof unwrappedArray.length === 'undefined') { // Coerce single value into array\r\n                    unwrappedArray = [unwrappedArray];\r\n                }\r\n\r\n                // Filter out any entries marked as destroyed\r\n                filteredArray = ko.utils.arrayFilter(unwrappedArray, function (item) {\r\n                    if (item && !item.label) {\r\n                        return false;\r\n                    }\r\n\r\n                    return includeDestroyed ||\r\n                        item === undefined ||\r\n                        item === null ||\r\n                        !ko.utils.unwrapObservable(item._destroy);\r\n                });\r\n                filteredArray.map(recursivePathBuilder, null);//eslint-disable-line no-use-before-define\r\n            }\r\n\r\n            /**\r\n             * @param {*} option\r\n             */\r\n            arrayToDomNodeChildrenOptions.beforeRemove = function (option) {\r\n                element.removeChild(option);\r\n            };\r\n\r\n            if (allBindings.has('optionsAfterRender')) {\r\n\r\n                /**\r\n                 * @param {*} arrayEntry\r\n                 * @param {*} newOptions\r\n                 */\r\n                callback = function (arrayEntry, newOptions) {\r\n                    setSelectionCallback(arrayEntry, newOptions);//eslint-disable-line no-use-before-define\r\n                    ko.dependencyDetection.ignore(\r\n                        allBindings.get('optionsAfterRender'),\r\n                        null,\r\n                        [newOptions[0],\r\n                        arrayEntry !== captionPlaceholder ? arrayEntry : undefined]\r\n                    );\r\n                };\r\n            }\r\n\r\n            filteredArray = formatOptions(filteredArray);//eslint-disable-line no-use-before-define\r\n            ko.utils.setDomNodeChildrenFromArrayMapping(\r\n                element,\r\n                filteredArray,\r\n                optionNodeFromArray,//eslint-disable-line no-use-before-define\r\n                arrayToDomNodeChildrenOptions,\r\n                callback\r\n            );\r\n\r\n            ko.dependencyDetection.ignore(function () {\r\n                var selectionChanged;\r\n\r\n                if (allBindings.get('valueAllowUnset') && allBindings.has('value')) {\r\n                    // The model value is authoritative, so make sure its value is the one selected\r\n                    ko.selectExtensions.writeValue(\r\n                        element,\r\n                        ko.utils.unwrapObservable(allBindings.get('value')),\r\n                        true /* allowUnset */\r\n                    );\r\n                } else {\r\n                    // Determine if the selection has changed as a result of updating the options list\r\n                    if (element.multiple) {\r\n                        // For a multiple-select box, compare the new selection count to the previous one\r\n                        // But if nothing was selected before, the selection can't have changed\r\n                        selectionChanged = previousSelectedValues.length &&\r\n                            selectedOptions().length < //eslint-disable-line no-use-before-define\r\n                            previousSelectedValues.length;\r\n                    } else {\r\n                        // For a single-select box, compare the current value to the previous value\r\n                        // But if nothing was selected before or nothing is selected now,\r\n                        // just look for a change in selection\r\n                        selectionChanged = previousSelectedValues.length && element.selectedIndex >= 0 ?\r\n                            ko.selectExtensions.readValue(element.options[element.selectedIndex]) !==\r\n                            previousSelectedValues[0] : previousSelectedValues.length || element.selectedIndex >= 0;\r\n                    }\r\n\r\n                    // Ensure consistency between model value and selected option.\r\n                    // If the dropdown was changed so that selection is no longer the same,\r\n                    // notify the value or selectedOptions binding.\r\n                    if (selectionChanged) {\r\n                        ko.utils.triggerEvent(element, 'change');\r\n                    }\r\n                }\r\n            });\r\n\r\n            /*eslint-enable max-len, no-use-before-define*/\r\n\r\n            if (previousScrollTop && Math.abs(previousScrollTop - element.scrollTop) > 20) {\r\n                element.scrollTop = previousScrollTop;\r\n            }\r\n\r\n            /**\r\n             * @returns {*}\r\n             */\r\n            function selectedOptions() {\r\n                return ko.utils.arrayFilter(element.options, function (node) {\r\n                    return node.selected;\r\n                });\r\n            }\r\n\r\n            /**\r\n             * @param {*} object\r\n             * @param {*} predicate\r\n             * @param {*} defaultValue\r\n             * @returns {*}\r\n             */\r\n            function applyToObject(object, predicate, defaultValue) {\r\n                var predicateType = typeof predicate;\r\n\r\n                if (predicateType === 'function') {   // run it against the data value\r\n                    return predicate(object);\r\n                } else if (predicateType === 'string') { // treat it as a property name on the data value\r\n                    return object[predicate];\r\n                }\r\n\r\n                return defaultValue;\r\n            }\r\n\r\n            /**\r\n             * @param {*} obj\r\n             */\r\n            function recursivePathBuilder(obj) {\r\n\r\n                obj[optionTitle] = (this && this[optionTitle] ? this[optionTitle] + '/' : '') + obj[optionsText].trim();\r\n\r\n                if (Array.isArray(obj[optionsValue])) {\r\n                    obj[optionsValue].map(recursivePathBuilder, obj);\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @param {Array} arrayEntry\r\n             * @param {*} oldOptions\r\n             * @returns {*[]}\r\n             */\r\n            function optionNodeFromArray(arrayEntry, oldOptions) {\r\n                var option;\r\n\r\n                if (oldOptions.length) {\r\n                    previousSelectedValues = oldOptions[0].selected ?\r\n                        [ko.selectExtensions.readValue(oldOptions[0])] : [];\r\n                    itemUpdate = true;\r\n                }\r\n\r\n                if (arrayEntry === captionPlaceholder) { // empty value, label === caption\r\n                    option = element.ownerDocument.createElement('option');\r\n                    ko.utils.setTextContent(option, allBindings.get('optionsCaption'));\r\n                    ko.selectExtensions.writeValue(option, undefined);\r\n                } else if (typeof arrayEntry[optionsValue] === 'undefined') { // empty value === optgroup\r\n                    option = utils.template(optgroupTmpl, {\r\n                        label: arrayEntry[optionsText],\r\n                        title: arrayEntry[optionsText + 'title']\r\n                    });\r\n                    option = ko.utils.parseHtmlFragment(option)[0];\r\n\r\n                } else {\r\n                    option = element.ownerDocument.createElement('option');\r\n                    option.setAttribute('data-title', arrayEntry[optionsText + 'title']);\r\n                    ko.selectExtensions.writeValue(option, arrayEntry[optionsValue]);\r\n                    ko.utils.setTextContent(option, arrayEntry[optionsText]);\r\n                }\r\n\r\n                return [option];\r\n            }\r\n\r\n            /**\r\n             * @param {*} newOptions\r\n             */\r\n            function setSelectionCallback(newOptions) {\r\n                var isSelected;\r\n\r\n                // IE6 doesn't like us to assign selection to OPTION nodes before they're added to the document.\r\n                // That's why we first added them without selection. Now it's time to set the selection.\r\n                if (previousSelectedValues.length) {\r\n                    isSelected = ko.utils.arrayIndexOf(\r\n                        previousSelectedValues,\r\n                        ko.selectExtensions.readValue(newOptions.value)\r\n                    ) >= 0;\r\n\r\n                    ko.utils.setOptionNodeSelectionState(newOptions.value, isSelected);\r\n\r\n                    // If this option was changed from being selected during a single-item update, notify the change\r\n                    if (itemUpdate && !isSelected) {\r\n                        ko.dependencyDetection.ignore(ko.utils.triggerEvent, null, [element, 'change']);\r\n                    }\r\n                }\r\n            }\r\n\r\n            /**\r\n             * @param {*} string\r\n             * @param {Number} times\r\n             * @returns {Array}\r\n             */\r\n            function strPad(string, times) {\r\n                return (new Array(times + 1)).join(string);\r\n            }\r\n\r\n            /**\r\n             * @param {*} options\r\n             * @returns {Array}\r\n             */\r\n            function formatOptions(options) {\r\n                var res = [];\r\n\r\n                nestedOptionsLevel++;\r\n\r\n                if (!nestedOptionsLevel) { // zero level\r\n                    // If caption is included, add it to the array\r\n                    if (allBindings.has('optionsCaption')) {\r\n                        captionValue = ko.utils.unwrapObservable(allBindings.get('optionsCaption'));\r\n                        // If caption value is null or undefined, don't show a caption\r\n                        if (//eslint-disable-line max-depth\r\n                            captionValue !== null &&\r\n                            captionValue !== undefined &&\r\n                            captionValue !== false\r\n                        ) {\r\n                            res.push(captionPlaceholder);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                ko.utils.arrayForEach(options, function (option) {\r\n                    var value = applyToObject(option, optionsValue, option),\r\n                        label = applyToObject(option, optionsText, value) || '',\r\n                        disabled = applyToObject(option, 'disabled', false) || false,\r\n                        obj = {},\r\n                        space = '\\u2007\\u2007\\u2007';\r\n\r\n                    obj[optionTitle] = applyToObject(option, optionsText + 'title', value);\r\n\r\n                    if (disabled) {\r\n                        obj.disabled = disabled;\r\n                    }\r\n\r\n                    label = label.replace(nbspRe, '').trim();\r\n\r\n                    if (Array.isArray(value)) {\r\n                        obj[optionsText] = strPad('&nbsp;', nestedOptionsLevel * 4) + label;\r\n                        res.push(obj);\r\n                        res = res.concat(formatOptions(value));\r\n                    } else {\r\n                        obj[optionsText] = strPad(space, nestedOptionsLevel * 2) + label;\r\n                        obj[optionsValue] = value;\r\n                        res.push(obj);\r\n                    }\r\n                });\r\n                nestedOptionsLevel--;\r\n\r\n                return res;\r\n            }\r\n        }\r\n    };\r\n    ko.bindingHandlers.selectedOptions.after.push('optgroup');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/outer_click.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Creates outerClick binding and registers in to ko.bindingHandlers object */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    '../template/renderer'\r\n], function (ko, $, _, renderer) {\r\n    'use strict';\r\n\r\n    var defaults = {\r\n        onlyIfVisible: true\r\n    };\r\n\r\n    /**\r\n     * Checks if element sis visible.\r\n     *\r\n     * @param {Element} el\r\n     * @returns {Boolean}\r\n     */\r\n    function isVisible(el) {\r\n        var style = window.getComputedStyle(el),\r\n            visibility = {\r\n                display: 'none',\r\n                visibility: 'hidden',\r\n                opacity: '0'\r\n            },\r\n            visible = true;\r\n\r\n        _.each(visibility, function (val, key) {\r\n            if (style[key] === val) {\r\n                visible = false;\r\n            }\r\n        });\r\n\r\n        return visible;\r\n    }\r\n\r\n    /**\r\n     * Document click handler which in case if event target is not\r\n     * a descendant of provided container element,\r\n     * invokes specified in configuration callback.\r\n     *\r\n     * @param {HTMLElement} container\r\n     * @param {Object} config\r\n     * @param {EventObject} e\r\n     */\r\n    function onOuterClick(container, config, e) {\r\n        var target = e.target,\r\n            callback = config.callback;\r\n\r\n        if (container === target || container.contains(target)) {\r\n            return;\r\n        }\r\n\r\n        if (config.onlyIfVisible) {\r\n            if (!_.isNull(container.offsetParent) && isVisible(container)) {\r\n                callback();\r\n            }\r\n        } else {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Prepares configuration for the binding based\r\n     * on a default properties and provided options.\r\n     *\r\n     * @param {(Object|Function)} [options={}]\r\n     * @returns {Object}\r\n     */\r\n    function buildConfig(options) {\r\n        var config = {};\r\n\r\n        if (_.isFunction(options)) {\r\n            options = {\r\n                callback: options\r\n            };\r\n        } else if (!_.isObject(options)) {\r\n            options = {};\r\n        }\r\n\r\n        return _.extend(config, defaults, options);\r\n    }\r\n\r\n    ko.bindingHandlers.outerClick = {\r\n\r\n        /**\r\n         * Initializes outer click binding.\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var config = buildConfig(valueAccessor()),\r\n                outerClick = onOuterClick.bind(null, element, config),\r\n                isTouchDevice = typeof document.ontouchstart !== 'undefined';\r\n\r\n            if (isTouchDevice) {\r\n                $(document).on('touchstart', outerClick);\r\n\r\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n                    $(document).off('touchstart', outerClick);\r\n                });\r\n            } else {\r\n                $(document).on('click', outerClick);\r\n\r\n                ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n                    $(document).off('click', outerClick);\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('outerClick');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/range.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'underscore',\r\n    '../template/renderer',\r\n    'jquery/ui'\r\n], function (ko, $, _, renderer) {\r\n    'use strict';\r\n\r\n    var isTouchDevice = !_.isUndefined(document.ontouchstart),\r\n        sliderFn = 'slider';\r\n\r\n    ko.bindingHandlers.range = {\r\n\r\n        /**\r\n         * Initializes binding and a slider update.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var config  = valueAccessor(),\r\n                value   = config.value;\r\n\r\n            _.extend(config, {\r\n                value: value(),\r\n\r\n                /**\r\n                 * Callback which is being called when sliders' value changes.\r\n                 *\r\n                 * @param {Event} event\r\n                 * @param {Object} ui\r\n                 */\r\n                slide: function (event, ui) {\r\n                    value(ui.value);\r\n                }\r\n            });\r\n\r\n            $(element)[sliderFn](config);\r\n        },\r\n\r\n        /**\r\n         * Updates sliders' plugin configuration.\r\n         *\r\n         * @param {HTMLElement} element\r\n         * @param {Function} valueAccessor\r\n         */\r\n        update: function (element, valueAccessor) {\r\n            var config = valueAccessor();\r\n\r\n            config.value = ko.unwrap(config.value);\r\n\r\n            $(element)[sliderFn]('option', config);\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('range');\r\n\r\n    if (!isTouchDevice) {\r\n        return;\r\n    }\r\n\r\n    $.widget('mage.touchSlider', $.ui.slider, {\r\n\r\n        /**\r\n         * Creates instance of widget.\r\n         *\r\n         * @override\r\n         */\r\n        _create: function () {\r\n            _.bindAll(\r\n                this,\r\n                '_mouseDown',\r\n                '_mouseMove',\r\n                '_onTouchEnd'\r\n            );\r\n\r\n            return this._superApply(arguments);\r\n        },\r\n\r\n        /**\r\n         * Initializes mouse events on element.\r\n         * @override\r\n         */\r\n        _mouseInit: function () {\r\n            var result = this._superApply(arguments);\r\n\r\n            this.element\r\n                .off('mousedown.' + this.widgetName)\r\n                .on('touchstart.' + this.widgetName, this._mouseDown);\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Elements' 'mousedown' event handler polyfill.\r\n         * @override\r\n         */\r\n        _mouseDown: function (event) {\r\n            var prevDelegate = this._mouseMoveDelegate,\r\n                result;\r\n\r\n            event = this._touchToMouse(event);\r\n            result = this._super(event);\r\n\r\n            if (prevDelegate === this._mouseMoveDelegate) {\r\n                return result;\r\n            }\r\n\r\n            $(document)\r\n                .off('mousemove.' + this.widgetName)\r\n                .off('mouseup.' + this.widgetName);\r\n\r\n            $(document)\r\n                .on('touchmove.' + this.widgetName, this._mouseMove)\r\n                .on('touchend.' + this.widgetName, this._onTouchEnd)\r\n                .on('tochleave.' + this.widgetName, this._onTouchEnd);\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Documents' 'mousemove' event handler polyfill.\r\n         *\r\n         * @override\r\n         * @param {Event} event - Touch event object.\r\n         */\r\n        _mouseMove: function (event) {\r\n            event = this._touchToMouse(event);\r\n\r\n            return this._super(event);\r\n        },\r\n\r\n        /**\r\n         * Documents' 'touchend' event handler.\r\n         */\r\n        _onTouchEnd: function (event) {\r\n            $(document).trigger('mouseup');\r\n\r\n            return this._mouseUp(event);\r\n        },\r\n\r\n        /**\r\n         * Removes previously assigned touch handlers.\r\n         *\r\n         * @override\r\n         */\r\n        _mouseUp: function () {\r\n            this._removeTouchHandlers();\r\n\r\n            return this._superApply(arguments);\r\n        },\r\n\r\n        /**\r\n         * Removes previously assigned touch handlers.\r\n         *\r\n         * @override\r\n         */\r\n        _mouseDestroy: function () {\r\n            this._removeTouchHandlers();\r\n\r\n            return this._superApply(arguments);\r\n        },\r\n\r\n        /**\r\n         * Removes touch events from document object.\r\n         */\r\n        _removeTouchHandlers: function () {\r\n            $(document)\r\n                .off('touchmove.' + this.widgetName)\r\n                .off('touchend.' + this.widgetName)\r\n                .off('touchleave.' + this.widgetName);\r\n        },\r\n\r\n        /**\r\n         * Adds properties to the touch event to mimic mouse event.\r\n         *\r\n         * @param {Event} event - Touch event object.\r\n         * @returns {Event}\r\n         */\r\n        _touchToMouse: function (event) {\r\n            var orig = event.originalEvent,\r\n                touch = orig.touches[0];\r\n\r\n            return _.extend(event, {\r\n                which:      1,\r\n                pageX:      touch.pageX,\r\n                pageY:      touch.pageY,\r\n                clientX:    touch.clientX,\r\n                clientY:    touch.clientY,\r\n                screenX:    touch.screenX,\r\n                screenY:    touch.screenY\r\n            });\r\n        }\r\n    });\r\n\r\n    sliderFn = 'touchSlider';\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/resizable.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    'jquery',\r\n    'Magento_Ui/js/lib/view/utils/async',\r\n    'uiRegistry',\r\n    'underscore',\r\n    '../template/renderer',\r\n    'jquery/ui'\r\n], function (ko, $, async, registry, _, renderer) {\r\n    'use strict';\r\n\r\n    var sizeOptions = [\r\n            'minHeight',\r\n            'maxHeight',\r\n            'minWidth',\r\n            'maxWidth'\r\n        ],\r\n\r\n        handles = {\r\n            height: '.ui-resizable-s, .ui-resizable-n',\r\n            width: '.ui-resizable-w, .ui-resizable-e'\r\n        };\r\n\r\n    /**\r\n     * Recalcs visibility of handles, width and height of resizable based on content\r\n     * @param {HTMLElement} element\r\n     */\r\n    function adjustSize(element) {\r\n        var maxHeight,\r\n            maxWidth;\r\n\r\n        element = $(element);\r\n        maxHeight = element.resizable('option').maxHeight;\r\n        maxWidth = element.resizable('option').maxWidth;\r\n\r\n        if (maxHeight && element.height() > maxHeight) {\r\n            element.height(maxHeight + 1);\r\n            $(handles.height).hide();\r\n        } else {\r\n            $(handles.height).show();\r\n        }\r\n\r\n        if (maxWidth && element.width() > maxWidth) {\r\n            element.width(maxWidth + 1);\r\n            $(handles.width).hide();\r\n        } else {\r\n            $(handles.width).show();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Recalcs allowed min, max width and height based on configured selectors\r\n     * @param {Object} sizeConstraints\r\n     * @param {String} componentName\r\n     * @param {HTMLElement} element\r\n     * @param {Boolean} hasWidthUpdate\r\n     */\r\n    function recalcAllowedSize(sizeConstraints, componentName, element, hasWidthUpdate) {\r\n        var size;\r\n\r\n        element = $(element);\r\n\r\n        if (!element.data('resizable')) {\r\n            return;\r\n        }\r\n\r\n        if (!hasWidthUpdate) {\r\n            element.css('width', 'auto');\r\n        }\r\n\r\n        _.each(sizeConstraints, function (selector, key) {\r\n            async.async({\r\n                component: componentName,\r\n                selector: selector\r\n            }, function (elem) {\r\n                size = key.indexOf('Height') !== -1 ? $(elem).outerHeight(true) : $(elem).outerWidth(true);\r\n\r\n                if (element.data('resizable')) {\r\n                    element.resizable('option', key, size + 1);\r\n                }\r\n            });\r\n        }, this);\r\n\r\n        adjustSize(element);\r\n    }\r\n\r\n    /**\r\n     * Preprocess config to separate options,\r\n     * which must be processed further before applying\r\n     *\r\n     * @param {Object} config\r\n     * @param {Object} viewModel\r\n     * @param {*} element\r\n     * @return {Object} config\r\n     */\r\n    function processConfig(config, viewModel, element) {\r\n        var sizeConstraint,\r\n            sizeConstraints = {},\r\n            recalc,\r\n            hasWidthUpdate;\r\n\r\n        if (_.isEmpty(config)) {\r\n            return {};\r\n        }\r\n        _.each(sizeOptions, function (key) {\r\n            sizeConstraint = config[key];\r\n\r\n            if (sizeConstraint && !_.isNumber(sizeConstraint)) {\r\n                sizeConstraints[key] = sizeConstraint;\r\n                delete config[key];\r\n            }\r\n        });\r\n        hasWidthUpdate =  _.some(sizeConstraints, function (value, key) {\r\n            return key.indexOf('Width') !== -1;\r\n        });\r\n\r\n        recalc = recalcAllowedSize.bind(null, sizeConstraints, viewModel.name, element, hasWidthUpdate);\r\n        config.start = recalc;\r\n        $(window).on('resize.resizable', recalc);\r\n        registry.get(viewModel.provider).on('reloaded', recalc);\r\n\r\n        return config;\r\n    }\r\n\r\n    ko.bindingHandlers.resizable = {\r\n\r\n        /**\r\n         * Binding init callback.\r\n         *\r\n         * @param {*} element\r\n         * @param {Function} valueAccessor\r\n         * @param {Function} allBindings\r\n         * @param {Object} viewModel\r\n         */\r\n        init: function (element, valueAccessor, allBindings, viewModel) {\r\n            var config = processConfig(valueAccessor(), viewModel, element);\r\n\r\n            $(element).resizable(config);\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('resizable');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/scope.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/** Creates scope binding and registers in to ko.bindingHandlers object */\r\ndefine([\r\n    'ko',\r\n    'uiRegistry',\r\n    'mage/translate',\r\n    '../template/renderer',\r\n    'jquery',\r\n    '../../logger/console-logger'\r\n], function (ko, registry, $t, renderer, $, consoleLogger) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Creates child context with passed component param as $data. Extends context with $t helper.\r\n     * Applies bindings to descendant nodes.\r\n     * @param {HTMLElement} el - element to apply bindings to.\r\n     * @param {ko.bindingContext} bindingContext - instance of ko.bindingContext, passed to binding initially.\r\n     * @param {Promise} promise - instance of jQuery promise\r\n     * @param {Object} component - component instance to attach to new context\r\n     */\r\n    function applyComponents(el, bindingContext, promise, component) {\r\n        promise.resolve();\r\n        component = bindingContext.createChildContext(component);\r\n\r\n        ko.utils.extend(component, {\r\n            $t: $t\r\n        });\r\n\r\n        ko.utils.arrayForEach(el.childNodes, ko.cleanNode);\r\n\r\n        ko.applyBindingsToDescendants(component, el);\r\n    }\r\n\r\n    ko.bindingHandlers.scope = {\r\n\r\n        /**\r\n         * Scope binding's init method.\r\n         * @returns {Object} - Knockout declaration for it to let binding control descendants.\r\n         */\r\n        init: function () {\r\n            return {\r\n                controlsDescendantBindings: true\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Reads params passed to binding, parses component declarations.\r\n         * Fetches for those found and attaches them to the new context.\r\n         * @param {HTMLElement} el - Element to apply bindings to.\r\n         * @param {Function} valueAccessor - Function that returns value, passed to binding.\r\n         * @param {Object} allBindings - Object, which represents all bindings applied to element.\r\n         * @param {Object} viewModel - Object, which represents view model binded to el.\r\n         * @param {ko.bindingContext} bindingContext - Instance of ko.bindingContext, passed to binding initially.\r\n         */\r\n        update: function (el, valueAccessor, allBindings, viewModel, bindingContext) {\r\n            var component = valueAccessor(),\r\n                promise = $.Deferred(),\r\n                apply = applyComponents.bind(this, el, bindingContext, promise),\r\n                loggerUtils = consoleLogger.utils;\r\n\r\n            if (typeof component === 'string') {\r\n                loggerUtils.asyncLog(\r\n                    promise,\r\n                    {\r\n                        data: {\r\n                            component: component\r\n                        },\r\n                        messages: loggerUtils.createMessages(\r\n                            'requestingComponent',\r\n                            'requestingComponentIsLoaded',\r\n                            'requestingComponentIsFailed'\r\n                        )\r\n                    }\r\n                );\r\n\r\n                registry.get(component, apply);\r\n            } else if (typeof component === 'function') {\r\n                component(apply);\r\n            }\r\n        }\r\n    };\r\n\r\n    ko.virtualElements.allowedBindings.scope = true;\r\n\r\n    renderer\r\n        .addNode('scope')\r\n        .addAttribute('scope', {\r\n            name: 'ko-scope'\r\n        });\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/simple-checked.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.simpleChecked = {\r\n        'after': ['attr'],\r\n\r\n        /**\r\n         * Implements same functionality as a standard 'simpleChecked' binding,\r\n         * but with a difference that it wont' change values array if\r\n         * value of DOM element changes.\r\n         */\r\n        init: function (element, valueAccessor) {\r\n            var isCheckbox = element.type === 'checkbox',\r\n                isRadio = element.type === 'radio',\r\n                updateView,\r\n                updateModel;\r\n\r\n            if (!isCheckbox && !isRadio) {\r\n                return;\r\n            }\r\n\r\n            /**\r\n             * Updates checked observable\r\n             */\r\n            updateModel = function () {\r\n                var  modelValue = ko.dependencyDetection.ignore(valueAccessor),\r\n                    isChecked = element.checked;\r\n\r\n                if (ko.computedContext.isInitial()) {\r\n                    return;\r\n                }\r\n\r\n                if (modelValue.peek() === isChecked) {\r\n                    return;\r\n                }\r\n\r\n                if (isRadio && !isChecked) {\r\n                    return;\r\n                }\r\n\r\n                modelValue(isChecked);\r\n            };\r\n\r\n            /**\r\n             * Updates checkbox state\r\n             */\r\n            updateView = function () {\r\n                var modelValue = ko.utils.unwrapObservable(valueAccessor());\r\n\r\n                element.checked = !!modelValue;\r\n            };\r\n\r\n            ko.utils.registerEventHandler(element, 'change', updateModel);\r\n\r\n            ko.computed(updateModel, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n            ko.computed(updateView, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n        }\r\n    };\r\n\r\n    ko.expressionRewriting._twoWayBindings.simpleChecked = true;\r\n\r\n    renderer.addAttribute('simpleChecked');\r\n    renderer.addAttribute('simple-checked', {\r\n        binding: 'simpleChecked'\r\n    });\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/staticChecked.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'ko',\r\n    '../template/renderer'\r\n], function (ko, renderer) {\r\n    'use strict';\r\n\r\n    ko.bindingHandlers.staticChecked = {\r\n        'after': ['value', 'attr'],\r\n\r\n        /**\r\n         * Implements same functionality as a standard 'checked' binding,\r\n         * but with a difference that it wont' change values array if\r\n         * value of DOM element changes.\r\n         */\r\n        init: function (element, valueAccessor, allBindings) {\r\n            var isCheckbox = element.type === 'checkbox',\r\n                isRadio = element.type === 'radio',\r\n                isValueArray,\r\n                oldElemValue,\r\n                useCheckedValue,\r\n                checkedValue,\r\n                updateModel,\r\n                updateView;\r\n\r\n            if (!isCheckbox && !isRadio) {\r\n                return;\r\n            }\r\n\r\n            checkedValue = ko.pureComputed(function () {\r\n                if (allBindings.has('checkedValue')) {\r\n                    return ko.utils.unwrapObservable(allBindings.get('checkedValue'));\r\n                } else if (allBindings.has('value')) {\r\n                    return ko.utils.unwrapObservable(allBindings.get('value'));\r\n                }\r\n\r\n                return element.value;\r\n            });\r\n\r\n            isValueArray = isCheckbox && ko.utils.unwrapObservable(valueAccessor()) instanceof Array;\r\n            oldElemValue = isValueArray ? checkedValue() : undefined;\r\n            useCheckedValue = isRadio || isValueArray;\r\n\r\n            /**\r\n             * Updates values array if it's necessary.\r\n             */\r\n            updateModel = function () {\r\n                var isChecked = element.checked,\r\n                    elemValue = useCheckedValue ? checkedValue() : isChecked,\r\n                    modelValue;\r\n\r\n                if (ko.computedContext.isInitial()) {\r\n                    return;\r\n                }\r\n\r\n                if (isRadio && !isChecked) {\r\n                    return;\r\n                }\r\n\r\n                modelValue = ko.dependencyDetection.ignore(valueAccessor);\r\n\r\n                if (isValueArray) {\r\n                    if (oldElemValue !== elemValue) {\r\n                        oldElemValue = elemValue;\r\n                    } else {\r\n                        ko.utils.addOrRemoveItem(modelValue, elemValue, isChecked);\r\n                    }\r\n                } else {\r\n                    ko.expressionRewriting.writeValueToProperty(modelValue, allBindings, 'checked', elemValue, true);\r\n                }\r\n            };\r\n\r\n            /**\r\n             * Updates checkbox state.\r\n             */\r\n            updateView = function () {\r\n                var modelValue = ko.utils.unwrapObservable(valueAccessor());\r\n\r\n                if (isValueArray) {\r\n                    element.checked = ko.utils.arrayIndexOf(modelValue, checkedValue()) >= 0;\r\n                } else if (isCheckbox) {\r\n                    element.checked = modelValue;\r\n                } else {\r\n                    element.checked = checkedValue() === modelValue;\r\n                }\r\n            };\r\n\r\n            ko.computed(updateModel, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n\r\n            ko.utils.registerEventHandler(element, 'click', updateModel);\r\n\r\n            ko.computed(updateView, null, {\r\n                disposeWhenNodeIsRemoved: element\r\n            });\r\n        }\r\n    };\r\n\r\n    ko.expressionRewriting._twoWayBindings.staticChecked = true;\r\n\r\n    renderer.addAttribute('staticChecked');\r\n});\r\n","Magento_Ui/js/lib/knockout/bindings/tooltip.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'ko',\r\n    'underscore',\r\n    'mage/template',\r\n    'text!ui/template/tooltip/tooltip.html',\r\n    '../template/renderer'\r\n], function ($, ko, _, template, tooltipTmpl, renderer) {\r\n    'use strict';\r\n\r\n    var tooltip,\r\n        defaults,\r\n        positions,\r\n        transformProp,\r\n        checkedPositions = {},\r\n        iterator = 0,\r\n        previousTooltip,\r\n        tooltipData,\r\n        positionData = {},\r\n        tooltipsCollection = {},\r\n        isTouchDevice = (function () {\r\n            return 'ontouchstart' in document.documentElement;\r\n        })(),\r\n        CLICK_EVENT = (function () {\r\n            return isTouchDevice ? 'touchstart' : 'click';\r\n        })();\r\n\r\n    defaults = {\r\n        tooltipWrapper: '[data-tooltip=tooltip-wrapper]',\r\n        tooltipContentBlock: 'data-tooltip-content',\r\n        closeButtonClass: 'action-close',\r\n        tailClass: 'data-tooltip-tail',\r\n        action: 'hover',\r\n        delay: 300,\r\n        track: false,\r\n        step: 20,\r\n        position: 'top',\r\n        closeButton: false,\r\n        showed: false,\r\n        strict: true,\r\n        center: false,\r\n        closeOnScroll: true\r\n    };\r\n\r\n    tooltipData = {\r\n        tooltipClasses: '',\r\n        trigger: false,\r\n        timeout: 0,\r\n        element: false,\r\n        event: false,\r\n        targetElement: {},\r\n        showed: false,\r\n        currentID: 0\r\n    };\r\n\r\n    /**\r\n     * Polyfill for css transform\r\n     */\r\n    transformProp = (function () {\r\n        var style = document.createElement('div').style,\r\n            base = 'Transform',\r\n            vendors = ['webkit', 'moz', 'ms', 'o'],\r\n            vi = vendors.length,\r\n            property;\r\n\r\n        if (typeof style.transform !== 'undefined') {\r\n            return 'transform';\r\n        }\r\n\r\n        while (vi--) {\r\n            property = vendors[vi] + base;\r\n\r\n            if (typeof style[property] !== 'undefined') {\r\n                return property;\r\n            }\r\n        }\r\n    })();\r\n\r\n    positions = {\r\n\r\n        /*eslint max-depth: [0, 0]*/\r\n\r\n        map: {\r\n            horizontal: {\r\n                s: 'w',\r\n                p: 'left'\r\n            },\r\n            vertical: {\r\n                s: 'h',\r\n                p: 'top'\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        top: function (s) {\r\n            return positions._topLeftChecker(s, positions.map, 'vertical', '_bottom', 'top', 'right');\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        left: function (s) {\r\n            return positions._topLeftChecker(s, positions.map, 'horizontal', '_right', 'left', 'top');\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        bottom: function (s) {\r\n            return positions._bottomRightChecker(s, positions.map, 'vertical', '_top', 'bottom', 'left');\r\n        },\r\n\r\n        /**\r\n         * Wrapper function to get tooltip data (position, className, etc)\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        right: function (s) {\r\n            return positions._bottomRightChecker(s, positions.map, 'horizontal', '_left', 'right', 'bottom');\r\n        },\r\n\r\n        /**\r\n         * Check can tooltip setted on current position or not. If can't setted - delegate call.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {String} className - class whats should be setted to tooltip\r\n         * @param {String} side - parent method name\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _topLeftChecker: function (s, map, direction, className, side, delegate) {\r\n            var result = {\r\n                    position: {}\r\n                },\r\n                config = tooltip.getTooltip(tooltipData.currentID),\r\n                startPosition = !config.strict ? s.eventPosition : s.elementPosition,\r\n                changedDirection;\r\n\r\n            checkedPositions[side] = true;\r\n\r\n            if (\r\n                startPosition[map[direction].p] - s.tooltipSize[map[direction].s] - config.step >\r\n                s.scrollPosition[map[direction].p]\r\n            ) {\r\n                result.position[map[direction].p] = startPosition[map[direction].p] - s.tooltipSize[map[direction].s] -\r\n                    config.step;\r\n                result.className = className;\r\n                result.side = side;\r\n                changedDirection = direction === 'vertical' ? 'horizontal' : 'vertical';\r\n                result = positions._normalize(s, result, config, delegate, map, changedDirection);\r\n            } else if (!checkedPositions[delegate]) {\r\n                result = positions[delegate].apply(null, arguments);\r\n            } else {\r\n                result = positions.positionCenter(s, result);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Check can tooltip setted on current position or not. If can't setted - delegate call.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {String} className - class whats should be setted to tooltip\r\n         * @param {String} side - parent method name\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _bottomRightChecker: function (s, map, direction, className, side, delegate) {\r\n            var result = {\r\n                    position: {}\r\n                },\r\n                config = tooltip.getTooltip(tooltipData.currentID),\r\n                startPosition = !config.strict ? s.eventPosition : {\r\n                    top: s.elementPosition.top + s.elementSize.h,\r\n                    left: s.elementPosition.left + s.elementSize.w\r\n                },\r\n                changedDirection;\r\n\r\n            checkedPositions[side] = true;\r\n\r\n            if (\r\n                startPosition[map[direction].p] + s.tooltipSize[map[direction].s] + config.step <\r\n                s.scrollPosition[map[direction].p] + s.windowSize[map[direction].s]\r\n            ) {\r\n                result.position[map[direction].p] = startPosition[map[direction].p] + config.step;\r\n                result.className = className;\r\n                result.side = side;\r\n                changedDirection = direction === 'vertical' ? 'horizontal' : 'vertical';\r\n                result = positions._normalize(s, result, config, delegate, map, changedDirection);\r\n            } else if (!checkedPositions[delegate]) {\r\n                result = positions[delegate].apply(null, arguments);\r\n            } else {\r\n                result = positions.positionCenter(s, result);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Centered tooltip if tooltip does not fit in window\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        positionCenter: function (s, data) {\r\n            data = positions._positionCenter(s, data, 'horizontal', positions.map);\r\n            data = positions._positionCenter(s, data, 'vertical', positions.map);\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Centered tooltip side\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _positionCenter: function (s, data, direction, map) {\r\n            if (s.tooltipSize[map[direction].s] < s.windowSize[map[direction].s]) {\r\n                data.position[map[direction].p] = (s.windowSize[map[direction].s] -\r\n                    s.tooltipSize[map[direction].s]) / 2 + s.scrollPosition[map[direction].p];\r\n            } else {\r\n                data.position[map[direction].p] = s.scrollPosition[map[direction].p];\r\n                data.tooltipSize = {};\r\n                data.tooltipSize[map[direction].s] = s.windowSize[map[direction].s];\r\n            }\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Normalize horizontal or vertical position.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @param {Object} config - tooltip config\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _normalize: function (s, data, config, delegate, map, direction) {\r\n            var startPosition = !config.center ? s.eventPosition : {\r\n                    left: s.elementPosition.left + s.elementSize.w / 2,\r\n                    top: s.elementPosition.top + s.elementSize.h / 2\r\n                },\r\n                depResult;\r\n\r\n            if (startPosition[map[direction].p] - s.tooltipSize[map[direction].s] / 2 >\r\n                s.scrollPosition[map[direction].p] && startPosition[map[direction].p] +\r\n                s.tooltipSize[map[direction].s] / 2 <\r\n                s.scrollPosition[map[direction].p] + s.windowSize[map[direction].s]\r\n            ) {\r\n                data.position[map[direction].p] = startPosition[map[direction].p] - s.tooltipSize[map[direction].s] / 2;\r\n            } else {\r\n\r\n                /*eslint-disable no-lonely-if*/\r\n                if (!checkedPositions[delegate]) {\r\n                    depResult = positions[delegate].apply(null, arguments);\r\n\r\n                    if (depResult.hasOwnProperty('className')) {\r\n                        data = depResult;\r\n                    } else {\r\n                        data = positions._normalizeTail(s, data, config, delegate, map, direction, startPosition);\r\n                    }\r\n                } else {\r\n                    data = positions._normalizeTail(s, data, config, delegate, map, direction, startPosition);\r\n                }\r\n            }\r\n\r\n            return data;\r\n        },\r\n\r\n        /**\r\n         * Calc tail position.\r\n         *\r\n         * @param {Object} s - object with sizes and positions elements\r\n         * @param {Object} data - current data (position, className, etc)\r\n         * @param {Object} config - tooltip config\r\n         * @param {String} delegate - method name if tooltip can't be setted in current position\r\n         * @param {Object} map - mapping for get direction positions\r\n         * @param {String} direction - vertical or horizontal\r\n         * @param {Object} startPosition - start position\r\n         * @returns {Object} tooltip data (position, className, etc)\r\n         */\r\n        _normalizeTail: function (s, data, config, delegate, map, direction, startPosition) {\r\n            data.tail = {};\r\n\r\n            if (s.tooltipSize[map[direction].s] < s.windowSize[map[direction].s]) {\r\n\r\n                if (\r\n                    startPosition[map[direction].p] >\r\n                    s.windowSize[map[direction].s] / 2 + s.scrollPosition[map[direction].p]\r\n                ) {\r\n                    data.position[map[direction].p] = s.windowSize[map[direction].s] +\r\n                        s.scrollPosition[map[direction].p] - s.tooltipSize[map[direction].s];\r\n                    data.tail[map[direction].p] = startPosition[map[direction].p] -\r\n                        s.tooltipSize[map[direction].s] / 2 - data.position[map[direction].p];\r\n                } else {\r\n                    data.position[map[direction].p] = s.scrollPosition[map[direction].p];\r\n                    data.tail[map[direction].p] = startPosition[map[direction].p] -\r\n                        s.tooltipSize[map[direction].s] / 2 - data.position[map[direction].p];\r\n                }\r\n            } else {\r\n                data.position[map[direction].p] = s.scrollPosition[map[direction].p];\r\n                data.tail[map[direction].p] = s.eventPosition[map[direction].p] - s.windowSize[map[direction].s] / 2;\r\n                data.tooltipSize = {};\r\n                data.tooltipSize[map[direction].s] = s.windowSize[map[direction].s];\r\n            }\r\n\r\n            return data;\r\n        }\r\n    };\r\n\r\n    tooltip = {\r\n\r\n        /**\r\n         * Set new tooltip to tooltipCollection, save config, and add unic id\r\n         *\r\n         * @param {Object} config - tooltip config\r\n         * @returns {String} tooltip id\r\n         */\r\n        setTooltip: function (config) {\r\n            var property = 'id-' + iterator;\r\n\r\n            tooltipsCollection[property] = config;\r\n            iterator++;\r\n\r\n            return property;\r\n        },\r\n\r\n        /**\r\n         * Get tooltip config by id\r\n         *\r\n         * @param {String} id - tooltip id\r\n         * @returns {Object} tooltip config\r\n         */\r\n        getTooltip: function (id) {\r\n            return tooltipsCollection[id];\r\n        },\r\n\r\n        /**\r\n         * Set content to current tooltip\r\n         *\r\n         * @param {Object} tooltipElement - tooltip element\r\n         * @param {Object} viewModel - tooltip view model\r\n         * @param {String} id - tooltip id\r\n         * @param {Object} bindingCtx - tooltip context\r\n         * @param {Object} event - action event\r\n         */\r\n        setContent: function (tooltipElement, viewModel, id, bindingCtx, event) {\r\n            var html = $(tooltipElement).html(),\r\n                config = tooltip.getTooltip(id),\r\n                body = $('body');\r\n\r\n            tooltipData.currentID = id;\r\n            tooltipData.trigger = $(event.currentTarget);\r\n            tooltip.setTargetData(event);\r\n            body.on('mousemove.setTargetData', tooltip.setTargetData);\r\n            tooltip.clearTimeout(id);\r\n\r\n            tooltipData.timeout = _.delay(function () {\r\n                body.off('mousemove.setTargetData', tooltip.setTargetData);\r\n\r\n                if (tooltipData.trigger[0] === tooltipData.targetElement) {\r\n                    tooltip.destroy(id);\r\n                    event.stopPropagation();\r\n                    tooltipElement = tooltip.createTooltip(id);\r\n                    tooltipElement.find('.' + defaults.tooltipContentBlock).append(html);\r\n                    tooltipElement.applyBindings(bindingCtx);\r\n                    tooltip.setHandlers(id);\r\n                    tooltip.setPosition(tooltipElement, id);\r\n                    previousTooltip = id;\r\n                }\r\n\r\n            }, config.delay);\r\n        },\r\n\r\n        /**\r\n         * Set position to current tooltip\r\n         *\r\n         * @param {Object} tooltipElement - tooltip element\r\n         * @param {String} id - tooltip id\r\n         */\r\n        setPosition: function (tooltipElement, id) {\r\n            var config = tooltip.getTooltip(id);\r\n\r\n            tooltip.sizeData = {\r\n                windowSize: {\r\n                    h: $(window).outerHeight(),\r\n                    w: $(window).outerWidth()\r\n                },\r\n                scrollPosition: {\r\n                    top: $(window).scrollTop(),\r\n                    left: $(window).scrollLeft()\r\n                },\r\n                tooltipSize: {\r\n                    h: tooltipElement.outerHeight(),\r\n                    w: tooltipElement.outerWidth()\r\n                },\r\n                elementSize: {\r\n                    h: tooltipData.trigger.outerHeight(),\r\n                    w: tooltipData.trigger.outerWidth()\r\n                },\r\n                elementPosition: tooltipData.trigger.offset(),\r\n                eventPosition: this.getEventPosition(tooltipData.event)\r\n            };\r\n\r\n            _.extend(positionData, positions[config.position](tooltip.sizeData));\r\n            tooltipElement.css(positionData.position);\r\n            tooltipElement.addClass(positionData.className);\r\n            tooltip._setTooltipSize(positionData, tooltipElement);\r\n            tooltip._setTailPosition(positionData, tooltipElement);\r\n            checkedPositions = {};\r\n        },\r\n\r\n        /**\r\n         * Check position data and change tooltip size if needs\r\n         *\r\n         * @param {Object} data - position data\r\n         * @param {Object} tooltipElement - tooltip element\r\n         */\r\n        _setTooltipSize: function (data, tooltipElement) {\r\n            if (data.tooltipSize) {\r\n                data.tooltipSize.w ?\r\n                    tooltipElement.css('width', data.tooltipSize.w) :\r\n                    tooltipElement.css('height', data.tooltipSize.h);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check position data and set position to tail\r\n         *\r\n         * @param {Object} data - position data\r\n         * @param {Object} tooltipElement - tooltip element\r\n         */\r\n        _setTailPosition: function (data, tooltipElement) {\r\n            var tail,\r\n                tailMargin;\r\n\r\n            if (data.tail) {\r\n                tail = tooltipElement.find('.' + defaults.tailClass);\r\n\r\n                if (data.tail.left) {\r\n                    tailMargin = parseInt(tail.css('margin-left'), 10);\r\n                    tail.css('margin-left', tailMargin + data.tail.left);\r\n                } else {\r\n                    tailMargin = parseInt(tail.css('margin-top'), 10);\r\n                    tail.css('margin-top', tailMargin + data.tail.top);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Resolves position for tooltip\r\n         *\r\n         * @param {Object} event\r\n         * @returns {Object}\r\n         */\r\n        getEventPosition: function (event) {\r\n            var position = {\r\n                left: event.originalEvent && event.originalEvent.pageX || 0,\r\n                top: event.originalEvent && event.originalEvent.pageY || 0\r\n            };\r\n\r\n            if (position.left === 0 && position.top === 0) {\r\n                _.extend(position, event.target.getBoundingClientRect());\r\n            }\r\n\r\n            return position;\r\n        },\r\n\r\n        /**\r\n         * Close tooltip if action happened outside handler and tooltip element\r\n         *\r\n         * @param {String} id - tooltip id\r\n         * @param {Object} event - action event\r\n         */\r\n        outerClick: function (id, event) {\r\n            var tooltipElement = $(event.target).parents(defaults.tooltipWrapper)[0],\r\n                isTrigger = event.target === tooltipData.trigger[0] || $.contains(tooltipData.trigger[0], event.target);\r\n\r\n            if (tooltipData.showed && tooltipElement !== tooltipData.element[0] && !isTrigger) {\r\n                tooltip.destroy(id);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Parse keydown event and if event trigger is escape key - close tooltip\r\n         *\r\n         * @param {Object} event - action event\r\n         */\r\n        keydownHandler: function (event) {\r\n            if (tooltipData.showed && event.keyCode === 27) {\r\n                tooltip.destroy(tooltipData.currentID);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Change tooltip position when track is enabled\r\n         *\r\n         * @param {Object} event - current event\r\n         */\r\n        track: function (event) {\r\n            var inequality = {},\r\n                map = positions.map,\r\n                translate = {\r\n                    left: 'translateX',\r\n                    top: 'translateY'\r\n                },\r\n                eventPosition = {\r\n                    left: event.pageX,\r\n                    top: event.pageY\r\n                },\r\n                tooltipSize = {\r\n                    w: tooltipData.element.outerWidth(),\r\n                    h: tooltipData.element.outerHeight()\r\n                },\r\n                direction = positionData.side === 'bottom' || positionData.side === 'top' ? 'horizontal' : 'vertical';\r\n\r\n            inequality[map[direction].p] = eventPosition[map[direction].p] - (positionData.position[map[direction].p] +\r\n                tooltipSize[map[direction].s] / 2);\r\n\r\n            if (positionData.position[map[direction].p] + inequality[map[direction].p] +\r\n                tooltip.sizeData.tooltipSize[map[direction].s] >\r\n                tooltip.sizeData.windowSize[map[direction].s] + tooltip.sizeData.scrollPosition[map[direction].p] ||\r\n                inequality[map[direction].p] + positionData.position[map[direction].p] <\r\n                tooltip.sizeData.scrollPosition[map[direction].p]) {\r\n\r\n                return false;\r\n            }\r\n\r\n            tooltipData.element[0].style[transformProp] = translate[map[direction].p] +\r\n                '(' + inequality[map[direction].p] + 'px)';\r\n        },\r\n\r\n        /**\r\n         * Set handlers to tooltip\r\n         *\r\n         * @param {String} id - tooltip id\r\n         */\r\n        setHandlers: function (id) {\r\n            var config = tooltip.getTooltip(id);\r\n\r\n            if (config.track) {\r\n                tooltipData.trigger.on('mousemove.track', tooltip.track);\r\n            }\r\n\r\n            if (config.action === 'click') {\r\n                $(window).on(CLICK_EVENT + '.outerClick', tooltip.outerClick.bind(null, id));\r\n            }\r\n\r\n            if (config.closeButton) {\r\n                $('.' + config.closeButtonClass).on('click.closeButton', tooltip.destroy.bind(null, id));\r\n            }\r\n\r\n            if (config.closeOnScroll) {\r\n                document.addEventListener('scroll', tooltip.destroy, true);\r\n                $(window).on('scroll.tooltip', tooltip.outerClick.bind(null, id));\r\n            }\r\n\r\n            $(window).on('keydown.tooltip', tooltip.keydownHandler);\r\n            $(window).on('resize.outerClick', tooltip.outerClick.bind(null, id));\r\n        },\r\n\r\n        /**\r\n         * Toggle tooltip\r\n         *\r\n         * @param {Object} tooltipElement - tooltip element\r\n         * @param {Object} viewModel - tooltip view model\r\n         * @param {String} id - tooltip id\r\n         */\r\n        toggleTooltip: function (tooltipElement, viewModel, id) {\r\n            if (previousTooltip === id && tooltipData.showed) {\r\n                tooltip.destroy(id);\r\n\r\n                return false;\r\n            }\r\n\r\n            tooltip.setContent.apply(null, arguments);\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Create tooltip and append to DOM\r\n         *\r\n         * @param {String} id - tooltip id\r\n         * @returns {Object} tooltip element\r\n         */\r\n        createTooltip: function (id) {\r\n            var body = $('body'),\r\n                config = tooltip.getTooltip(id);\r\n\r\n            $(template(tooltipTmpl, {\r\n                data: config\r\n            })).appendTo(body);\r\n\r\n            tooltipData.showed = true;\r\n            tooltipData.element = $(config.tooltipWrapper);\r\n\r\n            return tooltipData.element;\r\n        },\r\n\r\n        /**\r\n         * Check action and clean timeout\r\n         *\r\n         * @param {String} id - tooltip id\r\n         */\r\n        clearTimeout: function (id) {\r\n            var config = tooltip.getTooltip(id);\r\n\r\n            if (config.action === 'hover') {\r\n                clearTimeout(tooltipData.timeout);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Check previous tooltip\r\n         */\r\n        checkPreviousTooltip: function () {\r\n            if (!tooltipData.timeout) {\r\n                tooltip.destroy();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Destroy tooltip instance\r\n         */\r\n        destroy: function () {\r\n            if (tooltipData.element) {\r\n                tooltipData.element.remove();\r\n                tooltipData.showed = false;\r\n            }\r\n\r\n            positionData = {};\r\n            tooltipData.timeout = false;\r\n            tooltip.removeHandlers();\r\n        },\r\n\r\n        /**\r\n         * Remove tooltip handlers\r\n         */\r\n        removeHandlers: function () {\r\n            $('.' + defaults.closeButtonClass).off('click.closeButton');\r\n            tooltipData.trigger.off('mousemove.track');\r\n            document.removeEventListener('scroll', tooltip.destroy, true);\r\n            $(window).off('scroll.tooltip');\r\n            $(window).off(CLICK_EVENT + '.outerClick');\r\n            $(window).off('keydown.tooltip');\r\n            $(window).off('resize.outerClick');\r\n        },\r\n\r\n        /**\r\n         * Set target element\r\n         *\r\n         * @param {Object} event - current event\r\n         */\r\n        setTargetData: function (event) {\r\n            tooltipData.event = event;\r\n\r\n            //TODO: bug chrome v.49; Link to issue https://bugs.chromium.org/p/chromium/issues/detail?id=161464\r\n            if (event.timeStamp - (tooltipData.timestamp || 0) < 1) {\r\n                return;\r\n            }\r\n\r\n            if (event.type === 'mousemove') {\r\n                tooltipData.targetElement = event.target;\r\n            } else {\r\n                tooltipData.targetElement = event.currentTarget;\r\n                tooltipData.timestamp = event.timeStamp;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Merged user config with defaults configuration\r\n         *\r\n         * @param {Object} config - user config\r\n         * @returns {Object} merged config\r\n         */\r\n        processingConfig: function (config) {\r\n            return _.extend({}, defaults, config);\r\n        }\r\n    };\r\n\r\n    ko.bindingHandlers.tooltip = {\r\n\r\n        /**\r\n         * Initialize tooltip\r\n         *\r\n         * @param {Object} elem - tooltip DOM element\r\n         * @param {Function} valueAccessor - ko observable property, tooltip data\r\n         * @param {Object} allBindings - all bindings on current element\r\n         * @param {Object} viewModel - current element viewModel\r\n         * @param {Object} bindingCtx - current element binding context\r\n         */\r\n        init: function (elem, valueAccessor, allBindings, viewModel, bindingCtx) {\r\n            var config = tooltip.processingConfig(valueAccessor()),\r\n                $parentScope = config.parentScope ? $(config.parentScope) : $(elem).parent(),\r\n                tooltipId;\r\n\r\n            $(elem).addClass('hidden');\r\n\r\n            if (isTouchDevice) {\r\n                config.action = 'click';\r\n            }\r\n            tooltipId = tooltip.setTooltip(config);\r\n\r\n            if (config.action === 'hover') {\r\n                $parentScope.on(\r\n                    'mouseenter',\r\n                    config.trigger,\r\n                    tooltip.setContent.bind(null, elem, viewModel, tooltipId, bindingCtx)\r\n                );\r\n                $parentScope.on(\r\n                    'mouseleave',\r\n                    config.trigger,\r\n                    tooltip.checkPreviousTooltip.bind(null, tooltipId)\r\n                );\r\n            } else if (config.action === 'click') {\r\n                $parentScope.on(\r\n                    'click',\r\n                    config.trigger,\r\n                    tooltip.toggleTooltip.bind(null, elem, viewModel, tooltipId, bindingCtx)\r\n                );\r\n            }\r\n\r\n            return {\r\n                controlsDescendantBindings: true\r\n            };\r\n        }\r\n    };\r\n\r\n    renderer.addAttribute('tooltip');\r\n});\r\n","Magento_Ui/js/lib/knockout/extender/bound-nodes.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/* global WeakMap */\r\ndefine([\r\n    'ko',\r\n    'underscore',\r\n    'mage/utils/wrapper',\r\n    'uiEvents',\r\n    'es6-collections'\r\n], function (ko, _, wrapper, Events) {\r\n    'use strict';\r\n\r\n    var nodesMap = new WeakMap();\r\n\r\n    /**\r\n     * Returns a array of nodes associated with a specified model.\r\n     *\r\n     * @param {Object} model\r\n     * @returns {Undefined|Array}\r\n     */\r\n    function getBounded(model) {\r\n        return nodesMap.get(model);\r\n    }\r\n\r\n    /**\r\n     * Removes specified node to models' associations list, if it's\r\n     * a root node (node is not a descendant of any previously added nodes).\r\n     * Triggers 'addNode' event.\r\n     *\r\n     * @param {Object} model\r\n     * @param {HTMLElement} node\r\n     */\r\n    function addBounded(model, node) {\r\n        var nodes = getBounded(model),\r\n            isRoot;\r\n\r\n        if (!nodes) {\r\n            nodesMap.set(model, [node]);\r\n\r\n            Events.trigger.call(model, 'addNode', node);\r\n\r\n            return;\r\n        }\r\n\r\n        isRoot = nodes.every(function (bounded) {\r\n            return !bounded.contains(node);\r\n        });\r\n\r\n        if (isRoot) {\r\n            nodes.push(node);\r\n\r\n            Events.trigger.call(model, 'addNode', node);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes specified node from models' associations list.\r\n     * Triggers 'removeNode' event.\r\n     *\r\n     * @param {Object} model\r\n     * @param {HTMLElement} node\r\n     */\r\n    function removeBounded(model, node) {\r\n        var nodes = getBounded(model),\r\n            index;\r\n\r\n        if (!nodes) {\r\n            return;\r\n        }\r\n\r\n        index = nodes.indexOf(node);\r\n\r\n        if (~index) {\r\n            nodes.splice(index, 0);\r\n\r\n            Events.trigger.call(model, 'removeNode', node);\r\n        }\r\n\r\n        if (!nodes.length) {\r\n            nodesMap.delete(model);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns node's first sibling of 'element' type within the common component scope\r\n     *\r\n     * @param {HTMLElement} node\r\n     * @param {*} data\r\n     * @returns {HTMLElement}\r\n     */\r\n    function getElement(node, data) {\r\n        var elem;\r\n\r\n        while (node.nextElementSibling) {\r\n            node = node.nextElementSibling;\r\n\r\n            if (node.nodeType === 1 && ko.dataFor(node) === data) {\r\n                elem = node;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return elem;\r\n    }\r\n\r\n    wrapper.extend(ko, {\r\n\r\n        /**\r\n         * Extends knockouts' 'applyBindings'\r\n         * to track nodes associated with model.\r\n         *\r\n         * @param {Function} orig - Original 'applyBindings' method.\r\n         * @param {Object} ctx\r\n         * @param {HTMLElement} node - Original 'applyBindings' method.\r\n         */\r\n        applyBindings: function (orig, ctx, node) {\r\n            var result = orig(),\r\n                data = ctx && (ctx.$data || ctx);\r\n\r\n            if (node && node.nodeType === 8) {\r\n                node = getElement(node, data);\r\n            }\r\n\r\n            if (!node || node.nodeType !== 1) {\r\n                return result;\r\n            }\r\n\r\n            if (data && data.registerNodes) {\r\n                addBounded(data, node);\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * Extends knockouts' cleanNode\r\n         * to track nodes associated with model.\r\n         *\r\n         * @param {Function} orig - Original 'cleanNode' method.\r\n         * @param {HTMLElement} node - Original 'cleanNode' method.\r\n         */\r\n        cleanNode: function (orig, node) {\r\n            var result = orig(),\r\n                data;\r\n\r\n            if (node.nodeType !== 1) {\r\n                return result;\r\n            }\r\n\r\n            data = ko.dataFor(node);\r\n\r\n            if (data && data.registerNodes) {\r\n                removeBounded(data, node);\r\n            }\r\n\r\n            return result;\r\n        }\r\n    });\r\n\r\n    return {\r\n\r\n        /**\r\n         * Returns root nodes associated with a model. If callback is provided,\r\n         * will iterate through all of the present nodes triggering callback\r\n         * for each of it. Also it will subscribe to the 'addNode' event.\r\n         *\r\n         * @param {Object} model\r\n         * @param {Function} [callback]\r\n         * @returns {Array|Undefined}\r\n         */\r\n        get: function (model, callback) {\r\n            var nodes = getBounded(model) || [];\r\n\r\n            if (!_.isFunction(callback)) {\r\n                return nodes;\r\n            }\r\n\r\n            nodes.forEach(function (node) {\r\n                callback(node);\r\n            });\r\n\r\n            this.add.apply(this, arguments);\r\n        },\r\n\r\n        /**\r\n         * Subscribes to adding of nodes associated with a model.\r\n         *\r\n         * @param {Object} model\r\n         */\r\n        add: function (model) {\r\n            var args = _.toArray(arguments).slice(1);\r\n\r\n            args.unshift('addNode');\r\n\r\n            Events.on.apply(model, args);\r\n        },\r\n\r\n        /**\r\n         * Subscribes to removal of nodes associated with a model.\r\n         *\r\n         * @param {Object} model\r\n         */\r\n        remove: function (model) {\r\n            var args = _.toArray(arguments).slice(1);\r\n\r\n            args.unshift('removeNode');\r\n\r\n            Events.on.apply(model, args);\r\n        },\r\n\r\n        /**\r\n         * Removes subscriptions from the model.\r\n         *\r\n         * @param {Object} model\r\n         */\r\n        off: function (model) {\r\n            var args = _.toArray(arguments).slice(1);\r\n\r\n            Events.off.apply(model, args);\r\n        }\r\n    };\r\n});\r\n","Magento_Ui/js/lib/knockout/extender/observable_array.js":"/**\r\n * Copyright \u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'ko',\r\n    'underscore'\r\n], function (ko, _) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Iterator function.\r\n     *\r\n     * @param {String} callback\r\n     * @param {Array} args\r\n     * @param {Object} elem\r\n     * @returns {*}\r\n     */\r\n    function iterator(callback, args, elem) {\r\n        callback = elem[callback];\r\n\r\n        if (_.isFunction(callback)) {\r\n            return callback.apply(elem, args);\r\n        }\r\n\r\n        return callback;\r\n    }\r\n\r\n    /**\r\n     * Wrapper function.\r\n     *\r\n     * @param {String} method\r\n     * @returns {Function}\r\n     */\r\n    function wrapper(method) {\r\n        return function (iteratee) {\r\n            var callback = iteratee,\r\n                elems = this(),\r\n                args = _.toArray(arguments);\r\n\r\n            if (_.isString(iteratee)) {\r\n                callback = iterator.bind(null, iteratee, args.slice(1));\r\n\r\n                args.unshift(callback);\r\n            }\r\n\r\n            args.unshift(elems);\r\n\r\n            return _[method].apply(_, args);\r\n        };\r\n    }\r\n\r\n    _.extend(ko.observableArray.fn, {\r\n        each: wrapper('each'),\r\n\r\n        map: wrapper('map'),\r\n\r\n        filter: wrapper('filter'),\r\n\r\n        some: wrapper('some'),\r\n\r\n        every: wrapper('every'),\r\n\r\n        groupBy: wrapper('groupBy'),\r\n\r\n        sortBy: wrapper('sortBy'),\r\n\r\n        /**\r\n         * Wrapper for underscore findWhere function.\r\n         *\r\n         * @param {Object} properties\r\n         * @return {Object}\r\n         */\r\n        findWhere: function (properties) {\r\n            return _.findWhere(this(), properties);\r\n        },\r\n\r\n        /**\r\n         * Wrapper for underscore contains function.\r\n         *\r\n         * @param {*} value\r\n         * @return {Boolean}\r\n         */\r\n        contains: function (value) {\r\n            return _.contains(this(), value);\r\n        },\r\n\r\n        /**\r\n         * Inverse contains call.\r\n         *\r\n         * @return {Boolean}\r\n         */\r\n        hasNo: function () {\r\n            return !this.contains.apply(this, arguments);\r\n        },\r\n\r\n        /**\r\n         * Getter for length property.\r\n         *\r\n         * @return {Number}\r\n         */\r\n        getLength: function () {\r\n            return this().length;\r\n        },\r\n\r\n        /**\r\n         * Create object with keys that gets from each object property.\r\n         *\r\n         * @return {Object}\r\n         */\r\n        indexBy: function (key) {\r\n            return _.indexBy(this(), key);\r\n        },\r\n\r\n        /**\r\n         * Returns a copy of the array with all instances of the values removed.\r\n         *\r\n         * @return {Array}\r\n         */\r\n        without: function () {\r\n            var args = Array.prototype.slice.call(arguments);\r\n\r\n            args.unshift(this());\r\n\r\n            return _.without.apply(_, args);\r\n        },\r\n\r\n        /**\r\n         * Returns the first element of an array.\r\n         *\r\n         * @return {*}\r\n         */\r\n        first: function () {\r\n            return _.first(this());\r\n        },\r\n\r\n        /**\r\n         * Returns the last element of an array\r\n         *\r\n         * @return {*}\r\n         */\r\n        last: function () {\r\n            return _.last(this());\r\n        },\r\n\r\n        /**\r\n         * Iterate and pick provided properties.\r\n         *\r\n         * @return {Array}\r\n         */\r\n        pluck: function () {\r\n            var args = Array.prototype.slice.call(arguments);\r\n\r\n            args.unshift(this());\r\n\r\n            return _.pluck.apply(_, args);\r\n        }\r\n    });\r\n});\r\n"}
}});
